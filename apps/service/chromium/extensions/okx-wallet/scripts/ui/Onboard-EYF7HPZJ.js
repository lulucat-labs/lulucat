import{c as xo}from"./chunk-564T6VYV.js";import{a as To}from"./chunk-N3XCLKS2.js";import{a as Er}from"./chunk-46OYQ6W4.js";import{c as Ao}from"./chunk-WN5ZMYXK.js";import{a as So}from"./chunk-V6GEMJBN.js";import{a as Co}from"./chunk-7SQ3GPJR.js";import{a as Eo}from"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import{C as ke,qa as br}from"./chunk-ZV6IBWDM.js";import{a as lo}from"./chunk-FYE3XUPR.js";import{d as wo,e as yo,g as wr,h as yr}from"./chunk-QJFOLFSE.js";import{a as bo}from"./chunk-MZFOYMI4.js";import{A as ho,B as go}from"./chunk-WSXZYUQ4.js";import{q as pe}from"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as _o}from"./chunk-AUURQ3HI.js";import{cc as ka}from"./chunk-B32MCU7F.js";import"./chunk-QCINCBGO.js";import"./chunk-VOLYN562.js";import{a as Ma}from"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-OWU5GWTN.js";import"./chunk-2BGRD7AD.js";import"./chunk-ELX2GHLL.js";import{c as se}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{H as wt,I as yt,d as po,g as Je,o as mo,q as gr,r as _r}from"./chunk-E44TZGUB.js";import{K as oo,oa as Na}from"./chunk-KBQXBPIW.js";import{A as co,L as uo,O as J,a as hr,b as so,i as io,v as ao,w as R}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{H as fo,T as Ke,ca as oe}from"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as q}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{c as A,f as v,o as u,p as m,q as l}from"./chunk-FJHLV356.js";var xr=A((bd,Ct)=>{u();l();(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var o="",s=0;s<arguments.length;s++){var i=arguments[s];i&&(o=n(o,r(i)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var i in o)e.call(o,i)&&o[i]&&(s=n(s,i));return s}function n(o,s){return s?o?o+" "+s:o+s:o}typeof Ct<"u"&&Ct.exports?(t.default=t,Ct.exports=t):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return t}):window.classNames=t})()});var Ai=A((Tg,Si)=>{u();l();Si.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var ge=A(Re=>{u();l();var Bn,Ol=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Re.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Re.getSymbolTotalCodewords=function(t){return Ol[t]};Re.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Re.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Bn=t};Re.isKanjiModeEnabled=function(){return typeof Bn<"u"};Re.toSJIS=function(t){return Bn(t)}});var tr=A(V=>{u();l();V.L={bit:1};V.M={bit:0};V.Q={bit:3};V.H={bit:2};function Ul(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return V.L;case"m":case"medium":return V.M;case"q":case"quartile":return V.Q;case"h":case"high":return V.H;default:throw new Error("Unknown EC Level: "+e)}}V.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};V.from=function(t,r){if(V.isValid(t))return t;try{return Ul(t)}catch{return r}}});var Ri=A((Lg,Ti)=>{u();l();function xi(){this.buffer=[],this.length=0}xi.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};Ti.exports=xi});var Ii=A((Ug,vi)=>{u();l();function ft(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ft.prototype.set=function(e,t,r,n){let o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)};ft.prototype.get=function(e,t){return this.data[e*this.size+t]};ft.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};ft.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};vi.exports=ft});var Bi=A(rr=>{u();l();var ql=ge().getSymbolSize;rr.getRowColCoords=function(t){if(t===1)return[];let r=Math.floor(t/7)+2,n=ql(t),o=n===145?26:Math.ceil((n-13)/(2*r-2))*2,s=[n-7];for(let i=1;i<r-1;i++)s[i]=s[i-1]-o;return s.push(6),s.reverse()};rr.getPositions=function(t){let r=[],n=rr.getRowColCoords(t),o=n.length;for(let s=0;s<o;s++)for(let i=0;i<o;i++)s===0&&i===0||s===0&&i===o-1||s===o-1&&i===0||r.push([n[s],n[i]]);return r}});var ki=A(Ni=>{u();l();var jl=ge().getSymbolSize,Pi=7;Ni.getPositions=function(t){let r=jl(t);return[[0,0],[r-Pi,0],[0,r-Pi]]}});var Mi=A(x=>{u();l();x.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ve={N1:3,N2:3,N3:40,N4:10};x.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};x.from=function(t){return x.isValid(t)?parseInt(t,10):void 0};x.getPenaltyN1=function(t){let r=t.size,n=0,o=0,s=0,i=null,a=null;for(let c=0;c<r;c++){o=s=0,i=a=null;for(let f=0;f<r;f++){let p=t.get(c,f);p===i?o++:(o>=5&&(n+=ve.N1+(o-5)),i=p,o=1),p=t.get(f,c),p===a?s++:(s>=5&&(n+=ve.N1+(s-5)),a=p,s=1)}o>=5&&(n+=ve.N1+(o-5)),s>=5&&(n+=ve.N1+(s-5))}return n};x.getPenaltyN2=function(t){let r=t.size,n=0;for(let o=0;o<r-1;o++)for(let s=0;s<r-1;s++){let i=t.get(o,s)+t.get(o,s+1)+t.get(o+1,s)+t.get(o+1,s+1);(i===4||i===0)&&n++}return n*ve.N2};x.getPenaltyN3=function(t){let r=t.size,n=0,o=0,s=0;for(let i=0;i<r;i++){o=s=0;for(let a=0;a<r;a++)o=o<<1&2047|t.get(i,a),a>=10&&(o===1488||o===93)&&n++,s=s<<1&2047|t.get(a,i),a>=10&&(s===1488||s===93)&&n++}return n*ve.N3};x.getPenaltyN4=function(t){let r=0,n=t.data.length;for(let s=0;s<n;s++)r+=t.data[s];return Math.abs(Math.ceil(r*100/n/5)-10)*ve.N4};function Vl(e,t,r){switch(e){case x.Patterns.PATTERN000:return(t+r)%2===0;case x.Patterns.PATTERN001:return t%2===0;case x.Patterns.PATTERN010:return r%3===0;case x.Patterns.PATTERN011:return(t+r)%3===0;case x.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2===0;case x.Patterns.PATTERN101:return t*r%2+t*r%3===0;case x.Patterns.PATTERN110:return(t*r%2+t*r%3)%2===0;case x.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}x.applyMask=function(t,r){let n=r.size;for(let o=0;o<n;o++)for(let s=0;s<n;s++)r.isReserved(s,o)||r.xor(s,o,Vl(t,s,o))};x.getBestMask=function(t,r){let n=Object.keys(x.Patterns).length,o=0,s=1/0;for(let i=0;i<n;i++){r(i),x.applyMask(i,t);let a=x.getPenaltyN1(t)+x.getPenaltyN2(t)+x.getPenaltyN3(t)+x.getPenaltyN4(t);x.applyMask(i,t),a<s&&(s=a,o=i)}return o}});var Nn=A(Pn=>{u();l();var _e=tr(),nr=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],or=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Pn.getBlocksCount=function(t,r){switch(r){case _e.L:return nr[(t-1)*4+0];case _e.M:return nr[(t-1)*4+1];case _e.Q:return nr[(t-1)*4+2];case _e.H:return nr[(t-1)*4+3];default:return}};Pn.getTotalCodewordsCount=function(t,r){switch(r){case _e.L:return or[(t-1)*4+0];case _e.M:return or[(t-1)*4+1];case _e.Q:return or[(t-1)*4+2];case _e.H:return or[(t-1)*4+3];default:return}}});var Li=A(ir=>{u();l();var pt=new Uint8Array(512),sr=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)pt[r]=t,sr[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)pt[r]=pt[r-255]})();ir.log=function(t){if(t<1)throw new Error("log("+t+")");return sr[t]};ir.exp=function(t){return pt[t]};ir.mul=function(t,r){return t===0||r===0?0:pt[sr[t]+sr[r]]}});var Di=A(dt=>{u();l();var kn=Li();dt.mul=function(t,r){let n=new Uint8Array(t.length+r.length-1);for(let o=0;o<t.length;o++)for(let s=0;s<r.length;s++)n[o+s]^=kn.mul(t[o],r[s]);return n};dt.mod=function(t,r){let n=new Uint8Array(t);for(;n.length-r.length>=0;){let o=n[0];for(let i=0;i<r.length;i++)n[i]^=kn.mul(r[i],o);let s=0;for(;s<n.length&&n[s]===0;)s++;n=n.slice(s)}return n};dt.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let n=0;n<t;n++)r=dt.mul(r,new Uint8Array([1,kn.exp(n)]));return r}});var qi=A((s_,Ui)=>{u();l();var Oi=Di();function Mn(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Mn.prototype.initialize=function(t){this.degree=t,this.genPoly=Oi.generateECPolynomial(this.degree)};Mn.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(t.length+this.degree);r.set(t);let n=Oi.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){let s=new Uint8Array(this.degree);return s.set(n,o),s}return n};Ui.exports=Mn});var Ln=A(ji=>{u();l();ji.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var Dn=A(fe=>{u();l();var Vi="[0-9]+",Fl="[A-Z $%*+\\-./:]+",mt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";mt=mt.replace(/u/g,"\\u");var $l="(?:(?![A-Z0-9 $%*+\\-./:]|"+mt+`)(?:.|[\r
]))+`;fe.KANJI=new RegExp(mt,"g");fe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fe.BYTE=new RegExp($l,"g");fe.NUMERIC=new RegExp(Vi,"g");fe.ALPHANUMERIC=new RegExp(Fl,"g");var Wl=new RegExp("^"+mt+"$"),Hl=new RegExp("^"+Vi+"$"),zl=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fe.testKanji=function(t){return Wl.test(t)};fe.testNumeric=function(t){return Hl.test(t)};fe.testAlphanumeric=function(t){return zl.test(t)}});var be=A(I=>{u();l();var Gl=Ln(),On=Dn();I.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]};I.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]};I.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]};I.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]};I.MIXED={bit:-1};I.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!Gl.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]};I.getBestModeForData=function(t){return On.testNumeric(t)?I.NUMERIC:On.testAlphanumeric(t)?I.ALPHANUMERIC:On.testKanji(t)?I.KANJI:I.BYTE};I.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};I.isValid=function(t){return t&&t.bit&&t.ccBits};function Kl(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return I.NUMERIC;case"alphanumeric":return I.ALPHANUMERIC;case"kanji":return I.KANJI;case"byte":return I.BYTE;default:throw new Error("Unknown mode: "+e)}}I.from=function(t,r){if(I.isValid(t))return t;try{return Kl(t)}catch{return r}}});var zi=A(Ie=>{u();l();var ar=ge(),Jl=Nn(),Fi=tr(),we=be(),Un=Ln(),Wi=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,$i=ar.getBCHDigit(Wi);function Yl(e,t,r){for(let n=1;n<=40;n++)if(t<=Ie.getCapacity(n,r,e))return n}function Hi(e,t){return we.getCharCountIndicator(e,t)+4}function Ql(e,t){let r=0;return e.forEach(function(n){r+=Hi(n.mode,t)+n.getBitsLength()}),r}function Zl(e,t){for(let r=1;r<=40;r++)if(Ql(e,r)<=Ie.getCapacity(r,t,we.MIXED))return r}Ie.from=function(t,r){return Un.isValid(t)?parseInt(t,10):r};Ie.getCapacity=function(t,r,n){if(!Un.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=we.BYTE);let o=ar.getSymbolTotalCodewords(t),s=Jl.getTotalCodewordsCount(t,r),i=(o-s)*8;if(n===we.MIXED)return i;let a=i-Hi(n,t);switch(n){case we.NUMERIC:return Math.floor(a/10*3);case we.ALPHANUMERIC:return Math.floor(a/11*2);case we.KANJI:return Math.floor(a/13);case we.BYTE:default:return Math.floor(a/8)}};Ie.getBestVersionForData=function(t,r){let n,o=Fi.from(r,Fi.M);if(Array.isArray(t)){if(t.length>1)return Zl(t,o);if(t.length===0)return 1;n=t[0]}else n=t;return Yl(n.mode,n.getLength(),o)};Ie.getEncodedBits=function(t){if(!Un.isValid(t)||t<7)throw new Error("Invalid QR Code version");let r=t<<12;for(;ar.getBCHDigit(r)-$i>=0;)r^=Wi<<ar.getBCHDigit(r)-$i;return t<<12|r}});var Yi=A(Ji=>{u();l();var qn=ge(),Ki=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Xl=1<<14|1<<12|1<<10|1<<4|1<<1,Gi=qn.getBCHDigit(Ki);Ji.getEncodedBits=function(t,r){let n=t.bit<<3|r,o=n<<10;for(;qn.getBCHDigit(o)-Gi>=0;)o^=Ki<<qn.getBCHDigit(o)-Gi;return(n<<10|o)^Xl}});var Zi=A((S_,Qi)=>{u();l();var ef=be();function $e(e){this.mode=ef.NUMERIC,this.data=e.toString()}$e.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};$e.prototype.getLength=function(){return this.data.length};$e.prototype.getBitsLength=function(){return $e.getBitsLength(this.data.length)};$e.prototype.write=function(t){let r,n,o;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),o=parseInt(n,10),t.put(o,10);let s=this.data.length-r;s>0&&(n=this.data.substr(r),o=parseInt(n,10),t.put(o,s*3+1))};Qi.exports=$e});var ea=A((T_,Xi)=>{u();l();var tf=be(),jn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function We(e){this.mode=tf.ALPHANUMERIC,this.data=e}We.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};We.prototype.getLength=function(){return this.data.length};We.prototype.getBitsLength=function(){return We.getBitsLength(this.data.length)};We.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=jn.indexOf(this.data[r])*45;n+=jn.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(jn.indexOf(this.data[r]),6)};Xi.exports=We});var ra=A((I_,ta)=>{u();l();var rf=be();function He(e){this.mode=rf.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}He.getBitsLength=function(t){return t*8};He.prototype.getLength=function(){return this.data.length};He.prototype.getBitsLength=function(){return He.getBitsLength(this.data.length)};He.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};ta.exports=He});var oa=A((N_,na)=>{u();l();var nf=be(),of=ge();function ze(e){this.mode=nf.KANJI,this.data=e}ze.getBitsLength=function(t){return t*13};ze.prototype.getLength=function(){return this.data.length};ze.prototype.getBitsLength=function(){return ze.getBitsLength(this.data.length)};ze.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=of.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};na.exports=ze});var sa=A((L_,Vn)=>{"use strict";u();l();var ht={single_source_shortest_paths:function(e,t,r){var n={},o={};o[t]=0;var s=ht.PriorityQueue.make();s.push(t,0);for(var i,a,c,f,p,h,d,b,y;!s.empty();){i=s.pop(),a=i.value,f=i.cost,p=e[a]||{};for(c in p)p.hasOwnProperty(c)&&(h=p[c],d=f+h,b=o[c],y=typeof o[c]>"u",(y||b>d)&&(o[c]=d,s.push(c,d),n[c]=a))}if(typeof r<"u"&&typeof o[r]>"u"){var g=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(g)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t,o;n;)r.push(n),o=e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=ht.single_source_shortest_paths(e,t,r);return ht.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t=ht.PriorityQueue,r={},n;e=e||{};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r.queue=[],r.sorter=e.sorter||t.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Vn<"u"&&(Vn.exports=ht)});var da=A(Ge=>{u();l();var S=be(),ca=Zi(),ua=ea(),la=ra(),fa=oa(),gt=Dn(),cr=ge(),sf=sa();function ia(e){return unescape(encodeURIComponent(e)).length}function _t(e,t,r){let n=[],o;for(;(o=e.exec(r))!==null;)n.push({data:o[0],index:o.index,mode:t,length:o[0].length});return n}function pa(e){let t=_t(gt.NUMERIC,S.NUMERIC,e),r=_t(gt.ALPHANUMERIC,S.ALPHANUMERIC,e),n,o;return cr.isKanjiModeEnabled()?(n=_t(gt.BYTE,S.BYTE,e),o=_t(gt.KANJI,S.KANJI,e)):(n=_t(gt.BYTE_KANJI,S.BYTE,e),o=[]),t.concat(r,n,o).sort(function(i,a){return i.index-a.index}).map(function(i){return{data:i.data,mode:i.mode,length:i.length}})}function Fn(e,t){switch(t){case S.NUMERIC:return ca.getBitsLength(e);case S.ALPHANUMERIC:return ua.getBitsLength(e);case S.KANJI:return fa.getBitsLength(e);case S.BYTE:return la.getBitsLength(e)}}function af(e){return e.reduce(function(t,r){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}function cf(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];switch(n.mode){case S.NUMERIC:t.push([n,{data:n.data,mode:S.ALPHANUMERIC,length:n.length},{data:n.data,mode:S.BYTE,length:n.length}]);break;case S.ALPHANUMERIC:t.push([n,{data:n.data,mode:S.BYTE,length:n.length}]);break;case S.KANJI:t.push([n,{data:n.data,mode:S.BYTE,length:ia(n.data)}]);break;case S.BYTE:t.push([{data:n.data,mode:S.BYTE,length:ia(n.data)}])}}return t}function uf(e,t){let r={},n={start:{}},o=["start"];for(let s=0;s<e.length;s++){let i=e[s],a=[];for(let c=0;c<i.length;c++){let f=i[c],p=""+s+c;a.push(p),r[p]={node:f,lastCount:0},n[p]={};for(let h=0;h<o.length;h++){let d=o[h];r[d]&&r[d].node.mode===f.mode?(n[d][p]=Fn(r[d].lastCount+f.length,f.mode)-Fn(r[d].lastCount,f.mode),r[d].lastCount+=f.length):(r[d]&&(r[d].lastCount=f.length),n[d][p]=Fn(f.length,f.mode)+4+S.getCharCountIndicator(f.mode,t))}}o=a}for(let s=0;s<o.length;s++)n[o[s]].end=0;return{map:n,table:r}}function aa(e,t){let r,n=S.getBestModeForData(e);if(r=S.from(t,n),r!==S.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+S.toString(r)+`.
 Suggested mode is: `+S.toString(n));switch(r===S.KANJI&&!cr.isKanjiModeEnabled()&&(r=S.BYTE),r){case S.NUMERIC:return new ca(e);case S.ALPHANUMERIC:return new ua(e);case S.KANJI:return new fa(e);case S.BYTE:return new la(e)}}Ge.fromArray=function(t){return t.reduce(function(r,n){return typeof n=="string"?r.push(aa(n,null)):n.data&&r.push(aa(n.data,n.mode)),r},[])};Ge.fromString=function(t,r){let n=pa(t,cr.isKanjiModeEnabled()),o=cf(n),s=uf(o,r),i=sf.find_path(s.map,"start","end"),a=[];for(let c=1;c<i.length-1;c++)a.push(s.table[i[c]].node);return Ge.fromArray(af(a))};Ge.rawSplit=function(t){return Ge.fromArray(pa(t,cr.isKanjiModeEnabled()))}});var ha=A(ma=>{u();l();var lr=ge(),$n=tr(),lf=Ri(),ff=Ii(),pf=Bi(),df=ki(),zn=Mi(),Gn=Nn(),mf=qi(),ur=zi(),hf=Yi(),gf=be(),Wn=da();function _f(e,t){let r=e.size,n=df.getPositions(t);for(let o=0;o<n.length;o++){let s=n[o][0],i=n[o][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(s+a,i+c,!0,!0):e.set(s+a,i+c,!1,!0))}}function bf(e){let t=e.size;for(let r=8;r<t-8;r++){let n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function wf(e,t){let r=pf.getPositions(t);for(let n=0;n<r.length;n++){let o=r[n][0],s=r[n][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?e.set(o+i,s+a,!0,!0):e.set(o+i,s+a,!1,!0)}}function yf(e,t){let r=e.size,n=ur.getEncodedBits(t),o,s,i;for(let a=0;a<18;a++)o=Math.floor(a/3),s=a%3+r-8-3,i=(n>>a&1)===1,e.set(o,s,i,!0),e.set(s,o,i,!0)}function Hn(e,t,r){let n=e.size,o=hf.getEncodedBits(t,r),s,i;for(s=0;s<15;s++)i=(o>>s&1)===1,s<6?e.set(s,8,i,!0):s<8?e.set(s+1,8,i,!0):e.set(n-15+s,8,i,!0),s<8?e.set(8,n-s-1,i,!0):s<9?e.set(8,15-s-1+1,i,!0):e.set(8,15-s-1,i,!0);e.set(n-8,8,1,!0)}function Ef(e,t){let r=e.size,n=-1,o=r-1,s=7,i=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(o,a-c)){let f=!1;i<t.length&&(f=(t[i]>>>s&1)===1),e.set(o,a-c,f),s--,s===-1&&(i++,s=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function Cf(e,t,r){let n=new lf;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),gf.getCharCountIndicator(c.mode,e)),c.write(n)});let o=lr.getSymbolTotalCodewords(e),s=Gn.getTotalCodewordsCount(e,t),i=(o-s)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(i-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return Sf(n,e,t)}function Sf(e,t,r){let n=lr.getSymbolTotalCodewords(t),o=Gn.getTotalCodewordsCount(t,r),s=n-o,i=Gn.getBlocksCount(t,r),a=n%i,c=i-a,f=Math.floor(n/i),p=Math.floor(s/i),h=p+1,d=f-p,b=new mf(d),y=0,g=new Array(i),w=new Array(i),P=0,C=new Uint8Array(e.buffer);for(let Ne=0;Ne<i;Ne++){let mr=Ne<c?p:h;g[Ne]=C.slice(y,y+mr),w[Ne]=b.encode(g[Ne]),y+=mr,P=Math.max(P,mr)}let M=new Uint8Array(n),U=0,re,ne;for(re=0;re<P;re++)for(ne=0;ne<i;ne++)re<g[ne].length&&(M[U++]=g[ne][re]);for(re=0;re<d;re++)for(ne=0;ne<i;ne++)M[U++]=w[ne][re];return M}function Af(e,t,r,n){let o;if(Array.isArray(e))o=Wn.fromArray(e);else if(typeof e=="string"){let f=t;if(!f){let p=Wn.rawSplit(e);f=ur.getBestVersionForData(p,r)}o=Wn.fromString(e,f||40)}else throw new Error("Invalid data");let s=ur.getBestVersionForData(o,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);let i=Cf(t,r,o),a=lr.getSymbolSize(t),c=new ff(a);return _f(c,t),bf(c),wf(c,t),Hn(c,r,0),t>=7&&yf(c,t),Ef(c,i),isNaN(n)&&(n=zn.getBestMask(c,Hn.bind(null,c,r))),zn.applyMask(n,c),Hn(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}ma.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=$n.M,o,s;return typeof r<"u"&&(n=$n.from(r.errorCorrectionLevel,$n.M),o=ur.from(r.version),s=zn.from(r.maskPattern),r.toSJISFunc&&lr.setToSJISFunction(r.toSJISFunc)),Af(t,o,n,s)}});var Kn=A(Be=>{u();l();function ga(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+e);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}Be.getOptions=function(t){t||(t={}),t.color||(t.color={});let r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:n,scale:n?4:o,margin:r,color:{dark:ga(t.color.dark||"#000000ff"),light:ga(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};Be.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale};Be.getImageWidth=function(t,r){let n=Be.getScale(t,r);return Math.floor((t+r.margin*2)*n)};Be.qrToImageData=function(t,r,n){let o=r.modules.size,s=r.modules.data,i=Be.getScale(o,n),a=Math.floor((o+n.margin*2)*i),c=n.margin*i,f=[n.color.light,n.color.dark];for(let p=0;p<a;p++)for(let h=0;h<a;h++){let d=(p*a+h)*4,b=n.color.light;if(p>=c&&h>=c&&p<a-c&&h<a-c){let y=Math.floor((p-c)/i),g=Math.floor((h-c)/i);b=f[s[y*o+g]?1:0]}t[d++]=b.r,t[d++]=b.g,t[d++]=b.b,t[d]=b.a}}});var _a=A(fr=>{u();l();var Jn=Kn();function xf(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function Tf(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}fr.render=function(t,r,n){let o=n,s=r;typeof o>"u"&&(!r||!r.getContext)&&(o=r,r=void 0),r||(s=Tf()),o=Jn.getOptions(o);let i=Jn.getImageWidth(t.modules.size,o),a=s.getContext("2d"),c=a.createImageData(i,i);return Jn.qrToImageData(c.data,t,o),xf(a,s,i),a.putImageData(c,0,0),s};fr.renderToDataURL=function(t,r,n){let o=n;typeof o>"u"&&(!r||!r.getContext)&&(o=r,r=void 0),o||(o={});let s=fr.render(t,r,o),i=o.type||"image/png",a=o.rendererOpts||{};return s.toDataURL(i,a.quality)}});var ya=A(wa=>{u();l();var Rf=Kn();function ba(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Yn(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function vf(e,t,r){let n="",o=0,s=!1,i=0;for(let a=0;a<e.length;a++){let c=Math.floor(a%t),f=Math.floor(a/t);!c&&!s&&(s=!0),e[a]?(i++,a>0&&c>0&&e[a-1]||(n+=s?Yn("M",c+r,.5+f+r):Yn("m",o,0),o=0,s=!1),c+1<t&&e[a+1]||(n+=Yn("h",i),i=0)):o++}return n}wa.render=function(t,r,n){let o=Rf.getOptions(r),s=t.modules.size,i=t.modules.data,a=s+o.margin*2,c=o.color.light.a?"<path "+ba(o.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",f="<path "+ba(o.color.dark,"stroke")+' d="'+vf(i,s,o.margin)+'"/>',p='viewBox="0 0 '+a+" "+a+'"',h=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",d='<svg xmlns="http://www.w3.org/2000/svg" '+h+p+' shape-rendering="crispEdges">'+c+f+`</svg>
`;return typeof n=="function"&&n(null,d),d}});var Ca=A(bt=>{u();l();var If=Ai(),Qn=ha(),Ea=_a(),Bf=ya();function Zn(e,t,r,n,o){let s=[].slice.call(arguments,1),i=s.length,a=typeof s[i-1]=="function";if(!a&&!If())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(o=r,r=t,t=n=void 0):i===3&&(t.getContext&&typeof o>"u"?(o=n,n=void 0):(o=n,n=r,r=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=t,t=n=void 0):i===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,f){try{let p=Qn.create(r,n);c(e(p,t,n))}catch(p){f(p)}})}try{let c=Qn.create(r,n);o(null,e(c,t,n))}catch(c){o(c)}}bt.create=Qn.create;bt.toCanvas=Zn.bind(null,Ea.render);bt.toDataURL=Zn.bind(null,Ea.renderToDataURL);bt.toString=Zn.bind(null,function(e,t,r){return Bf.render(e,r)})});u();l();var dr=v(q()),no=v(_o());u();l();u();l();u();l();u();l();var ie=v(q());var Do=v(fo());J();u();l();var ye=v(q());u();l();var Et=v(q());J();u();l();var Cr={root:"_root_frqnd_1",agreement:"_agreement_frqnd_4"};var Da=e=>`https://${e}/help/okx-web3-wallet-service-user-agreement`;function Sr({agree:e,setAgree:t}){let r=Co(),o=Eo()?.userAgreement||Da(r);return Et.default.createElement(_r,{className:Cr.root,size:_r.SIZE.sm,onClick:()=>{t(!e)},checked:e},Et.default.createElement("div",{className:Cr.agreement},R("wallet_extension_home_text_terms_of_service1",{service:Et.default.createElement(Je,{type:Je.TYPE.primary,weight:Je.WEIGHT.medium,size:Je.SIZE.xs,href:o,target:"__blank"},R("wallet_extension_home_text_terms_of_service2"))})))}var vo=v(fo());J();u();l();var Ro={actions:"_actions_187np_1","actions-firefox":"_actions-firefox_187np_5",actionsFirefox:"_actions-firefox_187np_5"};function Oa(e){let{createWallet:t,importWallet:r,className:n,showAgreeService:o=!1}=e,[s,i]=(0,ye.useState)(!0);return ye.default.createElement(se.Space,{space:16,direction:se.DIRECTION.vertical,className:(0,vo.default)(Ro.actions,n)},ye.default.createElement(oe,{block:!0,disabled:!s,category:oe.CATEGORY.fill,type:oe.TYPE.highlight,size:oe.SIZE.xl,onClick:t},R("extension_home_btn_create_wallet")),ye.default.createElement(oe,{block:!0,disabled:!s,category:oe.CATEGORY.outline,type:oe.TYPE.primary,size:oe.SIZE.xl,onClick:r},R("extension_home_btn_import_wallet")),o&&ye.default.createElement(Sr,{agree:s,setAgree:i}))}var Io=Oa;u();l();var Po=v(q());J();u();l();var Bo={subTitle:"_subTitle_p4gq2_1"};function Ua(){return Po.default.createElement(pe.Text,{size:pe.SIZE.xs,align:pe.ALIGN.center,type:pe.TYPE.secondary,className:Bo.subTitle},R("extension_home_subtitle_wallet_trade_nft_defi"))}var No=Ua;u();l();var Mo=v(q());J();u();l();var ko={title:"_title_o5opn_1"};function qa(){return Mo.default.createElement(pe.Text,{strong:700,align:pe.ALIGN.center,className:ko.title},R("extension_home_main_title_portal"))}var Lo=qa;u();l();var Ye={main:"_main_tx5x5_1",coverWrapper:"_coverWrapper_tx5x5_6","main-firefox":"_main-firefox_tx5x5_9",mainFirefox:"_main-firefox_tx5x5_9",firefox:"_firefox_tx5x5_12"};function ja(e){let{createWallet:t,importWallet:r}=e,{isFirefox:n}=io;return ie.default.createElement(se.Container,{className:(0,Do.default)(Ye.main,{[Ye["main-firefox"]]:n})},ie.default.createElement(se.FlexBox,{align:se.ALIGN.center,className:Ye.coverWrapper},ie.default.createElement(To,null)),ie.default.createElement(se.Space,{space:4,style:{padding:n?"12px 16px 195px":"24px 16px 195px"},direction:se.DIRECTION.vertical},ie.default.createElement(Lo,null),ie.default.createElement(No,null)),ie.default.createElement(bo,{offsetBottom:0},ie.default.createElement(Io,{createWallet:t,importWallet:r,className:n?Ye.firefox:void 0,showAgreeService:n})))}var Oo=ja;var Uo=Oo;u();l();var Ar=v(q()),qo=v(ka()),jo=v(Ma());var Va="import",Fa="create",Vo=()=>{let e=(0,qo.useDispatch)(),t=(0,jo.useHistory)(),r=(0,Ar.useCallback)(()=>{e(Er(Fa)),br({button_name:"create_wallet"}),t.push(go)},[e,t]);return{onImportWallet:(0,Ar.useCallback)(()=>{e(Er(Va)),br({button_name:"import_wallet"}),t.push(ho)},[e,t]),onCreateWallet:r}};u();l();var Fo=v(_o());function $a(){return(0,Fo.useMount)(()=>{try{yo({platform:wr(),tg_platform:yr()})}catch{}}),{createWalletMonitor:t=>{try{wo({platform:wr(),tg_platform:yr(),button:t})}catch{}}}}var $o=$a;u();l();Na();u();l();u();l();var k=v(q());J();u();l();var Me=v(q()),Tr=v(xr());u();l();var Ee={"action-button-container":"_action-button-container_wyaka_1",actionButtonContainer:"_action-button-container_wyaka_1","channel-wrap":"_channel-wrap_wyaka_16",channelWrap:"_channel-wrap_wyaka_16","icon-wrap":"_icon-wrap_wyaka_32",iconWrap:"_icon-wrap_wyaka_32",icon:"_icon_wyaka_32",label:"_label_wyaka_51","action-button-container-md-len-greater-than-five":"_action-button-container-md-len-greater-than-five_wyaka_72",actionButtonContainerMdLenGreaterThanFive:"_action-button-container-md-len-greater-than-five_wyaka_72"};var Wa=e=>{let{channels:t=[]}=e,r=n=>{n.action&&n.action()};return Me.default.createElement("div",{className:(0,Tr.default)(Ee.actionButtonContainer,{[Ee.actionButtonContainerMdLenGreaterThanFive]:t?.length>=5})},t.map((n,o)=>Me.default.createElement(yt,{key:`${n.key}_${o}`,className:Ee.channelWrap,onClick:()=>{r(n)}},Me.default.createElement("div",{className:Ee.iconWrap,style:{backgroundColor:n.backgroundColor}},Me.default.createElement(Ke,{className:(0,Tr.default)(n.icon,Ee.icon),style:{color:n.iconColor}})),Me.default.createElement("div",{className:Ee.label},typeof n?.label=="function"?n?.label():n?.label))))},Wo=Wa;u();l();var le=v(q()),In=v(xr());J();u();l();u();l();var ae=class extends Error{constructor(t,r,n){super(typeof r=="object"?r.message:r||t,{cause:typeof r=="object"?r.cause:n}),this.type=t,Object.setPrototypeOf(this,ae.prototype)}};function Ha(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}var za="ERR_INVALID_VALUE",Ga="ERR_UNEXPECTED_VALUE",Ka="ERR_UNEXPECTED_TYPE",ds="ERR_PARSE";function Ja(e,t){let r={};for(let n in e){let o=e[n];if(!o)continue;let s,i;typeof o=="function"?(s=n,i=o):[s,i]=o;try{let a=i(t(s));a!==void 0&&(r[n]=a)}catch(a){throw new ae(ds,`Parser for "${n}" property failed${s===n?"":`. Source field: "${s}"`}`,a)}}return r}function ms(e){let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch(r){throw new ae(za,{cause:r})}if(typeof t!="object"||!t||Array.isArray(t))throw new ae(Ga);return t}function me(e,t){return r=>{let n=o=>{if(!(r&&o===void 0))try{return t(o)}catch(s){throw new ae(ds,{message:`"${e}" transformer failed to parse the value`,cause:s})}};return Object.assign(n,{isValid(o){try{return n(o),!0}catch{return!1}}})}}function Ya(e,t){return me(t||"object",r=>{let n=ms(r);return Ja(e,o=>n[o])})}function Bt(e){throw new ae(Ka,`Unexpected value received: ${JSON.stringify(e)}`)}var Nd=me("boolean",e=>{if(typeof e=="boolean")return e;let t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;Bt(e)}),Yr=me("string",e=>{if(typeof e=="string"||typeof e=="number")return e.toString();Bt(e)}),Qa=me("number",e=>{if(typeof e=="number")return e;if(typeof e=="string"){let t=Number(e);if(!Number.isNaN(t))return t}Bt(e)}),kd=me("date",e=>e instanceof Date?e:new Date(Qa()(e)*1e3));function rt(e){return/^#[\da-f]{6}$/i.test(e)}function Za(e){return/^#[\da-f]{3}$/i.test(e)}function Xa(e){let t=e.replace(/\s/g,"").toLowerCase();if(rt(t))return t;if(Za(t)){let n="#";for(let o=0;o<3;o+=1)n+=t[1+o].repeat(2);return n}let r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((n,o)=>{let s=parseInt(o,10).toString(16);return n+(s.length===1?"0":"")+s},"#")}var ec=me("rgb",e=>Xa(Yr()(e))),tc=me("themeParams",e=>{let t=ec(!0);return Object.entries(ms(e)).reduce((r,[n,o])=>(r[Ha(n)]=t(o),r),{})});function rc(e,t){return me("array",r=>{let n;if(Array.isArray(r))n=r;else if(typeof r=="string")try{let o=JSON.parse(r);Array.isArray(o)&&(n=o)}catch{}return n||Bt(r),n.map(e)})}var ce=class extends Error{constructor(t,r,n){super(typeof r=="object"?r.message:r||t,{cause:typeof r=="object"?r.cause:n}),this.type=t,Object.setPrototypeOf(this,ce.prototype)}};function hs(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}function nc(e){return e.replace(/_[a-z]/g,t=>t[1].toUpperCase())}var oc="ERR_INVALID_VALUE",sc="ERR_UNEXPECTED_VALUE",ic="ERR_UNEXPECTED_TYPE",gs="ERR_PARSE";function _s(e,t){let r={};for(let n in e){let o=e[n];if(!o)continue;let s,i;typeof o=="function"?(s=n,i=o):[s,i]=o;try{let a=i(t(s));a!==void 0&&(r[n]=a)}catch(a){throw new ce(gs,`Parser for "${n}" property failed${s===n?"":`. Source field: "${s}"`}`,a)}}return r}function bs(e){let t=e;if(typeof t=="string")try{t=JSON.parse(t)}catch(r){throw new ce(oc,{cause:r})}if(typeof t!="object"||!t||Array.isArray(t))throw new ce(sc);return t}function Q(e,t){return r=>{let n=o=>{if(!(r&&o===void 0))try{return t(o)}catch(s){throw new ce(gs,{message:`"${e}" transformer failed to parse the value`,cause:s})}};return Object.assign(n,{isValid(o){try{return n(o),!0}catch{return!1}}})}}function Y(e,t){return Q(t||"object",r=>{let n=bs(r);return _s(e,o=>n[o])})}function ot(e){throw new ce(ic,`Unexpected value received: ${JSON.stringify(e)}`)}var Tt=Q("boolean",e=>{if(typeof e=="boolean")return e;let t=String(e);if(t==="1"||t==="true")return!0;if(t==="0"||t==="false")return!1;ot(e)}),F=Q("string",e=>{if(typeof e=="string"||typeof e=="number")return e.toString();ot(e)}),nt=Q("number",e=>{if(typeof e=="number")return e;if(typeof e=="string"){let t=Number(e);if(!Number.isNaN(t))return t}ot(e)}),ac=Q("date",e=>e instanceof Date?e:new Date(nt()(e)*1e3));function ws(e,t){return Q(t||"searchParams",r=>{typeof r!="string"&&!(r instanceof URLSearchParams)&&ot(r);let n=typeof r=="string"?new URLSearchParams(r):r;return _s(e,o=>{let s=n.get(o);return s===null?void 0:s})})}function Rr(e){for(let t in e)e[t]=[hs(t),e[t]];return e}var cc=e=>{let t=nt(),r=nt(!0),n=F(),o=F(!0),s=Tt(!0),i=Y(Rr({addedToAttachmentMenu:s,allowsWriteToPm:s,firstName:n,id:t,isBot:s,isPremium:s,languageCode:o,lastName:o,photoUrl:o,username:o}),"User")(!0);return ws(Rr({authDate:ac(),canSendAfter:r,chat:Y(Rr({id:t,type:n,title:n,photoUrl:o,username:o}),"Chat")(!0),chatInstance:o,chatType:o,hash:n,queryId:o,receiver:i,startParam:o,signature:n,user:i}),"initData")(e)};function uc(e){return/^#[\da-f]{6}$/i.test(e)}function lc(e){return/^#[\da-f]{3}$/i.test(e)}function fc(e){let t=e.replace(/\s/g,"").toLowerCase();if(uc(t))return t;if(lc(t)){let n="#";for(let o=0;o<3;o+=1)n+=t[1+o].repeat(2);return n}let r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!r)throw new Error(`Value "${e}" does not satisfy any of known RGB formats.`);return r.slice(1).reduce((n,o)=>{let s=parseInt(o,10).toString(16);return n+(s.length===1?"0":"")+s},"#")}var pc=Q("rgb",e=>fc(F()(e))),Ho=Q("themeParams",e=>{let t=pc(!0);return Object.entries(bs(e)).reduce((r,[n,o])=>(r[nc(n)]=t(o),r),{})});function zo(e){return JSON.stringify(Object.fromEntries(Object.entries(e).map(([t,r])=>[hs(t),r])))}var dc=e=>{let t=F(),r=F(!0),n=Tt(!0);return ws({botInline:["tgWebAppBotInline",n],defaultColors:["tgWebAppDefaultColors",Ho(!0)],fullscreen:["tgWebAppFullscreen",n],initData:["tgWebAppData",cc(!0)],initDataRaw:["tgWebAppData",r],platform:["tgWebAppPlatform",t],showSettings:["tgWebAppShowSettings",n],startParam:["tgWebAppStartParam",r],themeParams:["tgWebAppThemeParams",Ho()],version:["tgWebAppVersion",t]},"launchParams")(e)};function mc(e){let{initDataRaw:t,startParam:r,showSettings:n,botInline:o,fullscreen:s,defaultColors:i}=e,a=new URLSearchParams;return a.set("tgWebAppPlatform",e.platform),a.set("tgWebAppThemeParams",zo(e.themeParams)),a.set("tgWebAppVersion",e.version),t&&a.set("tgWebAppData",t),r&&a.set("tgWebAppStartParam",r),typeof n=="boolean"&&a.set("tgWebAppShowSettings",n?"1":"0"),typeof o=="boolean"&&a.set("tgWebAppBotInline",o?"1":"0"),typeof s=="boolean"&&a.set("tgWebAppFullscreen",s?"1":"0"),i&&a.set("tgWebAppDefaultColors",zo(i)),a.toString()}var hc=Y({eventType:F(),eventData:e=>e},"miniAppsMessage"),ys=Q("fn",e=>{if(typeof e=="function")return e;ot(e)});function gc(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}var _c=Y({TelegramWebviewProxy:Y({postEvent:ys()})()});function Es(e){return _c().isValid(e)}function bc(){try{return window.self!==window.top}catch{return!0}}var wc=Object.defineProperty,yc=(e,t,r)=>t in e?wc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cs=(e,t,r)=>yc(e,typeof t!="symbol"?t+"":t,r),E=class Ss extends Error{constructor(t,r,n){super(typeof r=="object"?r.message:r||t,{cause:typeof r=="object"?r.cause:n}),this.type=t,Object.setPrototypeOf(this,Ss.prototype)}};function As(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function qe(...e){let t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(r=>{r()})}]}function Ec(e,t){return e instanceof E&&e.type===t}function Qr(e){return t=>Ec(t,e)}var xs="ERR_ABORTED",Ts="ERR_CANCELED",Rs="ERR_TIMED_OUT";function Go(e){return new E(xs,{cause:e})}var Md=Qr(Rs),Ld=Qr(xs),Dd=Qr(Ts);function Ko(e,t){return e.reject=t.reject,e}var B=class extends Promise{constructor(t,r){let n,o;typeof t=="function"?(n=t,o=r):o=t;let s,i;super((a,c)=>{o||(o={});let{abortSignal:f}=o;if(f&&f.aborted)return c(Go(f.reason));let[p,h]=qe(),d=w=>(...P)=>(h(),w(...P)),b=new AbortController,{signal:y}=b;i=d(w=>{b.abort(w),c(w)}),s=d(a),f&&p(As(f,"abort",()=>{i(Go(f.reason))}));let{timeout:g}=o;if(g){let w=setTimeout(()=>{i(new E(Rs,`Timeout reached: ${g}ms`))},g);p(()=>{clearTimeout(w)})}n&&n(s,i,y)}),Cs(this,"reject"),this.reject=i}static withFn(t,r){return new B((n,o,s)=>{try{let i=t(s);return i instanceof Promise?i.then(n,o):n(i)}catch(i){o(i)}},r)}static resolve(t){return new B(r=>{r(t)})}static reject(t){return new B((r,n)=>{n(t)})}cancel(){this.reject(new E(Ts))}catch(t){return this.then(void 0,t)}finally(t){return Ko(super.finally(t),this)}then(t,r){return Ko(super.then(t,r),this)}};function Jo(e,t){return e.resolve=t.resolve,e}var Cc=class St extends B{constructor(t,r){let n,o;typeof t=="function"?(n=t,o=r):o=t;let s;super((i,a,c)=>{s=i,n&&n(i,a,c)},o),Cs(this,"resolve"),this.resolve=s}static withFn(t,r){return new St((n,o,s)=>B.withFn(t,{abortSignal:s}).then(n,o),r)}static resolve(t){return new St(r=>{r(t)})}static reject(t){return new St((r,n)=>{n(t)})}catch(t){return this.then(void 0,t)}finally(t){return Jo(super.finally(t),this)}then(t,r){return Jo(super.then(t,r),this)}};function vs(e){return`tapps/${e}`}function $(e,t){sessionStorage.setItem(vs(e),JSON.stringify(t))}function W(e){let t=sessionStorage.getItem(vs(e));try{return t?JSON.parse(t):void 0}catch{}}function Zr(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Sc(e,t){t||(t={});let{textColor:r,bgColor:n,shouldLog:o=!0}=t;function s(i,...a){if(!o||typeof o=="function"&&!o())return;let c="font-weight:bold;padding:0 5px;border-radius:5px";console[i](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${c};background-color: lightblue;color:black`,"",`${c};${r?`color:${r};`:""}${n?`background-color:${n}`:""}`,...a)}return[function(...i){s("log",...i)},function(...i){s("error",...i)}]}function Xr(e,t){document.documentElement.style.setProperty(e,t)}function en(e){document.documentElement.style.removeProperty(e)}function Ac(e,t){t()}function je(e,t){t||(t={});let r=t.equals||Object.is,n=[],o=e,s=f=>{if(!r(o,f)){let p=o;o=f,Ac(c,()=>{[...n].forEach(([h,d])=>{h(f,p),d&&a(h,!0)})})}};function i(f){let p=typeof f!="object"?{once:f}:f;return{once:p.once||!1,signal:p.signal||!1}}let a=(f,p)=>{let h=i(p),d=n.findIndex(([b,y])=>b===f&&y.once===h.once&&y.signal===h.signal);d>=0&&n.splice(d,1)},c=Object.assign(function(){return xc(c),o},{destroy(){n=[]},set:s,reset(){s(e)},sub(f,p){return n.push([f,i(p)]),()=>a(f,p)},unsub:a,unsubAll(){n=n.filter(f=>f[1].signal)}});return c}var vr=[];function xc(e){vr.length&&vr[vr.length-1].add(e)}var Tc=je(!1),[Is,Rc]=Sc("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:Tc}),vc={clipboard_text_received:Y({req_id:F(),data:e=>e===null?e:F(!0)(e)},"clipboard_text_received"),custom_method_invoked:Y({req_id:F(),result:e=>e,error:F(!0)},"custom_method_invoked"),popup_closed:Q("popup_closed",e=>e?Y({button_id:t=>t==null?void 0:F()(t)})()(e):{}),viewport_changed:Y({height:nt(),width:e=>e==null?window.innerWidth:nt()(e),is_state_stable:Tt(),is_expanded:Tt()},"viewport_changed")};function Ic(e){let t=window,[,r]=qe(As(t,"message",n=>{if(n.source!==t.parent)return;let o;try{o=hc()(n.data)}catch{return}let{eventType:s,eventData:i}=o,a=vc[s];try{let c=a?a()(i):i;Is("Event received:",c?{eventType:s,eventData:c}:{eventType:s}),e([s,c])}catch(c){Rc([`An error occurred processing the "${s}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),o,c)}}));return r}var Yo=je(),Qo=je();function Bc(){return Qo()||Qo.set(Ic(Yo.set)),Yo}var Ir=je({});function Bs(e){let t=Ir()[e];return t||(t=je(void 0,{equals(){return!1}}),Bc().sub(r=>{r&&r[0]===e&&t.set(r[1])}),Ir.set({...Ir(),[e]:t})),t}function D(e,t,r){return Bs(e).sub(t,r)}var Pc="ERR_METHOD_UNSUPPORTED",Nc="ERR_RETRIEVE_LP_FAILED",kc="ERR_METHOD_PARAMETER_UNSUPPORTED",Ps="ERR_UNKNOWN_ENV",Mc="ERR_INVOKE_CUSTOM_METHOD_RESPONSE",Lc=je("https://web.telegram.org");function tn(e,t){Is("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let r=window;if(Es(r)){r.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}let n=JSON.stringify({eventType:e,eventData:t});if(bc())return r.parent.postMessage(n,Lc());let{external:o}=r;if(Y({notify:ys()})().isValid(o)){o.notify(n);return}throw new E(Ps)}function rn(e,t,r){r||(r={});let{capture:n}=r,[o,s]=qe();return new B(i=>{(Array.isArray(t)?t:[t]).forEach(a=>{o(D(a,c=>{(!n||(Array.isArray(t)?n({event:a,payload:c}):n(c)))&&i(c)}))}),(r.postEvent||tn)(e,r.params)},r).finally(s)}function Ns(e){return dc()(e)}function ks(e){return Ns(e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&"))}function Dc(){return ks(window.location.href)}function Oc(){let e=performance.getEntriesByType("navigation")[0];if(!e)throw new Error("Unable to get first navigation entry.");return ks(e.name)}var Uc="launchParams";function qc(){return Ns(W(Uc)||"")}function jc(e){$("launchParams",mc(e))}function Ms(e){return e instanceof Error?e.message+(e.cause?`
  ${Ms(e.cause)}`:""):JSON.stringify(e)}function Pt(){let e=[];for(let t of[Dc,Oc,qc])try{let r=t();return jc(r),r}catch(r){e.push(r)}throw new E(Nc,["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","\u{1F4D6} Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-sdk/environment","Collected errors:",...e.map(t=>`\u2014 ${Ms(t)}`)].join(`
`))}function Zo(e){if(e==="simple")try{return Pt(),!0}catch{return!1}return B.withFn(async()=>{if(Es(window))return!0;try{return await rn("web_app_request_theme","theme_changed",{timeout:100}),!0}catch{return!1}},e)}function Vc(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function Fc(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window;e.forEach((r,n,o)=>{if(n===o.length-1){t[r]=Vc;return}r in t||(t[r]={}),t=t[r]})})}function $c(){["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]})}function Nt(e,t,r){Bs(e).unsub(t,r)}function Wc(e){return({req_id:t})=>t===e}function Xo(e){return e.split(".").map(Number)}function Hc(e,t){let r=Xo(e),n=Xo(t),o=Math.max(r.length,n.length);for(let s=0;s<o;s+=1){let i=r[s]||0,a=n[s]||0;if(i!==a)return i>a?1:-1}return 0}function L(e,t){return Hc(e,t)<=0}function Oe(e,t,r){if(typeof r=="string"){if(e==="web_app_open_link"){if(t==="try_instant_view")return L("6.4",r);if(t==="try_browser")return L("7.6",r)}if(e==="web_app_set_header_color"&&t==="color")return L("6.9",r);if(e==="web_app_close"&&t==="return_back")return L("7.6",r);if(e==="web_app_setup_main_button"&&t==="has_shine_effect")return L("7.10",r)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return L("6.1",t);case"web_app_open_popup":return L("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return L("6.4",t);case"web_app_switch_inline_query":return L("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return L("6.9",t);case"web_app_setup_settings_button":return L("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return L("7.2",t);case"web_app_setup_swipe_behavior":return L("7.7",t);case"web_app_share_to_story":return L("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return L("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_request_emoji_status_access":return L("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function zc(e,t){t||(t="strict");let r=typeof t=="function"?t:n=>{let{method:o,version:s}=n,i,a;if("param"in n?(i=`Parameter "${n.param}" of "${o}" method is unsupported in Mini Apps version ${s}`,a=kc):(i=`Method "${o}" is unsupported in Mini Apps version ${s}`,a=Pc),t==="strict")throw new E(a,i);return console.warn(i)};return(n,o)=>Oe(n,e)?gc(o)&&n==="web_app_set_header_color"&&"color"in o&&!Oe(n,"color",e)?r({version:e,method:n,param:"color"}):tn(n,o):r({version:e,method:n})}function Gc(e,t,r,n){return rn("web_app_invoke_custom_method","custom_method_invoked",{...n||{},params:{method:e,params:t,req_id:r},capture:Wc(r)}).then(({result:o,error:s})=>{if(s)throw new E(Mc,s);return o})}function Kc(){return performance.getEntriesByType("navigation")[0]}function Z(){let e=Kc();return!!e&&e.type==="reload"}var Le;function Jc(e,t){Le&&Le.set(e,t)||t()}function Ur(e){if(Le)return e();Le=new Map;try{e()}finally{Le.forEach(t=>t()),Le=void 0}}function _(e,t){t||(t={});let r=t.equals||Object.is,n=[],o=e,s=f=>{if(!r(o,f)){let p=o;o=f,Jc(c,()=>{[...n].forEach(([h,d])=>{h(f,p),d&&a(h,!0)})})}};function i(f){let p=typeof f!="object"?{once:f}:f;return{once:p.once||!1,signal:p.signal||!1}}let a=(f,p)=>{let h=i(p),d=n.findIndex(([b,y])=>b===f&&y.once===h.once&&y.signal===h.signal);d>=0&&n.splice(d,1)},c=Object.assign(function(){return Yc(c),o},{destroy(){n=[]},set:s,reset(){s(e)},sub(f,p){return n.push([f,i(p)]),()=>a(f,p)},unsub:a,unsubAll(){n=n.filter(f=>f[1].signal)}});return c}var Xe=[];function Yc(e){Xe.length&&Xe[Xe.length-1].add(e)}function N(e,t){let r=new Set,n;function o(){return n||(n=_(i(),t))}function s(){o().set(i())}function i(){r.forEach(f=>{f.unsub(s,{signal:!0})});let a=new Set,c;Xe.push(a);try{c=e()}finally{Xe.pop()}return a.forEach(f=>{f.sub(s,{signal:!0})}),r=a,c}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub(...a){return o().sub(...a)},unsub(...a){o().unsub(...a)},unsubAll(...a){o().unsubAll(...a)}})}var Qc=_((()=>{let e=0;return()=>(e+=1).toString()})()),Ls=_(tn),de=_("0.0");function Zc(e){e||(e={});let{postEvent:t}=e,r=e.version||Pt().version;de.set(r),Ls.set(typeof t=="function"?t:zc(r))}function Xc(){return Qc()()}function kt(e,t,r){return Gc(e,t,Xc(),{...r||{},postEvent:T})}var X=(e,t,r)=>(r||(r={}),r.postEvent||(r.postEvent=T),rn(e,t,r)),T=(e,t)=>Ls()(e,t);function ee(e){return N(()=>Oe(e,de()))}var Qe="ERR_POPUP_INVALID_PARAMS",nn="ERR_INVALID_URL",eu="ERR_INVALID_SLUG";var on="ERR_ALREADY_REQUESTING",sn="ERR_ALREADY_OPENED",tu="ERR_ALREADY_MOUNTING",ru="ERR_VARS_ALREADY_BOUND",nu="ERR_NOT_AVAILABLE",ou="ERR_NOT_INITIALIZED",es="ERR_NOT_SUPPORTED",su="ERR_NOT_MOUNTED",iu="ERR_FULLSCREEN_FAILED";function ts(){return typeof window>"u"}function st(e,t,{isSupported:r,isMounted:n,component:o,supports:s}={}){let i=`${o?`${o}.`:""}${e}()`;r=r?Array.isArray(r)||typeof r=="object"&&"any"in r?r:[r]:void 0;function a(g){if(s){let w=s[g];return Oe(w[0],w[1],de())}return!0}let c=()=>{if(!r)return;let g=`it is unsupported in Mini Apps version ${de()}`;function w(C){return typeof C=="string"?Oe(C,de())?void 0:g:C.fn()?void 0:C.error}if(Array.isArray(r)){for(let C of r){let M=w(C);if(M)return M}return}let P;for(let C of r.any)if(P=w(C),!P)return;return g},f=(...g)=>{if(s){for(let w in s)if(s[w][2](...g)&&!a(w))return`option ${w} is not supported in Mini Apps version ${de()}`}},p=N(()=>!c()),h=N(()=>de()!=="0.0"),d=N(()=>!n||n()),b=N(()=>Zo("simple")&&!ts()&&h()&&p()&&d()),y;if(s){y={};for(let g in s)y[g]=N(()=>a(g))}return Object.assign((...g)=>{let w=`Unable to call the ${i} ${o?"method":"function"}:`;if(ts()||!Zo("simple"))throw new E(Ps,`${w} it can't be called outside Mini Apps`);if(!h())throw new E(ou,`${w} the SDK was not initialized. Use the SDK init() function`);let P=c();if(P)throw new E(es,`${w} ${P}`);let C=f(...g);if(C)throw new E(es,`${w} ${C}`);if(!d())throw new E(su,`${w} the component is not mounted. Use the ${o}.mount() method`);return t(...g)},t,{isAvailable:b,ifAvailable(...g){return b()?t(...g):void 0}},r?{isSupported:p}:{},y?{supports:y}:{})}function Mt(e,t){return t||(t={}),(r,n,o,s)=>st(r,n,{...t,isSupported:o||t.isSupported,supports:s,component:e})}function Ce(e,t,r){return Mt(e,{isSupported:r,isMounted:t})}function H(e,t){return Mt(e,{isSupported:t})}var Lt="web_app_setup_back_button",Ds="back_button_pressed",Dt="backButton",rs=_(!1),qr=_(!1),Od=ee(Lt),Os=Ce(Dt,qr,Lt),an=H(Dt,Lt),Ud=Os("hide",()=>{cn(!1)}),qd=an("mount",()=>{qr()||(cn(Z()&&W(Dt)||!1),qr.set(!0))});function cn(e){e!==rs()&&(T(Lt,{is_visible:e}),$(Dt,e),rs.set(e))}var jd=an("onClick",e=>D(Ds,e)),Vd=an("offClick",e=>{Nt(Ds,e)}),Fd=Os("show",()=>{cn(!0)});function Us(e,t,r,n,o){let s=o===void 0||o?B:Promise;return Object.assign((...i)=>s.resolve().then(async()=>{if(r()){let c=t();throw n.set(c),c}Ur(()=>{r.set(s.resolve(e(...i))),n.set(void 0)});let a;try{a=[!0,await r()]}catch(c){a=[!1,c]}if(Ur(()=>{r.set(void 0),n.set(a[0]?void 0:a[1])}),!a[0])throw a[1];return a[1]}),e)}function qs(e,t,r,n,o,s){let i=Us(t,()=>new E(tu,`The ${e} component is already mounting`),o,s);return a=>B.resolve().then(async()=>{if(!n()){let c=await i(a);Ur(()=>{n.set(!0),r(c)})}})}var ue=Mt,js=_({available:!1}),Br=_(!1),Pr=_(!1),Vs=_(!1);var au=_(),cu=_();function un(e){return e.available?{available:!0,tokenSaved:e.token_saved,deviceId:e.device_id,accessRequested:e.access_requested,type:e.type,accessGranted:e.access_granted}:{available:!1}}var ns="web_app_biometry_get_info",uu=st("requestBiometry",e=>X(ns,"biometry_info_received",e).then(un),{isSupported:ns}),Ot="web_app_biometry_request_auth",lu="web_app_biometry_request_access",fu="web_app_biometry_open_settings",pu="web_app_biometry_update_token",Fs="biometry_info_received",Ue="biometry",$d=ee(Ot),du=ue(Ue),mu=H(Ue,Ot),ln=Ce(Ue,Vs,Ot);function $s(){throw new E(nu,"Biometry is not available")}var Wd=ln("authenticate",e=>B.withFn(async t=>{if(Br())throw new E(on,"Authentication is already in progress");let r=js();(!r||!r.available)&&$s(),Br.set(!0);try{let n=await X(Ot,"biometry_auth_requested",{abortSignal:t,params:{reason:((e||{}).reason||"").trim()}}),{token:o}=n;return typeof o=="string"&&Ut({...r,token:o}),n}finally{Br.set(!1)}},e)),Hd=mu("openSettings",()=>{T(fu)}),zd=ln("requestAccess",e=>B.withFn(async t=>{if(Pr())throw new E(on,"Access request is already in progress");Pr.set(!0);try{let r=await X(lu,Fs,{abortSignal:t,params:{reason:(e||{}).reason||""}}).then(un);return r.available||$s(),Ut(r),r.accessGranted}finally{Pr.set(!1)}},e)),Gd=du("mount",qs(Ue,e=>Z()&&W(Ue)||uu(e),e=>{D(Fs,hu),Ut(e)},Vs,cu,au)),hu=e=>{Ut(un(e))};function Ut(e){js.set(e),$(Ue,e)}var Kd=ln("updateToken",e=>(e||(e={}),X(pu,"biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(t=>t.status)));function qt(e,t){return Mt(e,{isMounted:t})}var jt="closingBehavior",os=_(!1),jr=_(!1),Ws=qt(jt,jr),gu=ue(jt),Jd=Ws("disableConfirmation",()=>{fn(!1)}),Yd=Ws("enableConfirmation",()=>{fn(!0)}),Qd=gu("mount",()=>{jr()||(fn(Z()&&W(jt)||!1),jr.set(!0))});function fn(e){e!==os()&&(T("web_app_setup_closing_behavior",{need_confirmation:e}),$(jt,e),os.set(e))}var Hs="web_app_invoke_custom_method",Vt=H("cloudStorage",Hs),Zd=ee(Hs),Xd=Vt("deleteItem",(e,t)=>{let r=Array.isArray(e)?e:[e];return r.length?kt("deleteStorageValues",{keys:r},t).then():B.resolve()});function _u(e,t){let r=Array.isArray(e)?e:[e];return r.length?kt("getStorageValues",{keys:r},t).then(n=>{let o=Ya(Object.fromEntries(r.map(s=>[s,Yr()])))()(n);return Array.isArray(e)?o:o[e]}):B.resolve(typeof e=="string"?"":{})}var em=Vt("getItem",_u),tm=Vt("getKeys",e=>kt("getStorageKeys",{},e).then(rc(Yr())())),rm=Vt("setItem",(e,t,r)=>kt("saveStorageValue",{key:e,value:t},r).then());var it="web_app_trigger_haptic_feedback",pn=H("hapticFeedback",it),nm=ee(it),om=pn("impactOccurred",e=>{T(it,{type:"impact",impact_style:e})}),sm=pn("notificationOccurred",e=>{T(it,{type:"notification",notification_type:e})}),im=pn("selectionChanged",()=>{T(it,{type:"selection_change"})});var bu=_(void 0);function te(e){return N(()=>{let t=bu();return t?t[e]:void 0})}var am=te("authDate"),cm=te("canSendAfter");var um=te("chat"),lm=te("chatType"),fm=te("chatInstance"),pm=te("hash"),dm=te("queryId");var mm=te("receiver");var hm=te("startParam"),gm=te("user");var dn="web_app_open_invoice",wu=H("invoice",dn),Nr=_(!1),_m=ee(dn);async function yu(e,t,r){if(Nr())throw new E(sn,"An invoice is already opened");let n;if(t==="url"){let{hostname:o,pathname:s}=new URL(e,window.location.href);if(o!=="t.me")throw new E(nn,`Link has unexpected hostname: ${o}`);let i=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!i)throw new E(eu,'Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,n]=i}else n=e,r=t;return Nr.set(!0),X(dn,"invoice_closed",{...r,params:{slug:n},capture:o=>n===o.slug}).then(o=>o.status).finally(()=>{Nr.set(!1)})}var bm=wu("open",yu);function zs(e){return Object.fromEntries(Object.entries(e).filter(t=>t[1]!==void 0))}var Vr=_(!1),kr=_(!1),De=_({});function O(e){return N(()=>De()[e])}var wm=O("accentTextColor"),Gs=O("bgColor"),Ks=O("buttonColor"),Eu=O("buttonTextColor"),Cu=O("bottomBarBgColor"),ym=O("destructiveTextColor"),Em=O("headerBgColor"),Cm=O("hintColor");var Sm=O("linkColor"),Fr=O("secondaryBgColor"),Am=O("sectionBgColor"),xm=O("sectionHeaderTextColor"),Tm=O("sectionSeparatorColor"),Rm=O("subtitleTextColor"),vm=O("textColor");function Se(e){return N(()=>Js()[e])}var et=_({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),Js=N(()=>{let e=et();return{...e,backgroundColor:e.backgroundColor||Ks()||"#2481cc",textColor:e.textColor||Eu()||"#ffffff"}}),$r=_(!1),Im=Se("backgroundColor"),Bm=Se("hasShineEffect"),Pm=Se("isEnabled"),Nm=Se("isLoaderVisible"),km=Se("isVisible"),Mm=Se("text"),Lm=Se("textColor"),Su="web_app_setup_main_button",Ys="main_button_pressed",Ft="mainButton",mn=ue(Ft),Au=qt(Ft,$r),Dm=mn("mount",()=>{if(!$r()){let e=Z()&&W(Ft);e&&et.set(e),$r.set(!0)}}),Om=mn("onClick",e=>D(Ys,e)),Um=mn("offClick",e=>{Nt(Ys,e)}),qm=Au("setParams",e=>{et.set({...et(),...zs(e)}),$(Ft,et());let t=Js();t.text&&T(Su,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});function hn(){throw new E(ru,"CSS variables are already bound")}function xu(e){return tc()(e)}var $t="themeParams",Tu="theme_changed",Ru=ue($t),vu=qt($t,Vr),jm=vu("bindCssVars",e=>{kr()&&hn(),e||(e=n=>`--tg-theme-${Zr(n)}`);function t(n){Object.entries(De()).forEach(([o,s])=>{s&&n(o,s)})}function r(){t((n,o)=>{Xr(e(n),o)})}return r(),De.sub(r),kr.set(!0),()=>{t(en),De.unsub(r),kr.set(!1)}}),Iu=Ru("mount",()=>{Vr()||(D(Tu,Bu),De.set(Z()&&W($t)||Pt().themeParams),Vr.set(!0))}),Bu=e=>{let t=xu(e.theme_params);De.set(t),$($t,t)};function Qs(e){return N(()=>{let t=e();return rt(t)?t:t==="bg_color"?Gs():Fr()})}var Rt=_("bg_color"),Pu=Qs(Rt),vt=_("bottom_bar_bg_color"),Zs=N(()=>{let e=vt();return rt(e)?e:e==="bottom_bar_bg_color"?Cu()||Fr():e==="secondary_bg_color"?Fr():Gs()}),It=_("bg_color"),Nu=Qs(It),Wr=_(!1),Mr=_(!1);var ku=N(()=>({backgroundColor:Rt(),bottomBarColor:vt(),headerColor:It()})),Hr="web_app_set_background_color",zr="web_app_set_bottom_bar_color",At="web_app_set_header_color",at="miniApp",Xs={any:[Hr,zr,At]};var ei=ue(at),Mu=H(at,Xs),Wt=Ce(at,Wr,Xs),Vm=Wt("bindCssVars",e=>{Mr()&&hn();let[t,r]=qe();function n(o,s){function i(){Xr(o,s()||null)}i(),t(s.sub(i),en.bind(null,o))}return e||(e=o=>`--tg-${Zr(o)}`),n(e("bgColor"),Pu),n(e("bottomBarColor"),Zs),n(e("headerColor"),Nu),t(()=>{Mr.set(!1)}),Mr.set(!0),r}),Fm=ei("close",e=>{T("web_app_close",{return_back:e})}),$m=Mu("mount",()=>{if(!Wr()){let e=Z()&&W(at);Iu(),Lu.ifAvailable(e?e.backgroundColor:"bg_color"),Du.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),Ou.ifAvailable(e?e.headerColor:"bg_color"),Wr.set(!0)}}),Wm=ei("ready",()=>{T("web_app_ready")});function gn(){$(at,ku())}var Lu=Wt("setBackgroundColor",e=>{e!==Rt()&&(T(Hr,{color:e}),Rt.set(e),gn())},Hr),Du=Wt("setBottomBarColor",e=>{e!==vt()&&(T(zr,{color:e}),vt.set(e),gn())},zr),Ou=Wt("setHeaderColor",e=>{e!==It()&&(T(At,rt(e)?{color:e}:{color_key:e}),It.set(e),gn())},At,{rgb:[At,"color",rt]});function Uu(e){let t=e.message.trim(),r=(e.title||"").trim(),n=e.buttons||[];if(r.length>64)throw new E(Qe,`Invalid title: ${r}`);if(!t||t.length>256)throw new E(Qe,`Invalid message: ${t}`);if(n.length>3)throw new E(Qe,`Invalid buttons count: ${n.length}`);return{title:r,message:t,buttons:n.length?n.map((o,s)=>{let i=o.id||"";if(i.length>64)throw new E(Qe,`Button with index ${s} has invalid id: ${i}`);if(!o.type||o.type==="default"||o.type==="destructive"){let a=o.text.trim();if(!a||a.length>64)throw new E(Qe,`Button with index ${s} has invalid text: ${a}`);return{type:o.type,text:a,id:i}}return{type:o.type,id:i}}):[{type:"close",id:""}]}}var _n="web_app_open_popup",qu=H("popup",_n),Lr=_(!1),Hm=ee(_n),zm=qu("open",async e=>{if(Lr())throw new E(sn,"A popup is already opened");Lr.set(!0);try{let{button_id:t=null}=await X(_n,"popup_closed",{...e,params:Uu(e)});return t}finally{Lr.set(!1)}});var ju="web_app_close_scan_qr_popup",bn="web_app_open_scan_qr_popup",Vu="scan_qr_popup_closed",Fu="qr_text_received",ti=H("qrScanner",bn),ss=ti("close",()=>{Ze.set(!1),T(ju)}),Ze=_(!1),Gm=ee(bn);function $u(e){return B.withFn(t=>{if(Ze())throw new E(sn,"The QR Scanner is already opened");Ze.set(!0),e||(e={});let{onCaptured:r,text:n,capture:o}=e,[,s]=qe(Ze.sub(()=>{i.resolve()}),D(Vu,()=>{Ze.set(!1)}),D(Fu,a=>{r?r(a.data):(!o||o(a.data))&&(i.resolve(a.data),ss())})),i=new Cc({abortSignal:t}).catch(ss).finally(s);return(e.postEvent||T)(bn,{text:n}),i},e)}var Km=ti("open",$u);function he(e){return N(()=>ri()[e])}var tt=_({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),ri=N(()=>{let e=tt();return{...e,backgroundColor:e.backgroundColor||Zs()||"#000000",textColor:e.textColor||Ks()||"#2481cc"}}),Gr=_(!1),Jm=he("backgroundColor"),Ym=he("hasShineEffect"),Qm=he("isEnabled"),Zm=he("isLoaderVisible"),Xm=he("isVisible"),eh=he("position"),th=he("text"),rh=he("textColor"),Ht="web_app_setup_secondary_button",ni="secondary_button_pressed",zt="secondaryButton",wn=H(zt,Ht),Wu=Ce(zt,Gr,Ht),nh=ee(Ht),oh=wn("mount",()=>{if(!Gr()){let e=Z()&&W(zt);e&&tt.set(e),Gr.set(!0)}}),sh=wn("onClick",e=>D(ni,e)),ih=wn("offClick",e=>{Nt(ni,e)}),ah=Wu("setParams",e=>{tt.set({...tt(),...Object.fromEntries(Object.entries(e).filter(([,r])=>r!==void 0))}),$(zt,tt());let t=ri();t.text&&T(Ht,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});var Gt="web_app_setup_settings_button",oi="settings_button_pressed",Kt="settingsButton",is=_(!1),Kr=_(!1),ch=ee(Gt),yn=H(Kt,Gt),si=Ce(Kt,Kr,Gt),uh=si("hide",()=>{En(!1)}),lh=yn("mount",()=>{Kr()||(En(Z()&&W(Kt)||!1),Kr.set(!0))});function En(e){e!==is()&&(T(Gt,{is_visible:e}),$(Kt,e),is.set(e))}var fh=yn("onClick",e=>D(oi,e)),ph=yn("offClick",e=>{Nt(oi,e)}),dh=si("show",()=>{En(!0)});var Jt="web_app_setup_swipe_behavior",Yt="swipeBehavior",Jr=_(!1),mh=ee(Jt),as=_(!0),Hu=H(Yt,Jt),ii=Ce(Yt,Jr,Jt),hh=ii("disableVertical",()=>{Cn(!1)}),gh=ii("enableVertical",()=>{Cn(!0)}),_h=Hu("mount",()=>{Jr()||(Cn(Z()&&W(Yt)||!1,!0),Jr.set(!0))});function Cn(e,t){(e!==as()||t)&&(T(Jt,{allow_vertical_swipe:e}),$(Yt,e),as.set(e))}var Ve="viewport",ai="web_app_request_fullscreen",zu="fullscreen_failed",ci="fullscreen_changed",Gu="safe_area_changed",Ku="content_safe_area_changed",Ju="viewport_changed",cs="web_app_request_safe_area",us="web_app_request_content_safe_area",ls={left:0,top:0,bottom:0,right:0};function Dr(e){return Math.max(e,0)}var xt=_({contentSafeAreaInsets:ls,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:ls,stableHeight:0,width:0});function Ae(e){return N(()=>xt()[e])}function Fe(e){let{height:t,stableHeight:r,width:n}=e;xt.set({...xt(),...zs({...e,height:t?Dr(t):void 0,width:n?Dr(n):void 0,stableHeight:r?Dr(r):void 0})}),$(Ve,xt())}function Yu(){return W(Ve)}var Qu=Ae("isFullscreen"),Zu=_();var Xu=_(),Sn=_(!1);var el=_(void 0),tl=_(),rl=Ce(Ve,Sn,ai);function ui(e,t){return rl(e,Us(r=>X(t,[ci,zu],r).then(n=>{if("error"in n){if(n.error==="ALREADY_FULLSCREEN")return!0;throw new E(iu,"Fullscreen request failed",n.error)}return n.is_fullscreen}).then(n=>{n!==Qu()&&Fe({isFullscreen:n})}),()=>new E(on,"Fullscreen mode change is already being requested"),Zu,Xu))}var bh=ui("requestFullscreen",ai),wh=ui("exitFullscreen","web_app_exit_fullscreen"),li=ue(Ve),nl=qt(Ve,Sn);function Qt(e){return N(()=>fi()[e])}var fi=Ae("safeAreaInsets"),ol=Qt("bottom"),sl=Qt("left"),il=Qt("right"),al=Qt("top");function Zt(e){return N(()=>pi()[e])}var pi=Ae("contentSafeAreaInsets"),cl=Zt("bottom"),ul=Zt("left"),ll=Zt("right"),fl=Zt("top"),pl=st("requestContentSafeAreaInsets",e=>X(us,"content_safe_area_changed",e),{isSupported:us}),dl=st("requestSafeAreaInsets",e=>X(cs,"safe_area_changed",e),{isSupported:cs});function ml(e){return X("web_app_request_viewport","viewport_changed",e).then(t=>({height:t.height,width:t.width,isExpanded:t.is_expanded,isStable:t.is_state_stable}))}var hl=e=>{let{height:t}=e;Fe({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},gl=e=>{Fe({isFullscreen:e.is_fullscreen})},_l=e=>{Fe({safeAreaInsets:e})},bl=e=>{Fe({contentSafeAreaInsets:e})},yh=li("mount",qs(Ve,e=>B.resolve().then(async()=>{let t=Z()&&Yu();if(t)return t;let[r,n]=await B.all([dl.ifAvailable(e)||fi(),pl.ifAvailable(e)||pi()]),o=Pt(),s={contentSafeAreaInsets:n,isFullscreen:!!o.fullscreen,safeAreaInsets:r};if(["macos","tdesktop","unigram","webk","weba","web"].includes(o.platform)){let i=window;return{...s,height:i.innerHeight,isExpanded:!0,stableHeight:i.innerHeight,width:i.innerWidth}}return ml(e).then(i=>({...s,height:i.height,isExpanded:i.isExpanded,stableHeight:i.isStable?i.height:0,width:i.width}))}),e=>{D(Ju,hl),D(ci,gl),D(Gu,_l),D(Ku,bl),Fe(e)},Sn,tl,el));var Or=_(!1),wl=Ae("height"),yl=Ae("stableHeight"),El=Ae("width"),Eh=nl("bindCssVars",e=>{Or()&&hn(),e||(e=r=>`--tg-viewport-${Zr(r)}`);let t=[["height",wl],["stableHeight",yl],["width",El],["safeAreaInsetTop",al],["safeAreaInsetBottom",ol],["safeAreaInsetLeft",sl],["safeAreaInsetRight",il],["contentSafeAreaInsetTop",fl],["contentSafeAreaInsetBottom",cl],["contentSafeAreaInsetLeft",ul],["contentSafeAreaInsetRight",ll]].reduce((r,[n,o])=>{let s=e(n);if(s){let i=()=>{Xr(s,`${o()}px`)};r.push([i,o.sub(i),s])}return r},[]);return t.forEach(r=>{r[0]()}),Or.set(!0),()=>{t.forEach(r=>{r[1](),en(r[2])}),Or.set(!1)}}),Ch=li("expand",()=>{T("web_app_expand")}),Sh=Ae("isExpanded");var Cl=ue(),Ah=Cl("openLink",(e,t)=>{if(typeof e=="string")try{e=new URL(e)}catch(r){throw new E(nn,`"${e.toString()}" is invalid URL`,r)}t||(t={}),T("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),fs="web_app_open_tg_link",Sl=ue(),Al=Sl("openTelegramLink",e=>{let t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new E(nn,`"${t}" is invalid URL`);if(!Oe(fs,de())){window.location.href=t;return}e=new URL(e),T(fs,{path_full:e.pathname+e.search})}),xl=ue(),An=xl("shareURL",(e,t)=>{Al("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});var ps="web_app_share_to_story",xn=st("shareStory",(e,t)=>{t||(t={}),T(ps,{text:t.text,media_url:e,widget_link:t.widgetLink})},{isSupported:ps});function di(e){Zc(e),Fc();let[t,r]=qe(D("reload_iframe",()=>{T("iframe_will_reload"),window.location.reload()}),$c),{acceptCustomStyles:n=!0}=e||{};if(n){let o=document.createElement("style");o.id="telegram-custom-styles",document.head.appendChild(o),t(D("set_custom_style",s=>{o.innerHTML=s}),()=>{document.head.removeChild(o)})}return T("iframe_ready",{reload_supported:!0}),r}u();l();u();l();function Tl(e){if(e.length>=255)throw new TypeError("Alphabet too long");let t=new Uint8Array(256);for(let f=0;f<t.length;f++)t[f]=255;for(let f=0;f<e.length;f++){let p=e.charAt(f),h=p.charCodeAt(0);if(t[h]!==255)throw new TypeError(p+" is ambiguous");t[h]=f}let r=e.length,n=e.charAt(0),o=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function i(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let p=0,h=0,d=0,b=f.length;for(;d!==b&&f[d]===0;)d++,p++;let y=(b-d)*s+1>>>0,g=new Uint8Array(y);for(;d!==b;){let C=f[d],M=0;for(let U=y-1;(C!==0||M<h)&&U!==-1;U--,M++)C+=256*g[U]>>>0,g[U]=C%r>>>0,C=C/r>>>0;if(C!==0)throw new Error("Non-zero carry");h=M,d++}let w=y-h;for(;w!==y&&g[w]===0;)w++;let P=n.repeat(p);for(;w<y;++w)P+=e.charAt(g[w]);return P}function a(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let p=0,h=0,d=0;for(;f[p]===n;)h++,p++;let b=(f.length-p)*o+1>>>0,y=new Uint8Array(b);for(;f[p];){let C=t[f.charCodeAt(p)];if(C===255)return;let M=0;for(let U=b-1;(C!==0||M<d)&&U!==-1;U--,M++)C+=r*y[U]>>>0,y[U]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");d=M,p++}let g=b-d;for(;g!==b&&y[g]===0;)g++;let w=new Uint8Array(h+(b-g)),P=h;for(;g!==b;)w[P++]=y[g++];return w}function c(f){let p=a(f);if(p)return p;throw new Error("Non-base"+r+" character")}return{encode:i,decodeUnsafe:a,decode:c}}var mi=Tl;var Rl="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Tn=mi(Rl);J();u();l();J();var Xt={fetchConfig:{site:"common",project:"web_biz_defi"}};var ct;(function(e){e.NORMAL="normal",e.SHORTLINK="shortLink",e.MINIAPP="miniApp"})(ct||(ct={}));var hi="shareImage",gi="qrCode",_i=/^(https?):\/\/t\.me\/.*\bstartapp\b/i,bi=/(startapp|startApp)=(.*)/i,j={partName:Xt.fetchConfig.project},z={renderError:"render_error",jsError:"jsError",apiError:"statusFunc",apiTime:"apiTime"},wi=[{key:"saveImage",isShow:!0,label:()=>R("nft_share_text_save_image",{},j),icon:"okds-download"},{key:"copy",isShow:!0,label:()=>R("commonall_modal_btn_copy",{},j),icon:"okds-link"},{key:"chat",isShow:!1,label:()=>R("nft_share_text_chats",{},j),icon:"okds-share"},{key:"twitter",isShow:!0,label:()=>R("nftcommon_icon_text_twitter",{},j),icon:"ok-social-platform-x",iconColor:"#fff",backgroundColor:"#000"},{key:"telegram",isShow:!0,label:()=>R("nftcommon_icon_text_telegram",{},j),icon:"ok-social-platform-telegram",iconColor:"#fff",backgroundColor:"#1DADE9"}];u();l();J();var Il=e=>JSON.stringify(e).replace(/"/g,""),Bl=()=>hr()?"":{walletType:(ao.get("connectedAccount")||{})?.walletType},Pl=()=>hr()?"":window?.okxwallet?.getVersion?.(),Nl=()=>{let e=[Bl(),Pl()];return Promise.all(e)},kl=e=>Nl().then(t=>{let[r,n,o]=t,s={address:n,scene:e?.scene,tx:e?.txnHash,t:+new Date,code:e?.code,url:e?.url,e:e?.msg||e?.message||e?.error_message,v:window?.__INIT_STATE__?.appContext?.version},i={walletType:r,walletVersion:o,...e};return{baseInfo:s,reportData:i}}).catch(()=>{}),G=(e,t)=>{kl(t).then(r=>{so.error(`shareDialog ${e} - ${Il(r?.baseInfo)}`,r?.reportData)}).catch(()=>{})};var Rn=(...e)=>{uo(...e)},Ml=()=>Math.max(1,window.devicePixelRatio),ut=e=>{let t=m.Buffer.from(e),r=Uint8Array.from(t);return Tn.encode(r)},xe=e=>{let t=Tn.decode(e);return m.Buffer.from(t).toString()},er=(e,t)=>{let r=n=>{let o=document.createElement("textarea");o.value=n,o.style.position="absolute",o.style.left="-99999999px",document.body.prepend(o),o.select();try{document.execCommand("copy"),wt.success(t)}catch(s){wt.destroyAll(),G(z.jsError,{error:s,copyText:er})}finally{o.remove()}};navigator.clipboard.writeText(e).then(()=>{wt.success(t)}).catch(n=>{G(z.jsError,{error:n,text:e}),r(e)})},vn={saveImage:(e,t)=>async()=>{try{let n=(await import("./html2canvas-KSWWVWKT.js")).default,o=e?.current;if(!o)return!1;let s=Ml(),i=Math.max(2,s),a=await n(o,{useCORS:!0,logging:!1,scale:i}),c=document.createElement("a");return c.href=a.toDataURL("image/png"),c.download=`${t}.png`,c.target="_blank",c.click(),!0}catch(r){return G(z.jsError,{error:r}),!1}},copy:(e,t)=>()=>{let r=`${e} ${t}`;er(r,R("nft_multimint_notification_copied",{},j))},twitter:(e,t)=>()=>{let r=`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}&url=${encodeURIComponent(t)}`;Rn(r,"_blank")},telegram:(e,t)=>()=>{let r=`https://t.me/share/url?text=${encodeURIComponent(e)}&url=${encodeURIComponent(t)}`;Rn(r,"_blank")},chat:(e,t,r)=>()=>{try{if(di(),r?.imageUrl&&xn.isSupported()){let{imageUrl:n,widgetLink:o}=r;xn(n,{text:e,widgetLink:o})}else An.isAvailable()&&An(t,e)}catch{let o=`https://t.me/share/url?text=${encodeURIComponent(e)}&url=${encodeURIComponent(t)}`;Rn(o,"_blank")}}},yi=(e,t,r)=>{let{templateRef:n,shareMsg:o,shareLink:s,shareImageSrc:i,templateDOM:a,title:c,shareStoryParams:f}=r,p=d=>d?.action?d.action:d.key==="saveImage"?vn[d.key]?.(n,c):d.key==="chat"?vn[d.key]?.(o,s,f):vn[d.key]?.(o,s),h=(e||[]).reduce((d,b)=>(d[b.key]={...b,action:p(b)},d),{})||[];return(t||[]).forEach(d=>{h[d.key]={...h[d.key],...d,isShow:d.isShow!==void 0?d.isShow:!0,action:d.action||h[d.key]?.action}}),!a&&!i&&h.saveImage&&(h.saveImage.isShow=!1),Object.values(h)?.filter(d=>d.isShow)};u();l();var K={"message-input-container":"_message-input-container_1ojuq_1",messageInputContainer:"_message-input-container_1ojuq_1",title:"_title_1ojuq_9","share-msg-text-area":"_share-msg-text-area_1ojuq_15",shareMsgTextArea:"_share-msg-text-area_1ojuq_15","share-msg-text-area-box":"_share-msg-text-area-box_1ojuq_20",shareMsgTextAreaBox:"_share-msg-text-area-box_1ojuq_20",disabled:"_disabled_1ojuq_24","share-url":"_share-url_1ojuq_27",shareUrl:"_share-url_1ojuq_27","share-url-cls":"_share-url-cls_1ojuq_34",shareUrlCls:"_share-url-cls_1ojuq_34","share-url-inner":"_share-url-inner_1ojuq_40",shareUrlInner:"_share-url-inner_1ojuq_40","input-prefix-icon":"_input-prefix-icon_1ojuq_43",inputPrefixIcon:"_input-prefix-icon_1ojuq_43","input-suffix-icon":"_input-suffix-icon_1ojuq_47",inputSuffixIcon:"_input-suffix-icon_1ojuq_47"};var Ll=e=>{let{shareText:t,setShareMsg:r,shareLink:n=""}=e,o=i=>{let a=i?.target?.value;r(a)},s=()=>{er(n,R("nft_share_notification_url_copied",{},j))};return le.default.createElement("div",{className:K.messageInputContainer},le.default.createElement("div",{className:K.title},R("nft_share_textarea_customize_sharing_message",{},j)),le.default.createElement(gr.TextArea,{className:K.shareMsgTextArea,innerClassName:K.shareMsgTextAreaBox,value:t,onChange:o}),le.default.createElement("div",{className:K.shareUrl},le.default.createElement(gr,{prefix:le.default.createElement(Ke,{className:(0,In.default)("okx-defi-dex-link-2",K.inputPrefixIcon)}),disabled:!0,value:n,className:K.shareUrlCls,innerClassName:K.sharxeUrlInner,inputClassName:K.sharxeUrlInPut,suffix:le.default.createElement(yt,{onClick:s},le.default.createElement(Ke,{className:(0,In.default)("okx-defi-marketplace-copy",K.inputSuffixIcon)}))})))},Ei=Ll;u();l();var Te=v(q());u();l();var lt={"template-dom-container":"_template-dom-container_cj1mi_1",templateDomContainer:"_template-dom-container_cj1mi_1","img-wrap":"_img-wrap_cj1mi_15",imgWrap:"_img-wrap_cj1mi_15","qr-code":"_qr-code_cj1mi_22",qrCode:"_qr-code_cj1mi_22"};var Dl=e=>{let{templateDOM:t,templateRef:r,qrCode:n,shareImageSrc:o}=e,s=()=>t?Te.default.createElement("div",{className:lt.dom},t):o?Te.default.createElement("div",{className:lt.imgWrap},Te.default.createElement(po,{src:o,alt:hi})):null;return Te.default.createElement("div",{className:lt.templateDomContainer,ref:r},s(),n&&Te.default.createElement("div",{className:lt.qrCode},Te.default.createElement("img",{src:n,alt:gi})))},Ci=Dl;u();l();var Pe=v(q()),Sa=v(Ca());u();l();var Pf="/priapi/v1/nft";function Nf(e){let{status:t,data:r}=e||{},n={status:t||"",code:t||"",msg:r?.msg,message:r?.msg};return G(z.apiError,{error:n}),Promise.reject(n)}var kf={post:(e,t,r={})=>{let n={...r,headers:{...r?.headers||{}},needSign:!0};return lo.post(e,t,n).catch(Nf).then(o=>{let{data:s={}}=o||{};if(s&&Number(s.code)===0){let i=s;return Promise.resolve(i)}return Promise.reject(s)})}},Xn=e=>kf.post(`${Pf}/getShareLinkConfig`,e);var Aa=e=>{let t="";if(_i.test(e)){let r=e.match(bi);r?.length&&(t=r[2])}return t},eo=e=>{let t={},r=Aa(e);if(r){let n=xe(r);try{t=JSON.parse(n)}catch{t=n}}return t},xa=e=>{let[t,r]=(0,Pe.useState)(e?.shareUrl),n=async(i,a)=>{try{let c=await Xn({modelId:i,pathParams:a});c?.data?.shortLink&&r(c.data.shortLink)}catch(c){G(z.apiError,{e:c,modelId:i,pathParams:a})}},o=async(i,a)=>{try{let c=await Xn({webUrl:i,deepLink:a});c?.data?.shortLink&&r(c.data.shortLink)}catch(c){G(z.apiError,{e:c,webUrl:i,deepLink:a})}},s=i=>{let a=i,c=Aa(a);if(c){let f=ut(c);a=a.replace(c,f)}r(a)};return(0,Pe.useEffect)(()=>{let{modelId:i,pathParams:a={},linkType:c,shareUrl:f,deepLink:p}=e;!f||(r(f),i?n(i,a):c===ct.SHORTLINK&&f?o(f,p):c===ct.MINIAPP&&f?s(f):f&&r(f))},[e?.shareUrl]),t},Ta=e=>{let[t,r]=(0,Pe.useState)(null),n=(0,Pe.useCallback)(async()=>{if(e)if(window?.okxGlobal?.getQrCode)try{let o=await window.okxGlobal.getQrCode(e);o&&r(o)}catch(o){G(z.jsError,{err:o,shareLink:e})}else try{let o=await Sa.default.toDataURL(e);r(o)}catch(o){G(z.jsError,{err:o,shareLink:e})}},[e]);return{qrCode:t,generateQRCode:n}};u();l();var pr={container:"_container_157ek_1","template-dom":"_template-dom_157ek_15",templateDom:"_template-dom_157ek_15","msg-and-action":"_msg-and-action_157ek_29",msgAndAction:"_msg-and-action_157ek_29"};u();l();u();l();var to=e=>{let{isSm:t}=Ao(),{title:r=R("nft_share_header_share",{},j),visible:n=!1,templateDOM:o,shareImageSrc:s,shareText:i="",shareLinkParams:a={},shareChannels:c=[],onClose:f,shareStoryParams:p,localeConfig:h={}}=e,d=(0,k.useRef)(null),[b,y]=(0,k.useState)(i),g=xa(a),{qrCode:w,generateQRCode:P}=Ta(g),C=!!o||!!s,M=(0,k.useMemo)(()=>yi(wi,c,{templateRef:d,shareMsg:b,shareLink:g,shareImageSrc:s,templateDOM:o,title:r,shareStoryParams:p}),[c,b,g,d]);return(0,k.useEffect)(()=>{P()},[g]),k.default.createElement(co,{normalCsr:!0,fetchConfig:Xt.fetchConfig,...h},k.default.createElement(mo.Action,{alignBottom:!0,noMargin:!0,maskClosable:!0,noContentPadding:!0,visible:n,title:r,onClose:f,transitionProps:{type:"fade",timeout:100}},k.default.createElement("div",{className:pr.container},C&&k.default.createElement("div",{className:pr.templateDom},k.default.createElement(Ci,{templateDOM:o,templateRef:d,qrCode:w,shareImageSrc:s})),k.default.createElement("div",{className:pr.msgAndAction},!t&&k.default.createElement(Ei,{shareText:b,shareLink:g,setShareMsg:y}),k.default.createElement(Wo,{channels:M})))))};to.base58Encode=ut;to.base58Decode=xe;to.useGetMiniAppLinkParams=eo;u();l();u();l();var ro=()=>{};var Ra=e=>{try{return JSON.parse(xe(e))}catch{return{}}},va=e=>{let t="tonconnect-";return e.indexOf(t)!==-1},Ia=()=>{let e=ro();return!oo(e?.clientUrl)},Ba=e=>Ra(e)?.path?.startsWith("/dex-swap"),Pa=e=>{let t=Ra(e);return t?.path?.startsWith("/send-gift")||t?.path?.startsWith("/receive-gift")};var Ew=()=>{let{createWalletMonitor:e}=$o(),{onImportWallet:t,onCreateWallet:r}=Vo(),{isCloudChecked:n,onboardingRedirectCallBack:o}=So();return(0,no.useMount)(()=>{let a=xo();if(a){if(va(a)){ke({source:"ton_connect"});return}if(Ia(a)){ke({source:"okx_connect"});return}if(Ba(a)){ke({source:"bot_trade"});return}if(Pa(a)){ke({source:"red_pocket"});return}}ke({source:"others"})}),(0,no.useMount)(()=>{}),n?o?o():dr.default.createElement(Uo,{createWallet:()=>{e("create"),r()},importWallet:()=>{e("import"),t()}}):dr.default.createElement(dr.default.Fragment,null)};export{Ew as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Onboard-EYF7HPZJ.js.map
