import{a as W}from"./chunk-BKHV6IBS.js";import{b as _}from"./chunk-WGGUVNMX.js";import{a as M,b as P}from"./chunk-7H73XLDQ.js";import"./chunk-CUQ3APPN.js";import"./chunk-BAUTUSPJ.js";import"./chunk-4TXBJTY4.js";import"./chunk-JA6DNDTG.js";import"./chunk-ZAFBI5BD.js";import"./chunk-YSW2YY4I.js";import"./chunk-YDKVBWIO.js";import"./chunk-4PFFVHVY.js";import"./chunk-2QOKJOXY.js";import{a as B}from"./chunk-JSJTP4EG.js";import{a as b}from"./chunk-MMD6HZVV.js";import"./chunk-454I7KWD.js";import{a as D}from"./chunk-R6UCQXIY.js";import"./chunk-DIVFRUSZ.js";import"./chunk-NFPXRZGF.js";import"./chunk-7P3TAB2X.js";import"./chunk-F2DBKTIG.js";import"./chunk-2AZAHALD.js";import"./chunk-UKL67WXA.js";import"./chunk-FGVAAF7J.js";import"./chunk-B2JJAXTZ.js";import"./chunk-APUK5GYS.js";import"./chunk-55XCE2ZH.js";import"./chunk-TZ4DRGVV.js";import"./chunk-WVLQP46O.js";import"./chunk-EADI45MC.js";import"./chunk-KLQLZF6P.js";import"./chunk-XZD4GKLJ.js";import"./chunk-QHPYMFK2.js";import{d as R}from"./chunk-F4XZWNG2.js";import"./chunk-G6PPKZHQ.js";import"./chunk-2P7I7CKT.js";import"./chunk-FOZHYRP7.js";import"./chunk-S3KOFL77.js";import"./chunk-HVQTUZKT.js";import"./chunk-Z6KV2BLE.js";import"./chunk-DXXZWR4J.js";import"./chunk-5HXUZG4A.js";import"./chunk-SBQTMPJM.js";import"./chunk-7YQLUBDN.js";import"./chunk-O43TNQSD.js";import"./chunk-LUYLQDIU.js";import"./chunk-QZXD2Q4G.js";import"./chunk-MIHA7WB3.js";import"./chunk-UEHNGOG4.js";import"./chunk-2NGLDVXQ.js";import"./chunk-RQNRRXKS.js";import{a as E}from"./chunk-2LNDMD6C.js";import"./chunk-OAAPCU3J.js";import{a as V}from"./chunk-5H6XZDRF.js";import"./chunk-MFSPDO3X.js";import"./chunk-FUXD4L32.js";import"./chunk-6Y4AAIZN.js";import"./chunk-SIAVCB4G.js";import"./chunk-MNWYB2XY.js";import"./chunk-KX7CSB3G.js";import"./chunk-AOBCHKFQ.js";import"./chunk-DPRLOZH7.js";import"./chunk-DEQWBIFF.js";import"./chunk-ELJOB4BQ.js";import"./chunk-ELHNWADN.js";import"./chunk-4X3SKD2N.js";import"./chunk-GCAD5G3O.js";import"./chunk-PS6ETN2V.js";import"./chunk-AZYPLE5D.js";import"./chunk-SULFXTUN.js";import"./chunk-OGS4HURJ.js";import"./chunk-T6GLUO36.js";import"./chunk-KOPPPKVA.js";import"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import"./chunk-ZV6IBWDM.js";import"./chunk-F5ELBQNP.js";import"./chunk-HZPID3WW.js";import"./chunk-HZNY4MK4.js";import"./chunk-6CI55CTV.js";import"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import"./chunk-E75DNWM4.js";import"./chunk-GOMM7VSE.js";import"./chunk-LTMEFQRN.js";import"./chunk-MSUJSPID.js";import"./chunk-TU5XNYNZ.js";import"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as Q}from"./chunk-AUURQ3HI.js";import"./chunk-B32MCU7F.js";import"./chunk-QCINCBGO.js";import"./chunk-VOLYN562.js";import"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-XRF6BZHR.js";import"./chunk-OWU5GWTN.js";import{P as C,Q as T,z as x}from"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{Ja as S,Qb as A,_a as N,hc as K}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import"./chunk-E44TZGUB.js";import{K as w,oa as J}from"./chunk-KBQXBPIW.js";import"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as y}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-2RHSM47Y.js";import"./chunk-ZSUO3ILU.js";import"./chunk-ATMUHCXK.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-FV56V3FL.js";import"./chunk-7MZSFBF4.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-KHHBU7RQ.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as d,o as n,q as i}from"./chunk-FJHLV356.js";n();i();var h=d(y());n();i();var q=d(y());N();n();i();J();K();n();i();var I=d(V());N();var G=(t={})=>{let{params:e={}}=t,{transaction:o={}}=e;return o},Y=async(t={})=>{let{contractAddress:e,contractName:o,functionName:a,functionArgs:r}=t,{getRawTransaction:s}=await E(),c={data:{type:x.CONTRACT_CALL,data:{contract:e,contractName:o,functionName:a,functionArgs:r}}};return await s(I.Currency.Stx,c)},Z=async(t={})=>{let{recipient:e,amount:o,memo:a}=t,{getRawTransaction:r}=await E(),s={data:{type:x.TRANSFER,data:{to:e,amount:o,memo:a}}};return await r(I.Currency.Stx,s)},$=async(t={})=>t.txType===T.CONTRACT_CALL?Y(t):t.txType===T.STX_TRANSFER?Z(t):"",O=async({unapproved:t={},baseCoin:e={},fromAddress:o,value:a})=>{let r=G(t),s=await $(r);return(await b({coinId:e?.coinId||S,fromAddress:o,value:a,inputData:s}))?.gasLimit||"0"};n();i();var L=d(Q()),k=d(y());var v=({unapproved:t={},baseCoin:e})=>{let[o,a]=(0,k.useState)(),[r,{setTrue:s,setFalse:c}]=(0,L.useBoolean)(!0),[m,{setTrue:p,setFalse:f}]=(0,L.useBoolean)(!1),u=B(t);return(0,k.useEffect)(()=>{(async()=>{try{s(),f();let l=await O({unapproved:t,baseCoin:e,fromAddress:u?.address,value:"0"});a(l),c()}catch{p(),c()}})()},[t?.id]),{isLoadingFee:r,isGasError:m,fee:o}},U=v;var tt=({unapproved:t,baseCoin:e,coinId:o})=>{let{fee:a,isLoadingFee:r,isGasError:s}=U({unapproved:t,baseCoin:e}),c=D(o,t.walletId)||{},{coinAmountInt:m}=c,p=G(t),f=p?.txType===T.STX_TRANSFER?p?.amount:"0",u=w(m)||A(m,a),F=w(m)||A(m,f);return{loading:r,networkFee:a,estimateFailed:s,networkFeeProps:{coinId:o,loading:r,networkFee:a,estimateFailed:s},isSufficientGas:u,isSufficientBalance:F,coinWithBalance:c}},X=tt;var et=({unapproved:t})=>{let e=R(S)||{},o=e.coinId||S,a=t?.params?.transaction?.contractAddress,{networkFee:r,estimateFailed:s,networkFeeProps:c,isSufficientGas:m,loading:p,isSufficientBalance:f,coinWithBalance:u}=X({coinId:o,unapproved:t,baseCoin:e}),F=M({baseCoin:e,unapproved:t,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,coinWithBalance:u}),{buttonGroup:l}=_({coinId:o,unapproved:t,feeLoading:p,estimateFailed:s,isSufficientGas:m,isSufficientBalance:f,extParams:{fee:r},coinWithBalance:u});return q.default.createElement(P,{unapproved:t,tipMessage:F,buttonGroup:l,networkFee:c,contractAddress:a})},j=et;n();i();var z=d(y());var H=({unapproved:t})=>{let e=t.params?.message;return z.default.createElement(W,{message:e,unapproved:t})};var Ut=({unapproved:t})=>{switch(t.method){case C.SIGN_TRANSACTION:return h.default.createElement(j,{unapproved:t});case C.SIGN_MESSAGE:return h.default.createElement(H,{unapproved:t});default:return""}};export{Ut as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Stacks-NK7NBPC2.js.map
