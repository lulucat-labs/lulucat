import{a as Le,b as Me}from"./chunk-HLJM4H53.js";import{b as Zt}from"./chunk-DY3PK2UD.js";import{a as Nt}from"./chunk-A5JN3MUE.js";import{a as Ut,b as Se,c as be}from"./chunk-22TZDWXX.js";import{a as Pt,b as ft}from"./chunk-RUEY4TVH.js";import{e as Ot}from"./chunk-ZLQG6XAC.js";import"./chunk-QBO66WYA.js";import"./chunk-MSEKW37V.js";import"./chunk-LVFFHQXT.js";import"./chunk-N5KXYLI6.js";import{a as ke}from"./chunk-YUYN4WIC.js";import"./chunk-G6PPKZHQ.js";import"./chunk-2P7I7CKT.js";import{a as ve}from"./chunk-4PG3DHFO.js";import{a as xe,c as Ee,h as Ce}from"./chunk-2LNDMD6C.js";import"./chunk-OAAPCU3J.js";import{h as fe,i as he,p as we,q as ge}from"./chunk-BETSGZLN.js";import"./chunk-2R2FRPW3.js";import"./chunk-PREZW222.js";import"./chunk-KPMUK7JJ.js";import"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import"./chunk-ZV6IBWDM.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import"./chunk-G7B74XXT.js";import"./chunk-YYUUDQVK.js";import{a as Mt}from"./chunk-RJDGREGT.js";import{d as Ie,e as Ae}from"./chunk-HJB4XHU5.js";import"./chunk-QR7BG2TV.js";import"./chunk-5XL3JGAU.js";import"./chunk-QJFOLFSE.js";import"./chunk-DJ76J5SU.js";import"./chunk-AKJZXDVD.js";import"./chunk-E75DNWM4.js";import{a as Lt}from"./chunk-GOMM7VSE.js";import{e as me,f as ce}from"./chunk-LTMEFQRN.js";import"./chunk-MSUJSPID.js";import"./chunk-TU5XNYNZ.js";import{a as tt}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import{F as ue,Sa as de,Y as vt,a as kt,gb as St}from"./chunk-WSXZYUQ4.js";import{b as U}from"./chunk-JRZXGORL.js";import{q as P}from"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as Ne}from"./chunk-AUURQ3HI.js";import{B as pe,Rb as Te,cc as bt}from"./chunk-B32MCU7F.js";import"./chunk-QCINCBGO.js";import"./chunk-VOLYN562.js";import"./chunk-VLKJDIZ5.js";import{ua as Ct,va as It,za as ae}from"./chunk-N4B7HQY5.js";import{d as At,f as le}from"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-OWU5GWTN.js";import{na as _e}from"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import{a as ye,c as W}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{$a as re,Kc as rt,W as Ft,_a as Ge,_c as ie,ic as se,jc as je,na as oe,u as ee,yb as qe,z as Ve}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{H as at,O as dt,p as Et,q as Ht,x as Yt}from"./chunk-E44TZGUB.js";import{oa as $t,r as ut}from"./chunk-KBQXBPIW.js";import{O as it,w as s,x as Qt}from"./chunk-364XNTHB.js";import{b as te}from"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{H as Re,T as ne,ca as C}from"./chunk-W7JONHX2.js";import{a as Xe}from"./chunk-O3LHCDGR.js";import{a as ot}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-2RHSM47Y.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as v,o as a,q as l}from"./chunk-FJHLV356.js";a();l();var G=v(ot()),Ze=v(bt());it();a();l();var T=v(ot()),Dt=v(bt()),wt=v(Ne());$t();it();ae();Ge();le();a();l();var O=v(ot()),Pe=v(bt()),lt=v(Xe());it();qe();a();l();function Bt({visible:t,setVisible:o,confirm:u,chooseNetworkList:h,supportChainsList:c,setChooseNetWorkList:x}){let f=(0,Pe.useSelector)(Te),[d,L]=(0,O.useState)(!1),$=(0,O.useMemo)(()=>c.map(i=>i.chainName),[c]),H=(0,O.useMemo)(()=>c.filter(i=>!(Pt.includes(i.chainName)||ft.includes(i.chainName))).map(i=>({...f.find(w=>w.baseChain===i.chainName),imported:i.imported})),[f,c]),M=(0,O.useMemo)(()=>be.map(({chain:i,...I})=>$.includes(i)?{chain:i,config:I,allChains:f.filter(w=>i===re&&ft.includes(w.baseChain)?!0:w.baseChain===i),imported:c.find(w=>w.chainName===i)?.imported}:null),[f,c]);return t?O.default.createElement("div",{className:"chains-choose-network-modal__wrap"},O.default.createElement(Lt,{title:s("wallet_transfer_multichain_coin_maintitle_select_network"),className:"chains-choose-network-modal__navigator",onBack:()=>o(),closeable:!1}),O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__wrap"},O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__container"},M.map(i=>{if(!i)return null;let{chain:I,imported:w,allChains:y,config:D}=i,{titleKey:V,remindKey:F,networkCountKey:R,importPrivateKeyConfig:{supportNetworksKey:A}}=D;return O.default.createElement(Ut,{imported:w,selected:h.includes(I),handleClick:()=>{w||x(I)}},O.default.createElement(Se,{titleKey:V,remindKey:F,networkCountKey:R,descriptionKey:A,chainsList:y,imported:w}))}),H.map(i=>O.default.createElement(Ut,{key:i.chainName,selected:h.includes(i.baseChain),handleClick:()=>{i.imported||x(i.baseChain)},...i}))),O.default.createElement("div",{className:"chains-choose-network-modal__confirm-button-wrap"},O.default.createElement(C,{block:!0,loading:d,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:async i=>{try{L(!0),i.preventDefault(),i.stopPropagation(),await u(),L(!1)}catch{L(!1)}},className:"chains-choose-network-modal__confirm-button"},s("wallet_set_password_btn_confirm"))))):null}Bt.propTypes={visible:lt.default.bool.isRequired,setVisible:lt.default.func.isRequired,confirm:lt.default.func.isRequired,chooseNetworkList:lt.default.array.isRequired,supportChainsList:lt.default.array.isRequired,setChooseNetWorkList:lt.default.func.isRequired};a();l();var ht={root:"_root_o5han_1",title:"_title_o5han_4",input:"_input_o5han_7",link:"_link_o5han_12",bulk:"_bulk_o5han_18"};var Oe=t=>{let{history:o}=t,u=(0,Dt.useDispatch)(),h=(0,Dt.useSelector)(pe),[c,x]=(0,T.useState)(!1),[f,d]=(0,T.useState)(""),[L,$]=(0,T.useState)(""),[H,M]=(0,T.useState)(!1),[i,I]=(0,T.useState)(!1),[w,y]=(0,T.useState)(!1),[D,V]=(0,T.useState)([]),[F,R]=(0,T.useState)([]),{handleCloudResetError:A}=Mt();(0,wt.useMount)(()=>{x(o.location.pathname===vt)}),(0,wt.useUnmount)(()=>{M(!1),d(""),$(""),I(!1)});let et=n=>{y(!!n)},q=n=>{V([n])},st=async n=>{let{keyringName:g="",walletName:z=""}=n||{},J=`${g}-${z}`;o.push({pathname:`${ue}/key`,state:{walletName:J,anim:"1",next:kt}})},j=(0,wt.useMemoizedFn)(async()=>{let n="",g=!0;f&&!await Me(f,h)&&(g=!1,n=s("wallet_import_errortip_wrong_private_key")),M(!1),V([]),$(n),I(g)},[f]),nt=ut(j,200),p=async n=>{M(!0),d(n),$(""),I(!1),await nt()},r=async n=>{if(n?.preventDefault(),!i)return;Nt();let z=(await Le(f,h))?.filter(K=>K!==oe),J=[];for(let K=0,yt=z.length;K<yt;K++){let Q=z[K],pt=[Q];Q===Ft&&(pt=[...pt,...ft]),J.push(At().checkPrivateKeyIsImported({baseChains:pt,wallets:[{privateKey:f}]}))}let ct=(await Promise.allSettled(J)).map((K,yt)=>{let{value:Q}=K;return Q===void 0&&(Q=!0),{chainName:z[yt],imported:Q}}),gt=ct.filter(({imported:K})=>!K).map(({chainName:K})=>K),Tt=Pt.find(K=>gt.includes(K))||gt[0];Tt?(V([Tt]),R(ct),et(!0)):at.error({title:s("wallet_extension_imported_toast_wallet_existes"),top:0}),Nt()},m=async()=>{if(!i)return;let n;try{let g=D;g.includes(Ft)&&(g=[...g,...ft]),c?n=await u(ce({privateKey:f,baseChains:g})):(await u(he(f)),await u(we(g))),c?st(n):o.push(`${St}?from=${Ot.KEY}`)}catch(g){g.message===Ct&&at.error(s("wallet_home_toast_network_error")),g.message===It&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),$(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),A(g)}},E=s("wallet_import_subtitle_import_private_key_desc");return T.default.createElement(T.default.Fragment,null,T.default.createElement(W.Container,{className:ht.root},T.default.createElement("form",{onSubmit:r},T.default.createElement(P.Text,{size:P.SIZE.sm,className:ht.title},s("wallet_addwallet_btn_import_private_key")),T.default.createElement(Ae,{elementName:"ipk"},T.default.createElement(Ht.TextArea,{inputClassName:ht.input,value:f,type:"password",size:Ht.SIZE.lg,placeholder:E,onChange:n=>p(n.target.value),errorType:"blur",error:L,autoComplete:"off",cleanable:!0})),!w&&T.default.createElement(tt.FooterActions,{usePortal:!0,direction:ye.vertical},T.default.createElement(P.Text,{size:P.SIZE.sm,align:P.ALIGN.center,className:ht.link,onClick:()=>{ve(de)}},s("wallet_extension_private_key_maintitle_bulk_import"),T.default.createElement(ne,{className:`okds-arrow-pointer-right-md ${ht.bulk}`})),T.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!i,loading:H,onClick:r,block:!0},s("wallet_set_password_btn_confirm"))))),T.default.createElement(Bt,{visible:w,chooseNetworkList:D,supportChainsList:F,setVisible:et,setChooseNetWorkList:q,confirm:m}))};a();l();var N=v(ot()),He=v(bt()),Wt=v(Ne()),Ye=v(ke());$t();it();le();ie();ae();a();l();ie();te();a();l();te();function Vt(t,o){switch(t){case 501:return`m/44'/501'/${o}'/0'`;case 637:return`m/44'/637'/${o}'/0'/0'`;case 118:return`m/44'/118'/0'/0/${o}`;case 1001:case 1011:case 2892:return`m/44'/60'/0'/0/${o}`;case 1003:return`m/44'/394'/0'/0/${o}`;case 1006:return`m/44'/459'/0'/0/${o}`;case 1008:return`m/44'/529'/0'/0/${o}`;case 1010:return`m/44'/330'/0'/0/${o}`;case 784:return`m/44'/784'/${o}'/0'/0'`;case 804:return`m/44'/60'/0'/0/${o}`;case 9004:return`m/44'/9004'/0'/0/${o}`;case 1815:return`m/1852'/1815'/${o}'/0/0`;case 1237:return`m/44'/1237'/${o}'/0/0`;case 111111:return`m/44'/111111'/0'/0/${o}`;case 397:return`m/44'/397'/${o}'`;case 607:return`m/44'/607'/${o}'`;case 70000074:return`m/44'/314159'/${o}'`;default:return`m/44'/${t}'/0'/0/${o}`}}async function Be(t=""){try{let{wallet:o}=await Ee(607);return await o.validateMnemonicOfTon({mnemonicArray:t.split(" "),password:""})}catch{return!1}}async function De(t){let o=[{type:rt.HD_KEYRING,address:"",hdPath:Vt(607,0)},{type:rt.TON_HD_KEYRING,address:"",hdPath:""}],{getNewAddress:u,getDerivedPrivateKey:h}=await xe();return Promise.all(o.map(async c=>{let x=await h(607,{mnemonic:t,hdPath:c.hdPath}),{address:f}=await u(607,{privateKey:x});return c.address=f,c}))}a();l();var e=v(ot()),qt=v(ke()),jt=v(Re());$t();it();je();a();l();var Kt=v(ot());function Gt(t,o=[]){let u=(0,Kt.useRef)(!1);(0,Kt.useEffect)(()=>{if(u.current)return t();u.current=!0},o)}Ve();a();l();var Ke={topWrapper:"_topWrapper_c7vcn_1"};a();l();var Qe=({onWordsChange:t,onAnyWordError:o,onEditStateChange:u,onClear:h,error:c})=>{let[x,f]=(0,e.useState)("12"),[d,L]=(0,e.useState)(new Array(12).fill(null)),[$,H]=(0,e.useState)(!1),[M,i]=(0,e.useState)(-1),[I,w]=(0,e.useState)(!1),y=(0,e.useRef)(new Array(12).fill(null)),D=({text:r})=>e.default.createElement("div",{className:"mnemonic-words-menu-item"},r),V=(0,e.useMemo)(()=>[{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_12word",{length:"12"})}),value:"12"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_15word",{length:"15"})}),value:"15"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_18word",{length:"18"})}),value:"18"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_21word",{length:"21"})}),value:"21"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_24word",{length:"24"})}),value:"24"}],[s]),[F,R]=(0,e.useState)(!1),A=(0,e.useMemo)(()=>ut(r=>{R(r)},300),[]),et=(0,e.useCallback)(({value:r})=>{f(r),H(!0);let m=parseInt(r,10);if(m===d.length)return;let E=[...d],n=E.length;n<m?(E.length=m,y.current.length=m,E.fill(null,n,m),y.current.fill(!1,n,m)):(y.current.length=m,E.length=m),L(E),t&&t(E)},[d,t]),q=(0,e.useCallback)((r,m)=>{L(E=>{E[m]=r;let n=[...E];return t&&t(n),n}),w(!1)},[t]),st=(0,e.useCallback)((r,m)=>{let n=(r.trim().toLowerCase().match(/\w+/gu)?.join(" ")||"").split(/\s/u);if(n.length===0)return;if($===!1&&d.every(z=>!z)&&[12,15,18,21,24].includes(n.length)){f(`${n.length}`),L(n),t&&t(n);return}let g=[...d];for(let z=0;z<n.length;z++){let J=m+z;if(J>=g.length)break;g[J]=n[z]}L(g),t&&t(g)},[t,d]),j=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].error=r;let E=y.current.filter(n=>n&&n.error===!0).length;o&&o(E>0)},[o]),nt=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].focus=r;let E=y.current.filter(n=>n&&n.focus===!0).length>0;A(E),i(m)},[A]);Gt(()=>{u&&u(F)},[F,u]);let p=()=>{let r=d.map(()=>null);L(r),t&&t(r),h&&h(),w(!0)};return e.default.createElement("div",{className:"mnemonic-words-inputs"},e.default.createElement(W.FlexBox,{className:Ke.topWrapper,align:W.ALIGN.center,justify:"space-between"},e.default.createElement("span",{className:"mnemonic-words-inputs__length-type__text"},Qt("wallet_extension_import_seed_phrase_dropdown_text_ihave2",{words:e.default.createElement(Yt,{align:Yt.DIRECTION.right,isPcShowCheck:!0,options:V,onChange:et,value:x,optionContClassName:"mnemonic-words-inputs__length-type-dropdown-list",optionItemClassName:"mnemonic-words-inputs__length-type-item"})})),d.some(r=>r)&&e.default.createElement("div",{className:"mnemonic-words-inputs__clear"},e.default.createElement("div",{className:"mnemonic-words-inputs__clear-button",onClick:p},e.default.createElement("span",null,s("wallet_extension_import_seed_phrase_button_clear"))))),e.default.createElement("div",{className:"mnemonic-words-inputs__container"},d.map((r,m)=>e.default.createElement(to,{key:m,word:d[m]?d[m]:"",onWordChange:q,onFocusChange:nt,onPaste:st,onValidate:j,index:m,focusIndex:M,cleared:I}))),c&&e.default.createElement("span",{className:"mnemonic-words-inputs__error"},c))},to=({index:t,onWordChange:o,onPaste:u,word:h,onValidate:c,onFocusChange:x,focusIndex:f,cleared:d})=>{let[L,$]=(0,e.useState)(!1),[H,M]=(0,e.useState)(!0),[i,I]=(0,e.useState)(!1),[w,y]=(0,e.useState)(""),D=(0,e.useCallback)(p=>{let r=p.target.value;if(se()===ee&&r.includes(" ")){u(r,t),M(!0),x(!1,t);return}let m=(r||"").trim().toLowerCase();o(m,t),y(m)},[t,o]),V=(0,e.useCallback)(p=>{p.preventDefault(),p.stopPropagation();let r=p.clipboardData.getData("text");u(r,t),M(!0),x(!1,t)},[t,u]),F=(0,e.useCallback)(p=>{let r=Boolean(p)&&!qt.wordlists.english.includes(p);$(r),c&&c(r,t)},[t,c]),R=(0,e.useCallback)(()=>{M(!0),x(!1,t)},[t,x]);Gt(()=>{H&&F(h)},[h,H,F]);let A=(0,e.useMemo)(()=>{if(!w)return[];let p=w.replace(/[^a-zA-Z]/gm,"");if(!p)return[];let r=qt.wordlists.english.filter(m=>new RegExp(`^${p}`).test(m));return r.length===1&&r[0]===p?[]:(r.length>6&&(r.length=6),r)},[w]),et=(0,e.useCallback)(()=>{M(!1),I(!0),x(!0,t),c&&c(!1,t)},[t,x,c]),q=p=>{D({target:{value:p}}),I(!1),$(!1),c&&c(!1,t),M(!0),x(!1,t),setTimeout(()=>{let r=document.querySelectorAll(".mnemonic-words-inputs__container__input");r[t+1]&&r[t+1].focus()})},st=(0,e.useCallback)(({key:p})=>{p==="Enter"&&A.length===1&&q(A[0])},[A]),j=(0,e.useRef)(null),nt=H&&h&&!L;return(0,e.useEffect)(()=>{function p(r){j.current&&!j.current.contains(r.target)&&I(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[j]),(0,e.useEffect)(()=>{f!==t&&(I(!1),F(h))},[f,t]),(0,e.useEffect)(()=>{F(h)},[d]),e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-item"},e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-index"},t+1),e.default.createElement(Et,{className:"mnemonic-words-inputs__container__input-popup",arrowSize:Et.SIZE.lg,arrowStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:"8px",disabled:A.length===0,content:e.default.createElement("div",{ref:j,className:(0,jt.default)("mnemonic-words-inputs__container__candidate",{"columns-3":A.length>=3,"columns-2":A.length===2,"columns-1":A.length===1})},A.map(p=>e.default.createElement("div",{key:p,className:"mnemonic-words-inputs__container__candidate-word",onClick:()=>q(p)},p))),show:i,placement:Et.DIRECTION.bottom,smartMode:!0,modifiers:[{name:"preventOverflow",options:{padding:16}}]},e.default.createElement(Ie,{elementName:"m"},e.default.createElement("input",{className:(0,jt.default)("mnemonic-words-inputs__container__input",{"mnemonic-words-inputs__container__input-error":L}),value:h,onBlur:R,onFocus:et,onPaste:V,onChange:D,onKeyDown:st,autoComplete:"off",type:nt?"password":"text"}))))},We=Qe;a();l();var Z=v(ot());it();a();l();var X={root:"_root_1337z_1",fixBox:"_fixBox_1337z_4",closeBox:"_closeBox_1337z_8",textBox:"_textBox_1337z_13",iconBox:"_iconBox_1337z_21",icon:"_icon_1337z_21",tonTitle:"_tonTitle_1337z_30",text:"_text_1337z_13"};var eo=({onClose:t=()=>{},onConfirm:o=()=>{},isImporting:u=!1})=>Z.default.createElement(W.Portal,{className:X.root},Z.default.createElement(tt.FooterActions,{className:X.fixBox},Z.default.createElement("div",{className:X.closeBox},Z.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:X.icon,onClick:t})),Z.default.createElement(W.Box,{className:X.textBox},Z.default.createElement("div",{className:X.iconBox},Z.default.createElement(U,{size:U.SIZE.xxl,icon:"okx-wallet-plugin-warning-circle",className:X.icon})),Z.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:X.tonTitle},s("wallet_extension_import_title_being_imported")),Z.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:X.text},s("wallet_extension_import_subtitle_being_imported")),Z.default.createElement(tt.FooterActions,null,Z.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:o,block:!0,loading:u},s("commonall_text_btn_ok_passive")))))),ze=eo;a();l();var S=v(ot());it();a();l();var B={root:"_root_1rxd9_1",fixBox:"_fixBox_1rxd9_4",closeBox:"_closeBox_1rxd9_9",textBox:"_textBox_1rxd9_14",iconBox:"_iconBox_1rxd9_23",icon:"_icon_1rxd9_23",tonTitle:"_tonTitle_1rxd9_32",text:"_text_1rxd9_14",switchItem:"_switchItem_1rxd9_43",address:"_address_1rxd9_50",addressTitle:"_addressTitle_1rxd9_55",tonAddress:"_tonAddress_1rxd9_59"};var oo=({item:t})=>{let{address:o,tonTitle:u,onClick:h,iconLink:c}=t;return S.default.createElement("div",{className:B.switchItem,onClick:()=>{h&&h(t)}},S.default.createElement("div",{className:B.iconTps},S.default.createElement(U,{size:U.SIZE.lg,icon:c,className:B.icon})),S.default.createElement("div",{className:B.address},S.default.createElement("span",{className:B.addressTitle},u),S.default.createElement("div",null,s("wallet_extension_ton_select_ton_address")),S.default.createElement("span",{className:B.tonAddress},o)),S.default.createElement("div",{className:B.iconArrow},S.default.createElement(U,{size:U.SIZE.lg,icon:"okx-wallet-plugin-right",className:B.icon})))},ro=({onClose:t=()=>{},addressList:o=[]})=>S.default.createElement(W.Portal,{className:B.root},S.default.createElement(tt.FooterActions,{className:B.fixBox},S.default.createElement("div",{className:B.closeBox},S.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:B.icon,onClick:t})),S.default.createElement(W.Box,{className:B.textBox},S.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.lg,className:B.tonTitle},s("wallet_extension_ton_title_input_address")),S.default.createElement(P.Text,{warp:!0,strong:!0,size:P.SIZE.sm,className:B.text},s("wallet_extension_ton_desc_input_address")),o.map(u=>S.default.createElement(oo,{item:u}))))),$e=ro;a();l();var Fe={root:"_root_v31gt_1"};var Ue=t=>{let{history:o}=t,u=(0,He.useDispatch)(),[h,c]=(0,N.useState)(!1),[x,f]=(0,N.useState)(!1),[d,L]=(0,N.useState)([]),[$,H]=(0,N.useState)(!1),[M,i]=(0,N.useState)(""),[I,w]=(0,N.useState)(!1),[y,D]=(0,N.useState)(!1),[V,F]=(0,N.useState)(!1),[R,A]=(0,N.useState)(!1),[et,q]=(0,N.useState)(!1),[st,j]=(0,N.useState)([]),[nt,p]=(0,N.useState)(!1),{handleCloudResetError:r}=Mt();(0,Wt.useMount)(()=>{f(o.location.pathname===vt)});let m=()=>{o.replace(kt)},E=(0,Wt.useMemoizedFn)(async()=>{let _=d.length>0,k=!1;for(let _t=0;_t<d.length;_t++){let Jt=d[_t];(!Jt||!Ye.wordlists.english.includes(Jt))&&(_=!1)}let Y=!1,xt=!1;if(_){let{ethers:_t}=await Ce();_=_t.utils.isValidMnemonic(d.join(" ")),d.length===_e.TWENTYFOUR&&(Y=await Be(d.join(" ")),_&&!Y||!_&&Y?_=!0:_&&Y?(xt=!0,_=!0):_=!1),y||(k=!_)}return y&&(k=!1),H(_),F(k),{isValid:_,isTonMnemonic:Y,isMnemonicNormalAndTon:xt}},[d,y]),n=ut(E,500),g=async _=>{L(_),i(""),await n()},z=_=>{w(_)},J=_=>{D(_),E()},Rt=()=>I?s("wallet_import_wallet_errortip_seed_phase_wrong"):V?s("wallet_import_wallet_errortip_seed_phase_order_wrong"):M||"",ct=async({isTonMnemonic:_})=>{let k=d.join(" ");try{x?await u(me({mnemonic:k,isTonMnemonic:_})):await u(fe(k)),x?m():o.push(`${St}?from=${Ot.SEED}`)}catch(Y){Y.message===Ct&&at.error(s("wallet_home_toast_network_error")),Y.message===It&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),i(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),Y.message===Zt&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),r(Y)}finally{c(!1)}Nt()},gt=async()=>{try{p(!0),await u(ge(!0)),await ct({isTonMnemonic:!0}),A(!1)}finally{p(!1)}},Tt=async _=>{_.type===rt.HD_KEYRING&&await ct({isTonMnemonic:!1}),_.type===rt.TON_HD_KEYRING&&await gt(),q(!1)},K=async()=>{let _=await De(d.join(" "));j(_.map(k=>(k.type===rt.HD_KEYRING&&(k.tonTitle=s("wallet_extension_ton_select_multi_chain_wallet"),k.iconLink="okx-wallet-plugin-ton-seedphrase",k.onClick=Tt),k.type===rt.TON_HD_KEYRING&&(k.tonTitle=s("wallet_extension_ton_select_ton_wallet"),k.iconLink="okx-wallet-plugin-ton-wallet",k.onClick=Tt),k))),q(!0)},yt=async()=>{try{if(x)await At().checkMnemonicIsImported({mnemonic:d.join(" ")});else return!0}catch(_){return _.message===Zt&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),c(!1),!1}return!0},Q=async _=>{_?.preventDefault(),c(!0);let{isValid:k,isTonMnemonic:Y,isMnemonicNormalAndTon:xt}=await E();if(!(!k||!await yt())){if(xt){K();return}if(Y){A(!0);return}await ct({isTonMnemonic:!1})}},pt=Rt();return N.default.createElement(W.Box,{className:Fe.root},N.default.createElement("form",{onSubmit:Q},N.default.createElement(We,{onEditStateChange:J,onAnyWordError:z,onWordsChange:g,onClear:()=>{H(!1)},error:pt}),N.default.createElement(tt.FooterActions,{usePortal:!0},N.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!$||pt,loading:h,onClick:Q,block:!0},s("wallet_set_password_btn_confirm"))),R&&N.default.createElement(ze,{isImporting:nt,onClose:()=>{A(!1),c(!1)},onConfirm:gt}),et&&N.default.createElement($e,{onClose:()=>{q(!1),c(!1)},addressList:st})))};a();l();var zt={connect:"_connect_1lqck_1",tabs:"_tabs_1lqck_4","tabs-header":"_tabs-header_1lqck_7",tabsHeader:"_tabs-header_1lqck_7"};var Xt=class extends G.PureComponent{render(){return this.props?G.default.createElement(W.Container,null,G.default.createElement(Lt,{title:s("wallet_extension_import_card_title_import"),closeable:!1,stickyStyle:{zIndex:10}}),G.default.createElement("div",{className:zt.connect},G.default.createElement(dt.Segmented,{average:!0,destroyOnHide:!0,className:zt.tabs,headerClassName:zt.tabsHeader,size:dt.SIZE.sm,color:dt.COLOR.grey},G.default.createElement(dt.TabPane,{id:"1",tab:s("wallet_extension_import_tab_seed_phrase")},G.default.createElement(Ue,{...this.props})),G.default.createElement(dt.TabPane,{id:"2",tab:s("wallet_extension_import_tab_private_key")},G.default.createElement(Oe,{...this.props}))))):null}},mn=(0,Ze.connect)(null,null)(Xt);export{mn as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ImportSeedPhraseAndPrivateKey-UVW547HJ.js.map
