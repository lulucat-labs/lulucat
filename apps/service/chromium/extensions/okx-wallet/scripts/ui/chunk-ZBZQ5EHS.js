import{b as L}from"./chunk-T2TGZ6ZH.js";import{i as E}from"./chunk-TC5Y3PWY.js";import{a as x}from"./chunk-DPLPUTOK.js";import{b as y}from"./chunk-IYVZOFWF.js";import{a as S}from"./chunk-O43TNQSD.js";import{F as o,oa as M}from"./chunk-KBQXBPIW.js";import{a as K}from"./chunk-PDSGFBX4.js";import{f as V,o as d,q as P}from"./chunk-FJHLV356.js";d();P();M();function $(u,a,r=20){if(r<0||r>100)throw new Error("Percentage should be between 0 and 100");let e=new S.BigNumber(u),t=new S.BigNumber(a);if(e.isZero())throw new Error("The 'from' value cannot be zero to calculate percentage difference.");let n=e.minus(t).div(e).times(100);return{isDifferenceLarge:n.gte(r),percentageDifference:n.toFixed(2)}}function z(u){if(o(u))return"";let a=u.length,r=u.map(i=>i.name),e=y("swaptrade_meme_regularcell_preset_num",{num:a+1}),t=10,s="_1",n=1;for(;r.includes(e);){if(n>t)return e;e=`${e}${s}`,n++}return e}d();P();var f=V(K());M();var N=()=>{let{memeConfigStore:u}=L(),{config:a}=u,{defaultBuyPresets:r=[],defaultSellPresets:e=[],slippageConfig:t={},priorityFeeInfo:s={}}=a||{},n=(p,m,c,l)=>{if(o(p)||o(t)||o(c))return[];let D=["low","medium","high","custom"],{min:h,max:B}=t,I={low:m[0],medium:m[1],high:m[2]},T=["market","fast","turbo","custom"];return p.map((_,C)=>{let{slippage:b,priorityFeeType:R,[l?"defaultBuyAmountList":"defaultSellPercentList"]:v}=_,w=m.indexOf(b),A=w!==-1?D[w]:"custom";return{amountList:v,slippage:{value:b,type:A,config:I,min:h,max:B},priorityFee:{value:"",type:T[R-1],max:String(c?.maxValue),recommendMaxValue:c?.recommendMaxValue,recommendMinValue:c?.recommendMinValue,config:{market:{},fast:{},turbo:{}}},isEnableMev:_.isEnableMev,name:y("swaptrade_meme_regularcell_preset_num",{num:C+1})||"Preset"}})},i=(0,f.useMemo)(()=>n(r,t.slippageList,s,!0),[r,t,s]),g=(0,f.useMemo)(()=>n(e,t.slippageList,s,!1),[e,t,s]);return{computeBuyDefaultPresetList:i,computedSellDefaultPresetList:g}},W=()=>{let{memeBuyStore:u,memeSellStore:a}=L(),{buyPresetList:r,setBuyPresetList:e,currentBuyPresetIndex:t,setCurrentBuyPresetIndex:s}=u,{sellPresetList:n,setSellPresetList:i,currentSellPresetIndex:g,setCurrentSellPresetIndex:p}=a,{computeBuyDefaultPresetList:m,computedSellDefaultPresetList:c}=N();(0,f.useEffect)(()=>{if(o(m)||o(c))return;let l=x.get(E);if(l){e(l.buyPresetList),s(l.currentBuyPresetIndex),i(l.sellPresetList),p(l.currentSellPresetIndex);return}e(m),i(c)},[e,i,s,p,m,c]),(0,f.useEffect)(()=>{o(r)||o(n)||x.set(E,{buyPresetList:r,currentBuyPresetIndex:t,sellPresetList:n,currentSellPresetIndex:g})},[r,n,t,g])};export{$ as a,z as b,N as c,W as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-ZBZQ5EHS.js.map
