import{a as Va}from"./chunk-NHLEEQJM.js";import{a as ke}from"./chunk-MFVLNWG5.js";import{a as be}from"./chunk-QSDQT55Q.js";import{a as ai}from"./chunk-LI7MZD2P.js";import{a as Na}from"./chunk-WTNDHHRR.js";import"./chunk-TECQ47XD.js";import"./chunk-J5P7OMUC.js";import"./chunk-CWRZ2WAJ.js";import"./chunk-OMIXKWD3.js";import"./chunk-PBODVK5S.js";import"./chunk-OENPHC74.js";import"./chunk-TNAXYRKK.js";import"./chunk-3CPUV3E7.js";import{d as ve}from"./chunk-SHMKQUVK.js";import{c as y,o as a,p as f,q as u}from"./chunk-FJHLV356.js";var _s=y(ps=>{"use strict";a();u();Object.defineProperty(ps,"__esModule",{value:!0})});var xt=y(c=>{"use strict";a();u();Object.defineProperty(c,"__esModule",{value:!0});c.s16=c.s8=c.nu64be=c.u48be=c.u40be=c.u32be=c.u24be=c.u16be=c.nu64=c.u48=c.u40=c.u32=c.u24=c.u16=c.u8=c.offset=c.greedy=c.Constant=c.UTF8=c.CString=c.Blob=c.Boolean=c.BitField=c.BitStructure=c.VariantLayout=c.Union=c.UnionLayoutDiscriminator=c.UnionDiscriminator=c.Structure=c.Sequence=c.DoubleBE=c.Double=c.FloatBE=c.Float=c.NearInt64BE=c.NearInt64=c.NearUInt64BE=c.NearUInt64=c.IntBE=c.Int=c.UIntBE=c.UInt=c.OffsetLayout=c.GreedyCount=c.ExternalLayout=c.bindConstructorLayout=c.nameWithProperty=c.Layout=c.uint8ArrayToBuffer=c.checkUint8Array=void 0;c.constant=c.utf8=c.cstr=c.blob=c.unionLayoutDiscriminator=c.union=c.seq=c.bits=c.struct=c.f64be=c.f64=c.f32be=c.f32=c.ns64be=c.s48be=c.s40be=c.s32be=c.s24be=c.s16be=c.ns64=c.s48=c.s40=c.s32=c.s24=void 0;var ci=ve();function Ht(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}c.checkUint8Array=Ht;function P(r){return Ht(r),ci.Buffer.from(r.buffer,r.byteOffset,r.length)}c.uint8ArrayToBuffer=P;var A=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};c.Layout=A;function di(r,e){return e.property?r+"["+e.property+"]":r}c.nameWithProperty=di;function za(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof A))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}c.bindConstructorLayout=za;var J=class extends A{isCount(){throw new Error("ExternalLayout is abstract")}};c.ExternalLayout=J;var Fr=class extends J{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){Ht(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};c.GreedyCount=Fr;var gr=class extends J{constructor(e,t=0,n){if(!(e instanceof A))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof ne||this.layout instanceof pe}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};c.OffsetLayout=gr;var ne=class extends A{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return P(e).readUIntLE(t,this.span)}encode(e,t,n=0){return P(t).writeUIntLE(e,n,this.span),this.span}};c.UInt=ne;var pe=class extends A{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return P(e).readUIntBE(t,this.span)}encode(e,t,n=0){return P(t).writeUIntBE(e,n,this.span),this.span}};c.UIntBE=pe;var dt=class extends A{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return P(e).readIntLE(t,this.span)}encode(e,t,n=0){return P(t).writeIntLE(e,n,this.span),this.span}};c.Int=dt;var wt=class extends A{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return P(e).readIntBE(t,this.span)}encode(e,t,n=0){return P(t).writeIntBE(e,n,this.span),this.span}};c.IntBE=wt;var ui=Math.pow(2,32);function cn(r){let e=Math.floor(r/ui),t=r-e*ui;return{hi32:e,lo32:t}}function dn(r,e){return r*ui+e}var Gr=class extends A{constructor(e){super(8,e)}decode(e,t=0){let n=P(e),i=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return dn(s,i)}encode(e,t,n=0){let i=cn(e),s=P(t);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};c.NearUInt64=Gr;var Hr=class extends A{constructor(e){super(8,e)}decode(e,t=0){let n=P(e),i=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return dn(i,s)}encode(e,t,n=0){let i=cn(e),s=P(t);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};c.NearUInt64BE=Hr;var xr=class extends A{constructor(e){super(8,e)}decode(e,t=0){let n=P(e),i=n.readUInt32LE(t),s=n.readInt32LE(t+4);return dn(s,i)}encode(e,t,n=0){let i=cn(e),s=P(t);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};c.NearInt64=xr;var $r=class extends A{constructor(e){super(8,e)}decode(e,t=0){let n=P(e),i=n.readInt32BE(t),s=n.readUInt32BE(t+4);return dn(i,s)}encode(e,t,n=0){let i=cn(e),s=P(t);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};c.NearInt64BE=$r;var Jr=class extends A{constructor(e){super(4,e)}decode(e,t=0){return P(e).readFloatLE(t)}encode(e,t,n=0){return P(t).writeFloatLE(e,n),4}};c.Float=Jr;var Xr=class extends A{constructor(e){super(4,e)}decode(e,t=0){return P(e).readFloatBE(t)}encode(e,t,n=0){return P(t).writeFloatBE(e,n),4}};c.FloatBE=Xr;var Zr=class extends A{constructor(e){super(8,e)}decode(e,t=0){return P(e).readDoubleLE(t)}encode(e,t,n=0){return P(t).writeDoubleLE(e,n),8}};c.Double=Zr;var Qr=class extends A{constructor(e){super(8,e)}decode(e,t=0){return P(e).readDoubleBE(t)}encode(e,t,n=0){return P(t).writeDoubleBE(e,n),8}};c.DoubleBE=Qr;var en=class extends A{constructor(e,t,n){if(!(e instanceof A))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof J&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof J)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof J&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],i=0,s=this.count;for(s instanceof J&&(s=s.decode(e,t));i<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,s=e.reduce((o,d)=>o+i.encode(d,t,n+o),0);return this.count instanceof J&&this.count.encode(e.length,t,n),s}};c.Sequence=en;var tn=class extends A{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof A,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){Ht(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,s=0,o=0;for(let d of this.fields){let l=d.span;if(o=0<l?l:0,d.property!==void 0){let b=e[d.property];b!==void 0&&(o=d.encode(b,t,n),0>l&&(l=d.getSpan(t,n)))}s=n,n+=l}return s+o-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};c.Structure=tn;var hr=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};c.UnionDiscriminator=hr;var Gt=class extends hr{constructor(e,t){if(!(e instanceof J&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};c.UnionLayoutDiscriminator=Gt;var br=class extends A{constructor(e,t,n){let i;if(e instanceof ne||e instanceof pe)i=new Gt(new gr(e));else if(e instanceof J&&e.isCount())i=new Gt(e);else if(e instanceof hr)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof A))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof ne||e instanceof pe)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof ne||e instanceof pe,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(d){return o(d)},this.configGetSourceVariant=function(d){o=d.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){let d=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[d.property]=d.decode(e,t+l)}else n=o.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,o=this.defaultLayout,d=0;return this.usesPrefixDiscriminator&&(d=s.layout.span),s.encode(e[s.property],t,n),d+o.encode(e[o.property],t,n+d)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new rn(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};c.Union=br;var rn=class extends A{constructor(e,t,n,i){if(!(e instanceof br))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof A))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),s+=this.layout.getSpan(t,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};c.VariantLayout=rn;function Ft(r){return 0>r&&(r+=4294967296),r}var pr=class extends A{constructor(e,t,n){if(!(e instanceof ne||e instanceof pe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Ft(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new _r(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new nn(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};c.BitStructure=pr;var _r=class{constructor(e,t,n){if(!(e instanceof pr))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((o,d)=>o+d.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=Ft(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return Ft(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Ft(e&this.valueMask))throw new TypeError(di("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=Ft(e<<this.start);this.container._packedSetValue(Ft(t&~this.wordMask)|n)}};c.BitField=_r;var nn=class extends _r{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};c.Boolean=nn;var sn=class extends A{constructor(e,t){if(!(e instanceof J&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof J||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),P(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof J&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(di("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let s=P(e);return P(t).write(s.toString("hex"),n,i,"hex"),this.length instanceof J&&this.length.encode(i,t,n),i}};c.Blob=sn;var on=class extends A{constructor(e){super(-1,e)}getSpan(e,t=0){Ht(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return P(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=ci.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let o=P(t);return i.copy(o,n),o[n+s]=0,s+1}};c.CString=on;var an=class extends A{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return Ht(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return P(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=ci.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(P(t),n),s}};c.UTF8=an;var un=class extends A{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};c.Constant=un;c.greedy=(r,e)=>new Fr(r,e);c.offset=(r,e,t)=>new gr(r,e,t);c.u8=r=>new ne(1,r);c.u16=r=>new ne(2,r);c.u24=r=>new ne(3,r);c.u32=r=>new ne(4,r);c.u40=r=>new ne(5,r);c.u48=r=>new ne(6,r);c.nu64=r=>new Gr(r);c.u16be=r=>new pe(2,r);c.u24be=r=>new pe(3,r);c.u32be=r=>new pe(4,r);c.u40be=r=>new pe(5,r);c.u48be=r=>new pe(6,r);c.nu64be=r=>new Hr(r);c.s8=r=>new dt(1,r);c.s16=r=>new dt(2,r);c.s24=r=>new dt(3,r);c.s32=r=>new dt(4,r);c.s40=r=>new dt(5,r);c.s48=r=>new dt(6,r);c.ns64=r=>new xr(r);c.s16be=r=>new wt(2,r);c.s24be=r=>new wt(3,r);c.s32be=r=>new wt(4,r);c.s40be=r=>new wt(5,r);c.s48be=r=>new wt(6,r);c.ns64be=r=>new $r(r);c.f32=r=>new Jr(r);c.f32be=r=>new Xr(r);c.f64=r=>new Zr(r);c.f64be=r=>new Qr(r);c.struct=(r,e,t)=>new tn(r,e,t);c.bits=(r,e,t)=>new pr(r,e,t);c.seq=(r,e,t)=>new en(r,e,t);c.union=(r,e,t)=>new br(r,e,t);c.unionLayoutDiscriminator=(r,e)=>new Gt(r,e);c.blob=(r,e)=>new sn(r,e);c.cstr=r=>new on(r);c.utf8=(r,e)=>new an(r,e);c.constant=(r,e)=>new un(r,e)});var $t=y(ln=>{"use strict";a();u();Object.defineProperty(ln,"__esModule",{value:!0});ln.encodeDecode=void 0;var Wa=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};ln.encodeDecode=Wa});var li=y(k=>{"use strict";a();u();Object.defineProperty(k,"__esModule",{value:!0});k.u256be=k.u256=k.u192be=k.u192=k.u128be=k.u128=k.u64be=k.u64=k.bigIntBE=k.bigInt=void 0;var ms=ve(),Ss=xt(),fn=ai(),ws=$t(),Ya=r=>e=>{let t=(0,Ss.blob)(r,e),{encode:n,decode:i}=(0,ws.encodeDecode)(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,fn.toBigIntLE)(ms.Buffer.from(l))},s.encode=(o,d,l)=>{let b=(0,fn.toBufferLE)(o,r);return n(b,d,l)},s};k.bigInt=Ya;var Fa=r=>e=>{let t=(0,Ss.blob)(r,e),{encode:n,decode:i}=(0,ws.encodeDecode)(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,fn.toBigIntBE)(ms.Buffer.from(l))},s.encode=(o,d,l)=>{let b=(0,fn.toBufferBE)(o,r);return n(b,d,l)},s};k.bigIntBE=Fa;k.u64=(0,k.bigInt)(8);k.u64be=(0,k.bigIntBE)(8);k.u128=(0,k.bigInt)(16);k.u128be=(0,k.bigIntBE)(16);k.u192=(0,k.bigInt)(24);k.u192be=(0,k.bigIntBE)(24);k.u256=(0,k.bigInt)(32);k.u256be=(0,k.bigIntBE)(32)});var Ps=y(It=>{"use strict";a();u();Object.defineProperty(It,"__esModule",{value:!0});It.decimal=It.WAD=void 0;var Is=ke(),Ga=$t(),Ha=li();It.WAD=new Is.BigNumber("1e+18");var xa=r=>{let e=(0,Ha.u128)(r),{encode:t,decode:n}=(0,Ga.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let d=n(s,o).toString();return new Is.BigNumber(d).div(It.WAD)},i.encode=(s,o,d)=>{let l=BigInt(s.times(It.WAD).integerValue().toString());return t(l,o,d)},i};It.decimal=xa});var Ts=y(yn=>{"use strict";a();u();Object.defineProperty(yn,"__esModule",{value:!0});yn.bool=void 0;var $a=xt(),Ja=$t(),Xa=r=>{let e=(0,$a.u8)(r),{encode:t,decode:n}=(0,Ja.encodeDecode)(e),i=e;return i.decode=(s,o)=>!!n(s,o),i.encode=(s,o,d)=>{let l=Number(s);return t(l,o,d)},i};yn.bool=Xa});var Os=y(gn=>{"use strict";a();u();Object.defineProperty(gn,"__esModule",{value:!0});gn.publicKey=void 0;var Za=xt(),Qa=C(),eu=$t(),tu=r=>{let e=(0,Za.blob)(32,r),{encode:t,decode:n}=(0,eu.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let d=n(s,o);return new Qa.PublicKey(d)},i.encode=(s,o,d)=>{let l=s.toBuffer();return t(l,o,d)},i};gn.publicKey=tu});var As=y(Be=>{"use strict";a();u();var ru=Be&&Be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jt=Be&&Be.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ru(e,r,t)};Object.defineProperty(Be,"__esModule",{value:!0});Jt($t(),Be);Jt(li(),Be);Jt(Ps(),Be);Jt(Ts(),Be);Jt(Os(),Be);Jt(xt(),Be)});var W=y(Pt=>{"use strict";a();u();var nu=Pt&&Pt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vs=Pt&&Pt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&nu(e,r,t)};Object.defineProperty(Pt,"__esModule",{value:!0});vs(xt(),Pt);vs(As(),Pt)});var fi=y(Je=>{"use strict";a();u();var iu=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),su=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ou=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&iu(e,r,t);return su(e,r),e};Object.defineProperty(Je,"__esModule",{value:!0});Je.FeeCalculatorLayout=void 0;var au=ou(W());Je.FeeCalculatorLayout=au.nu64("lamportsPerSignature")});var ks=y(We=>{"use strict";a();u();Object.defineProperty(We,"__esModule",{value:!0});We.SOLANA_SCHEMA=We.Enum=We.Struct=void 0;var uu=ve(),yi=Na(),hn=class{constructor(e){Object.assign(this,e)}encode(){return uu.Buffer.from((0,yi.serialize)(We.SOLANA_SCHEMA,this))}static decode(e){return(0,yi.deserialize)(We.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,yi.deserializeUnchecked)(We.SOLANA_SCHEMA,this,e)}};We.Struct=hn;var gi=class extends hn{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};We.Enum=gi;We.SOLANA_SCHEMA=new Map});var Ut=y(bn=>{"use strict";a();u();Object.defineProperty(bn,"__esModule",{value:!0});bn.toBuffer=void 0;var hi=ve(),cu=r=>hi.Buffer.isBuffer(r)?r:r instanceof Uint8Array?hi.Buffer.from(r.buffer,r.byteOffset,r.byteLength):hi.Buffer.from(r);bn.toBuffer=cu});var _e=y(Ke=>{"use strict";a();u();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PublicKey=Ke.PUBLIC_KEY_LENGTH=Ke.MAX_SEED_LENGTH=void 0;var Bs=ke(),lt=ve(),Ms=ks(),du=Ut(),mr=ke();Ke.MAX_SEED_LENGTH=32;Ke.PUBLIC_KEY_LENGTH=32;function lu(r){return r._bn!==void 0}var Es=1,Ee=class extends Ms.Struct{constructor(e){if(super({}),lu(e))this._bn=e._bn;else{if(typeof e=="string"){let t=mr.base.fromBase58(e);if(t.length!=Ke.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new Bs.BN(t)}else this._bn=new Bs.BN(e);if(this._bn.byteLength()>Ke.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new Ee(Es);return Es+=1,new Ee(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(lt.Buffer);if(e.length===Ke.PUBLIC_KEY_LENGTH)return e;let t=lt.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=lt.Buffer.concat([e.toBuffer(),lt.Buffer.from(t),n.toBuffer()]),s=mr.base.sha256(i);return new Ee(s)}static createProgramAddressSync(e,t){let n=lt.Buffer.alloc(0);e.forEach(function(s){if(s.length>Ke.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=lt.Buffer.concat([n,(0,du.toBuffer)(s)])}),n=lt.Buffer.concat([n,t.toBuffer(),lt.Buffer.from("ProgramDerivedAddress")]);let i=mr.base.sha256(n);if(Ks(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let s=e.concat(lt.Buffer.from([n]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new Ee(e);return Ks(t.toBytes())==1}};Ke.PublicKey=Ee;Ee.default=new Ee("11111111111111111111111111111111");Ms.SOLANA_SCHEMA.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});function Ks(r){try{return mr.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var Ls=y(_n=>{"use strict";a();u();Object.defineProperty(_n,"__esModule",{value:!0});_n.Keypair=void 0;var fu=_e(),pn=ke(),Sr=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let s=new TextEncoder().encode("@solana/web3.js-validation-v1"),o=pn.signUtil.ed25519.sign(s,e),d=pn.signUtil.ed25519.publicKeyCreate(e);if(!pn.signUtil.ed25519.verify(s,o,d))throw new Error("provided secretKey is invalid")}let n=pn.signUtil.ed25519.publicKeyCreate(e);return new Sr({publicKey:n,secretKey:e})}get publicKey(){return new fu.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};_n.Keypair=Sr});var Sn=y(mn=>{"use strict";a();u();Object.defineProperty(mn,"__esModule",{value:!0});mn.MessageAccountKeys=void 0;var bi=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});let i=s=>{let o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};mn.MessageAccountKeys=bi});var ft=y(B=>{"use strict";a();u();var yu=B&&B.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gu=B&&B.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hu=B&&B.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yu(e,r,t);return gu(e,r),e};Object.defineProperty(B,"__esModule",{value:!0});B.getAlloc=B.voteInit=B.lockup=B.authorized=B.rustString=B.uint64=B.signature=B.publicKey=void 0;var Ds=ve(),G=hu(W()),bu=(r="publicKey")=>G.blob(32,r);B.publicKey=bu;var pu=(r="signature")=>G.blob(64,r);B.signature=pu;var _u=(r="uint64")=>G.blob(8,r);B.uint64=_u;var mu=(r="string")=>{let e=G.struct([G.u32("length"),G.u32("lengthPadding"),G.blob(G.offset(G.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,d)=>{let l={chars:Ds.Buffer.from(s,"utf8")};return n(l,o,d)},i.alloc=s=>G.u32().span+G.u32().span+Ds.Buffer.from(s,"utf8").length,i};B.rustString=mu;var Su=(r="authorized")=>G.struct([(0,B.publicKey)("staker"),(0,B.publicKey)("withdrawer")],r);B.authorized=Su;var wu=(r="lockup")=>G.struct([G.ns64("unixTimestamp"),G.ns64("epoch"),(0,B.publicKey)("custodian")],r);B.lockup=wu;var Iu=(r="voteInit")=>G.struct([(0,B.publicKey)("nodePubkey"),(0,B.publicKey)("authorizedVoter"),(0,B.publicKey)("authorizedWithdrawer"),G.u8("commission")],r);B.voteInit=Iu;function Us(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return Us({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}B.getAlloc=Us});var qt=y(Tt=>{"use strict";a();u();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.SIGNATURE_LENGTH_IN_BYTES=Tt.VERSION_PREFIX_MASK=Tt.PACKET_DATA_SIZE=void 0;Tt.PACKET_DATA_SIZE=1280-40-8;Tt.VERSION_PREFIX_MASK=127;Tt.SIGNATURE_LENGTH_IN_BYTES=64});var wr=y(Xt=>{"use strict";a();u();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.encodeLength=Xt.decodeLength=void 0;function Pu(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}Xt.decodeLength=Pu;function Tu(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}Xt.encodeLength=Tu});var jt=y(pi=>{"use strict";a();u();Object.defineProperty(pi,"__esModule",{value:!0});function Ou(r,e){if(!r)throw new Error(e||"Assertion failed")}pi.default=Ou});var _i=y(Zt=>{"use strict";a();u();var Au=Zt&&Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.CompiledKeys=void 0;var wn=Au(jt()),Ir=_e(),Pr=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=o=>{let d=o.toBase58(),l=n.get(d);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(d,l)),l},s=i(t);s.isSigner=!0,s.isWritable=!0;for(let o of e){i(o.programId).isInvoked=!0;for(let d of o.keys){let l=i(d.pubkey);l.isSigner||(l.isSigner=d.isSigner),l.isWritable||(l.isWritable=d.isWritable)}}return new Pr(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,wn.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{(0,wn.default)(t.length>0,"Expected at least one writable signer key");let[l]=t[0];(0,wn.default)(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let d=[...t.map(([l])=>new Ir.PublicKey(l)),...n.map(([l])=>new Ir.PublicKey(l)),...i.map(([l])=>new Ir.PublicKey(l)),...s.map(([l])=>new Ir.PublicKey(l))];return[o,d]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[s,o]of this.keyMetaMap.entries())if(t(o)){let d=new Ir.PublicKey(s),l=e.findIndex(b=>b.equals(d));l>=0&&((0,wn.default)(l<256,"Max lookup table index exceeded"),n.push(l),i.push(d),this.keyMetaMap.delete(s))}return[n,i]}};Zt.CompiledKeys=Pr});var Si=y(Xe=>{"use strict";a();u();var vu=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ku=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mi=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vu(e,r,t);return ku(e,r),e};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.Message=void 0;var Qt=ke(),Me=ve(),ie=mi(W()),er=_e(),qs=mi(ft()),js=qt(),Ot=mi(wr()),Bu=Ut(),Eu=_i(),Cs=Sn(),tr=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new er.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Qt.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Cs.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=Eu.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),o=new Cs.MessageAccountKeys(i).compileInstructions(e.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:Qt.base.toBase58(d.data)}));return new tr({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Ot.encodeLength(t,e);let n=this.instructions.map(_=>{let{accounts:E,programIdIndex:v}=_,M=Array.from(Qt.base.fromBase58(_.data)),h=[];Ot.encodeLength(h,E.length);let O=[];return Ot.encodeLength(O,M.length),{programIdIndex:v,keyIndicesCount:Me.Buffer.from(h),keyIndices:E,dataLength:Me.Buffer.from(O),data:M}}),i=[];Ot.encodeLength(i,n.length);let s=Me.Buffer.alloc(js.PACKET_DATA_SIZE);Me.Buffer.from(i).copy(s);let o=i.length;n.forEach(_=>{o+=ie.struct([ie.u8("programIdIndex"),ie.blob(_.keyIndicesCount.length,"keyIndicesCount"),ie.seq(ie.u8("keyIndex"),_.keyIndices.length,"keyIndices"),ie.blob(_.dataLength.length,"dataLength"),ie.seq(ie.u8("userdatum"),_.data.length,"data")]).encode(_,s,o)}),s=s.slice(0,o);let d=ie.struct([ie.blob(1,"numRequiredSignatures"),ie.blob(1,"numReadonlySignedAccounts"),ie.blob(1,"numReadonlyUnsignedAccounts"),ie.blob(t.length,"keyCount"),ie.seq(qs.publicKey("key"),e,"keys"),qs.publicKey("recentBlockhash")]),l={numRequiredSignatures:Me.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Me.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Me.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Me.Buffer.from(t),keys:this.accountKeys.map(_=>(0,Bu.toBuffer)(_.toBytes())),recentBlockhash:Qt.base.fromBase58(this.recentBlockhash)},b=Me.Buffer.alloc(2048),w=d.encode(l,b);return s.copy(b,w),b.slice(0,w+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&js.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),s=t.shift(),o=Ot.decodeLength(t),d=[];for(let E=0;E<o;E++){let v=t.slice(0,er.PUBLIC_KEY_LENGTH);t=t.slice(er.PUBLIC_KEY_LENGTH),d.push(new er.PublicKey(Me.Buffer.from(v)))}let l=t.slice(0,er.PUBLIC_KEY_LENGTH);t=t.slice(er.PUBLIC_KEY_LENGTH);let b=Ot.decodeLength(t),w=[];for(let E=0;E<b;E++){let v=t.shift(),M=Ot.decodeLength(t),h=t.slice(0,M);t=t.slice(M);let O=Ot.decodeLength(t),K=t.slice(0,O),Ae=Qt.base.toBase58(Me.Buffer.from(K));t=t.slice(O),w.push({programIdIndex:v,accounts:h,data:Ae})}let _={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Qt.base.toBase58(Me.Buffer.from(l)),accountKeys:d,instructions:w};return new tr(_)}};Xe.Message=tr});var Pi=y(Le=>{"use strict";a();u();var Ku=Le&&Le.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mu=Le&&Le.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ii=Le&&Le.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ku(e,r,t);return Mu(e,r),e},Lu=Le&&Le.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Le,"__esModule",{value:!0});Le.MessageV0=void 0;var Rs=ke(),L=Ii(W()),wi=Ii(ft()),Tr=_e(),se=Ii(wr()),Ns=Lu(jt()),In=qt(),Du=_i(),Vs=Sn(),rr=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Vs.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((o,d)=>o+d.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=Du.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let w of s){let _=t.extractTableLookup(w);if(_!==void 0){let[E,{writable:v,readonly:M}]=_;n.push(E),i.writable.push(...v),i.readonly.push(...M)}}let[o,d]=t.getMessageComponents(),b=new Vs.MessageAccountKeys(d,i).compileInstructions(e.instructions);return new rr({header:o,staticAccountKeys:d,recentBlockhash:e.recentBlockhash,compiledInstructions:b,addressTableLookups:n})}serialize(){let e=Array();se.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();se.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();se.encodeLength(s,this.addressTableLookups.length);let o=L.struct([L.u8("prefix"),L.struct([L.u8("numRequiredSignatures"),L.u8("numReadonlySignedAccounts"),L.u8("numReadonlyUnsignedAccounts")],"header"),L.blob(e.length,"staticAccountKeysLength"),L.seq(wi.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),wi.publicKey("recentBlockhash"),L.blob(n.length,"instructionsLength"),L.blob(t.length,"serializedInstructions"),L.blob(s.length,"addressTableLookupsLength"),L.blob(i.length,"serializedAddressTableLookups")]),d=new Uint8Array(In.PACKET_DATA_SIZE),l=1<<7,b=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:Rs.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},d);return d.slice(0,b)}serializeInstructions(){let e=0,t=new Uint8Array(In.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();se.encodeLength(i,n.accountKeyIndexes.length);let s=Array();se.encodeLength(s,n.data.length),e+=L.struct([L.u8("programIdIndex"),L.blob(i.length,"encodedAccountKeyIndexesLength"),L.seq(L.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),L.blob(s.length,"encodedDataLength"),L.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(In.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();se.encodeLength(i,n.writableIndexes.length);let s=Array();se.encodeLength(s,n.readonlyIndexes.length),e+=L.struct([wi.publicKey("accountKey"),L.blob(i.length,"encodedWritableIndexesLength"),L.seq(L.u8(),n.writableIndexes.length,"writableIndexes"),L.blob(s.length,"encodedReadonlyIndexesLength"),L.seq(L.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&In.VERSION_PREFIX_MASK;(0,Ns.default)(n!==i,"Expected versioned message but received legacy message");let s=i;(0,Ns.default)(s===0,`Expected versioned message with version 0 but found version ${s}`);let o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},d=[],l=se.decodeLength(t);for(let M=0;M<l;M++)d.push(new Tr.PublicKey(t.splice(0,Tr.PUBLIC_KEY_LENGTH)));let b=Rs.base.toBase58(t.splice(0,Tr.PUBLIC_KEY_LENGTH)),w=se.decodeLength(t),_=[];for(let M=0;M<w;M++){let h=t.shift(),O=se.decodeLength(t),K=t.splice(0,O),Ae=se.decodeLength(t),yr=new Uint8Array(t.splice(0,Ae));_.push({programIdIndex:h,accountKeyIndexes:K,data:yr})}let E=se.decodeLength(t),v=[];for(let M=0;M<E;M++){let h=new Tr.PublicKey(t.splice(0,Tr.PUBLIC_KEY_LENGTH)),O=se.decodeLength(t),K=t.splice(0,O),Ae=se.decodeLength(t),yr=t.splice(0,Ae);v.push({accountKey:h,writableIndexes:K,readonlyIndexes:yr})}return new rr({header:o,staticAccountKeys:d,recentBlockhash:b,compiledInstructions:_,addressTableLookups:v})}};Le.MessageV0=rr});var Ti=y(Or=>{"use strict";a();u();Object.defineProperty(Or,"__esModule",{value:!0});Or.VersionedMessage=void 0;var Uu=qt(),qu=Si(),ju=Pi();Or.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&Uu.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=Or.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return qu.Message.from(r);if(e===0)return ju.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var Tn=y(Ze=>{"use strict";a();u();var Cu=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pn=Ze&&Ze.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Cu(e,r,t)};Object.defineProperty(Ze,"__esModule",{value:!0});Pn(Sn(),Ze);Pn(Si(),Ze);Pn(Ti(),Ze);Pn(Pi(),Ze)});var Oi=y(De=>{"use strict";a();u();var Ru=De&&De.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nu=De&&De.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ys=De&&De.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ru(e,r,t);return Nu(e,r),e};Object.defineProperty(De,"__esModule",{value:!0});De.NonceAccount=De.NONCE_ACCOUNT_LENGTH=void 0;var On=Ys(W()),zs=Ys(ft()),Ws=_e(),Vu=fi(),zu=Ut(),Fs=On.struct([On.u32("version"),On.u32("state"),zs.publicKey("authorizedPubkey"),zs.publicKey("nonce"),On.struct([Vu.FeeCalculatorLayout],"feeCalculator")]);De.NONCE_ACCOUNT_LENGTH=Fs.span;var Ar=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=Fs.decode((0,zu.toBuffer)(e),0);return new Ar({authorizedPubkey:new Ws.PublicKey(t.authorizedPubkey),nonce:new Ws.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};De.NonceAccount=Ar});var vr=y(Qe=>{"use strict";a();u();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.u256=Qe.u192=Qe.u128=Qe.u64=void 0;var Wu=ve(),Yu=W(),Gs=ai(),Fu=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},An=r=>e=>{let t=(0,Yu.blob)(r,e),{encode:n,decode:i}=Fu(t),s=t;return s.decode=(o,d)=>{let l=i(o,d);return(0,Gs.toBigIntLE)(Wu.Buffer.from(l))},s.encode=(o,d,l)=>{let b=(0,Gs.toBufferLE)(o,r);return n(b,d,l)},s};Qe.u64=An(8);Qe.u128=An(16);Qe.u192=An(24);Qe.u256=An(32)});var kr=y(Ue=>{"use strict";a();u();var Gu=Ue&&Ue.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hu=Ue&&Ue.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xu=Ue&&Ue.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gu(e,r,t);return Hu(e,r),e};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.decodeData=Ue.encodeData=void 0;var $u=ve(),Ju=xu(ft());function Xu(r,e){let t=r.layout.span>=0?r.layout.span:Ju.getAlloc(r,e),n=$u.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}Ue.encodeData=Xu;function Zu(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}Ue.decodeData=Zu});var Ai=y(z=>{"use strict";a();u();Object.defineProperty(z,"__esModule",{value:!0});z.SYSVAR_STAKE_HISTORY_PUBKEY=z.SYSVAR_SLOT_HISTORY_PUBKEY=z.SYSVAR_SLOT_HASHES_PUBKEY=z.SYSVAR_REWARDS_PUBKEY=z.SYSVAR_RENT_PUBKEY=z.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=z.SYSVAR_INSTRUCTIONS_PUBKEY=z.SYSVAR_EPOCH_SCHEDULE_PUBKEY=z.SYSVAR_CLOCK_PUBKEY=void 0;var yt=_e();z.SYSVAR_CLOCK_PUBKEY=new yt.PublicKey("SysvarC1ock11111111111111111111111111111111");z.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new yt.PublicKey("SysvarEpochSchedu1e111111111111111111111111");z.SYSVAR_INSTRUCTIONS_PUBKEY=new yt.PublicKey("Sysvar1nstructions1111111111111111111111111");z.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new yt.PublicKey("SysvarRecentB1ockHashes11111111111111111111");z.SYSVAR_RENT_PUBKEY=new yt.PublicKey("SysvarRent111111111111111111111111111111111");z.SYSVAR_REWARDS_PUBKEY=new yt.PublicKey("SysvarRewards111111111111111111111111111111");z.SYSVAR_SLOT_HASHES_PUBKEY=new yt.PublicKey("SysvarS1otHashes111111111111111111111111111");z.SYSVAR_SLOT_HISTORY_PUBKEY=new yt.PublicKey("SysvarS1otHistory11111111111111111111111111");z.SYSVAR_STAKE_HISTORY_PUBKEY=new yt.PublicKey("SysvarStakeHistory1111111111111111111111111")});var Hs=y(At=>{"use strict";a();u();Object.defineProperty(At,"__esModule",{value:!0});At.TransactionExpiredNonceInvalidError=At.TransactionExpiredTimeoutError=At.TransactionExpiredBlockheightExceededError=void 0;var vn=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};At.TransactionExpiredBlockheightExceededError=vn;Object.defineProperty(vn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var kn=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};At.TransactionExpiredTimeoutError=kn;Object.defineProperty(kn.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Bn=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};At.TransactionExpiredNonceInvalidError=Bn;Object.defineProperty(Bn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var vi=y(oe=>{"use strict";a();u();var Qu=oe&&oe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ec=oe&&oe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tc=oe&&oe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Qu(e,r,t);return ec(e,r),e},rc=oe&&oe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oe,"__esModule",{value:!0});oe.Transaction=oe.TransactionInstruction=void 0;var ht=ve(),Br=qt(),xs=Tn(),nc=_e(),$s=tc(wr()),ic=Ut(),gt=rc(jt()),Ct=ke(),sc=ht.Buffer.alloc(Br.SIGNATURE_LENGTH_IN_BYTES).fill(0),Er=class{constructor(e){this.data=ht.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};oe.TransactionInstruction=Er;var nr=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Er(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let h=0;h<t.length;h++)if(t[h].programId===void 0)throw new Error(`Transaction instruction index ${h} has undefined program id`);let i=[],s=[];t.forEach(h=>{h.keys.forEach(K=>{s.push({...K})});let O=h.programId.toString();i.includes(O)||i.push(O)}),i.forEach(h=>{s.push({pubkey:new nc.PublicKey(h),isSigner:!1,isWritable:!1})});let o=[];s.forEach(h=>{let O=h.pubkey.toString(),K=o.findIndex(Ae=>Ae.pubkey.toString()===O);K>-1?(o[K].isWritable=o[K].isWritable||h.isWritable,o[K].isSigner=o[K].isSigner||h.isSigner):o.push(h)}),o.sort(function(h,O){return h.isSigner!==O.isSigner?h.isSigner?-1:1:h.isWritable!==O.isWritable?h.isWritable?-1:1:h.pubkey.toBase58().localeCompare(O.pubkey.toBase58())});let d=o.findIndex(h=>h.pubkey.equals(n));if(d>-1){let[h]=o.splice(d,1);h.isSigner=!0,h.isWritable=!0,o.unshift(h)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let h of this.signatures){let O=o.findIndex(K=>K.pubkey.equals(h.publicKey));if(O>-1)o[O].isSigner||(o[O].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${h.publicKey.toString()}`)}let l=0,b=0,w=0,_=[],E=[];o.forEach(({pubkey:h,isSigner:O,isWritable:K})=>{O?(_.push(h.toString()),l+=1,K||(b+=1)):(E.push(h.toString()),K||(w+=1))});let v=_.concat(E),M=t.map(h=>{let{data:O,programId:K}=h;return{programIdIndex:v.indexOf(K.toString()),accounts:h.keys.map(Ae=>v.indexOf(Ae.pubkey.toString())),data:Ct.base.toBase58(O)}});return M.forEach(h=>{(0,gt.default)(h.programIdIndex>=0),h.accounts.forEach(O=>(0,gt.default)(O>=0))}),new xs.Message({header:{numRequiredSignatures:l,numReadonlySignedAccounts:b,numReadonlyUnsignedAccounts:w},accountKeys:v,recentBlockhash:e,instructions:M})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let s=Ct.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,ic.toBuffer)(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,gt.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ht.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!Ct.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];$s.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,s=ht.Buffer.alloc(i);return(0,gt.default)(t.length<256),ht.Buffer.from(n).copy(s,0),t.forEach(({signature:o},d)=>{o!==null&&((0,gt.default)(o.length===64,"signature has invalid length"),ht.Buffer.from(o).copy(s,n.length+d*64))}),e.copy(s,n.length+t.length*64),(0,gt.default)(s.length<=Br.PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${Br.PACKET_DATA_SIZE}`),s}get keys(){return(0,gt.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,gt.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,gt.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=$s.decodeLength(t),i=[];for(let s=0;s<n;s++){let o=t.slice(0,Br.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(Br.SIGNATURE_LENGTH_IN_BYTES),i.push(Ct.base.toBase58(ht.Buffer.from(o)))}return nr.populate(xs.Message.from(t),i)}static populate(e,t=[]){let n=new nr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{let o={signature:i==Ct.base.toBase58(sc)?null:ht.Buffer.from(Ct.base.fromBase58(i)),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{let s=i.accounts.map(o=>{let d=e.accountKeys[o];return{pubkey:d,isSigner:n.signatures.some(l=>l.publicKey.toString()===d.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Er({keys:s,programId:e.accountKeys[i.programIdIndex],data:ht.Buffer.from(Ct.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};oe.Transaction=nr});var Zs=y(ir=>{"use strict";a();u();var oc=ir&&ir.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ir,"__esModule",{value:!0});ir.TransactionMessage=void 0;var Js=oc(jt()),ac=Ut(),Xs=Tn(),uc=vi(),Kr=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:l}=n,b=o-d;(0,Js.default)(b>0,"Message header is invalid");let w=e.staticAccountKeys.length-o-l;(0,Js.default)(w>=0,"Message header is invalid");let _=e.getAccountKeys(t),E=_.get(0);if(E===void 0)throw new Error("Failed to decompile message because no account keys were found");let v=[];for(let M of i){let h=[];for(let K of M.accountKeyIndexes){let Ae=_.get(K);if(Ae===void 0)throw new Error(`Failed to find key for account key index ${K}`);let yr=K<o,Yr;yr?Yr=K<b:K<_.staticAccountKeys.length?Yr=K-o<w:Yr=K-_.staticAccountKeys.length<_.accountKeysFromLookups.writable.length,h.push({pubkey:Ae,isSigner:K<n.numRequiredSignatures,isWritable:Yr})}let O=_.get(M.programIdIndex);if(O===void 0)throw new Error(`Failed to find program id for program id index ${M.programIdIndex}`);v.push(new uc.TransactionInstruction({programId:O,data:(0,ac.toBuffer)(M.data),keys:h}))}return new Kr({payerKey:E,instructions:v,recentBlockhash:s})}compileToLegacyMessage(){return Xs.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Xs.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};ir.TransactionMessage=Kr});var to=y(qe=>{"use strict";a();u();var cc=qe&&qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dc=qe&&qe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ki=qe&&qe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cc(e,r,t);return dc(e,r),e},lc=qe&&qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qe,"__esModule",{value:!0});qe.VersionedTransaction=void 0;var En=ki(W()),Kn=lc(jt()),fc=Ti(),Qs=qt(),eo=ki(wr()),yc=ki(ft()),gc=ke(),hc=ve(),Mr=class{get signature(){return this.signatures.length>0?hc.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,Kn.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Qs.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();eo.encodeLength(t,this.signatures.length);let n=En.struct([En.blob(t.length,"encodedSignaturesLength"),En.seq(yc.signature(),this.signatures.length,"signatures"),En.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e],n=[],i=eo.decodeLength(t);for(let o=0;o<i;o++)n.push(new Uint8Array(t.splice(0,Qs.SIGNATURE_LENGTH_IN_BYTES)));let s=fc.VersionedMessage.deserialize(new Uint8Array(t));return new Mr(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(o=>o.equals(i.publicKey));(0,Kn.default)(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=gc.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,Kn.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));(0,Kn.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};qe.VersionedTransaction=Mr});var Dr=y(Ye=>{"use strict";a();u();var bc=Ye&&Ye.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lr=Ye&&Ye.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&bc(e,r,t)};Object.defineProperty(Ye,"__esModule",{value:!0});Lr(qt(),Ye);Lr(Hs(),Ye);Lr(vi(),Ye);Lr(Zs(),Ye);Lr(to(),Ye)});var Ei=y(m=>{"use strict";a();u();var pc=m&&m.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_c=m&&m.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),io=m&&m.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pc(e,r,t);return _c(e,r),e};Object.defineProperty(m,"__esModule",{value:!0});m.SystemProgram=m.SYSTEM_INSTRUCTION_LAYOUTS=m.SystemInstruction=void 0;var I=io(W()),U=kr(),Z=io(ft()),ro=Oi(),je=_e(),Ur=Ai(),et=Dr(),Fe=Ut(),no=vr(),Bi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(m.SYSTEM_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new je.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new je.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:s}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je.PublicKey(t),seed:n,space:i,programId:new je.PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new je.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je.PublicKey(t),seed:n,programId:new je.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:s,programId:o}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new je.PublicKey(t),seed:n,lamports:i,space:s,programId:new je.PublicKey(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new je.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,U.decodeData)(m.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new je.PublicKey(t)}}static checkProgramId(e){if(!e.equals(vt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};m.SystemInstruction=Bi;m.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:I.struct([I.u32("instruction"),I.ns64("lamports"),I.ns64("space"),Z.publicKey("programId")])},Assign:{index:1,layout:I.struct([I.u32("instruction"),Z.publicKey("programId")])},Transfer:{index:2,layout:I.struct([I.u32("instruction"),(0,no.u64)("lamports")])},CreateWithSeed:{index:3,layout:I.struct([I.u32("instruction"),Z.publicKey("base"),Z.rustString("seed"),I.ns64("lamports"),I.ns64("space"),Z.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:I.struct([I.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:I.struct([I.u32("instruction"),Z.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:I.struct([I.u32("instruction"),Z.publicKey("authorized")])},Allocate:{index:8,layout:I.struct([I.u32("instruction"),I.ns64("space")])},AllocateWithSeed:{index:9,layout:I.struct([I.u32("instruction"),Z.publicKey("base"),Z.rustString("seed"),I.ns64("space"),Z.publicKey("programId")])},AssignWithSeed:{index:10,layout:I.struct([I.u32("instruction"),Z.publicKey("base"),Z.rustString("seed"),Z.publicKey("programId")])},TransferWithSeed:{index:11,layout:I.struct([I.u32("instruction"),(0,no.u64)("lamports"),Z.rustString("seed"),Z.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:I.struct([I.u32("instruction")])}});var vt=class{constructor(){}static createAccount(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,U.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,Fe.toBuffer)(e.programId.toBuffer())});return new et.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=m.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,U.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,Fe.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=m.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,U.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new et.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=m.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,U.encodeData)(i,{base:(0,Fe.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,Fe.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=m.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,U.encodeData)(i,{programId:(0,Fe.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,U.encodeData)(t,{base:(0,Fe.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,Fe.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new et.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new et.Transaction;"basePubkey"in e&&"seed"in e?t.add(vt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ro.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(vt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ro.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,U.encodeData)(t,{authorized:(0,Fe.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ur.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ur.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new et.TransactionInstruction(i)}static nonceAdvance(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,U.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Ur.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new et.TransactionInstruction(i)}static nonceWithdraw(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,U.encodeData)(t,{lamports:e.lamports});return new et.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Ur.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ur.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=m.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,U.encodeData)(t,{authorized:(0,Fe.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new et.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=m.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,U.encodeData)(i,{base:(0,Fe.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,Fe.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=m.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,U.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new et.TransactionInstruction({keys:n,programId:this.programId,data:t})}};m.SystemProgram=vt;vt.programId=new je.PublicKey("11111111111111111111111111111111")});var so=y(Mn=>{"use strict";a();u();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.decodeData=void 0;function mc(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}Mn.decodeData=mc});var fo=y(Ce=>{"use strict";a();u();var Sc=Ce&&Ce.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wc=Ce&&Ce.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),co=Ce&&Ce.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sc(e,r,t);return wc(e,r),e},Ic=Ce&&Ce.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.AddressLookupTableAccount=void 0;var tt=co(W()),oo=Ic(jt()),lo=co(ft()),ao=_e(),Pc=vr(),Tc=so(),uo=56,Ki=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,Tc.decodeData)(Oc,e),n=e.length-uo;(0,oo.default)(n>=0,"lookup table is invalid"),(0,oo.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=tt.struct([tt.seq(lo.publicKey(),i,"addresses")]).decode(e.slice(uo));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ao.PublicKey(t.authority[0]):void 0,addresses:s.map(o=>new ao.PublicKey(o))}}};Ce.AddressLookupTableAccount=Ki;var Oc={index:1,layout:tt.struct([tt.u32("typeIndex"),(0,Pc.u64)("deactivationSlot"),tt.nu64("lastExtendedSlot"),tt.u8("lastExtendedStartIndex"),tt.u8(),tt.seq(lo.publicKey(),tt.offset(tt.u8(),-1),"authority")])}});var bo=y(D=>{"use strict";a();u();var ho=D&&D.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ac=D&&D.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Li=D&&D.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ho(e,r,t);return Ac(e,r),e},vc=D&&D.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ho(e,r,t)};Object.defineProperty(D,"__esModule",{value:!0});D.AddressLookupTableProgram=D.AddressLookupTableInstruction=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var kc=ai(),Q=Li(W()),Bc=Li(ft()),Di=_e(),yo=Li(vr()),go=Ei(),qr=Dr(),Rt=kr();vc(fo(),D);D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:Q.struct([Q.u32("instruction"),yo.u64("recentSlot"),Q.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Q.struct([Q.u32("instruction")])},ExtendLookupTable:{index:2,layout:Q.struct([Q.u32("instruction"),yo.u64(),Q.seq(Bc.publicKey(),Q.offset(Q.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Q.struct([Q.u32("instruction")])},CloseLookupTable:{index:4,layout:Q.struct([Q.u32("instruction")])}});var Mi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Q.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,Rt.decodeData)(D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,Rt.decodeData)(D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new Di.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};D.AddressLookupTableInstruction=Mi;var jr=class{constructor(){}static createLookupTable(e){let[t,n]=Di.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,kc.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=(0,Rt.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:go.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new qr.TransactionInstruction({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){let t=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,Rt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,Rt.encodeData)(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:go.SystemProgram.programId,isSigner:!1,isWritable:!1}),new qr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,Rt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=D.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,Rt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new qr.TransactionInstruction({programId:this.programId,keys:i,data:n})}};D.AddressLookupTableProgram=jr;jr.programId=new Di.PublicKey("AddressLookupTab1e1111111111111111111111111")});var Dn=y(R=>{"use strict";a();u();var Ec=R&&R.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Kc=R&&R.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Mc=R&&R.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ec(e,r,t);return Kc(e,r),e};Object.defineProperty(R,"__esModule",{value:!0});R.ComputeBudgetProgram=R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=R.ComputeBudgetInstruction=void 0;var me=Mc(W()),kt=kr(),Lc=_e(),Ln=Dr(),Dc=vr(),Ui=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=me.u8("instruction").decode(e.data),i;for(let[s,o]of Object.entries(R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:n}=(0,kt.decodeData)(R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=(0,kt.decodeData)(R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=(0,kt.decodeData)(R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=(0,kt.decodeData)(R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Cr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};R.ComputeBudgetInstruction=Ui;R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:me.struct([me.u8("instruction"),me.u32("units"),me.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:me.struct([me.u8("instruction"),me.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:me.struct([me.u8("instruction"),me.u32("units")])},SetComputeUnitPrice:{index:3,layout:me.struct([me.u8("instruction"),(0,Dc.u64)("microLamports")])}});var Cr=class{constructor(){}static requestUnits(e){let t=R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=(0,kt.encodeData)(t,e);return new Ln.TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=(0,kt.encodeData)(t,e);return new Ln.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=(0,kt.encodeData)(t,e);return new Ln.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=R.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=(0,kt.encodeData)(t,{microLamports:BigInt(e.microLamports)});return new Ln.TransactionInstruction({keys:[],programId:this.programId,data:n})}};R.ComputeBudgetProgram=Cr;Cr.programId=new Lc.PublicKey("ComputeBudget111111111111111111111111111111")});var po=y(bt=>{"use strict";a();u();var Uc=bt&&bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qi=bt&&bt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Uc(e,r,t)};Object.defineProperty(bt,"__esModule",{value:!0});qi(bo(),bt);qi(Ei(),bt);qi(Dn(),bt)});var C=y(H=>{"use strict";a();u();var qc=H&&H.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pt=H&&H.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qc(e,r,t)};Object.defineProperty(H,"__esModule",{value:!0});H.LAMPORTS_PER_SOL=void 0;pt(_s(),H);pt(fi(),H);pt(Ls(),H);pt(Tn(),H);pt(Oi(),H);pt(po(),H);pt(_e(),H);pt(Dr(),H);pt(Ai(),H);H.LAMPORTS_PER_SOL=1e9});var rt=y(ee=>{"use strict";a();u();Object.defineProperty(ee,"__esModule",{value:!0});ee.programSupportsExtensions=ee.NATIVE_MINT_2022=ee.NATIVE_MINT=ee.ASSOCIATED_TOKEN_PROGRAM_ID=ee.TOKEN_2022_PROGRAM_ID=ee.TOKEN_PROGRAM_ID=void 0;var Rr=C();ee.TOKEN_PROGRAM_ID=new Rr.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");ee.TOKEN_2022_PROGRAM_ID=new Rr.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");ee.ASSOCIATED_TOKEN_PROGRAM_ID=new Rr.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");ee.NATIVE_MINT=new Rr.PublicKey("So11111111111111111111111111111111111111112");ee.NATIVE_MINT_2022=new Rr.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function jc(r){return r!==ee.TOKEN_PROGRAM_ID}ee.programSupportsExtensions=jc});var _t=y(q=>{"use strict";a();u();Object.defineProperty(q,"__esModule",{value:!0});q.TokenInvalidInstructionTypeError=q.TokenInvalidInstructionDataError=q.TokenInvalidInstructionKeysError=q.TokenInvalidInstructionProgramError=q.TokenOwnerOffCurveError=q.TokenInvalidOwnerError=q.TokenInvalidMintError=q.TokenInvalidAccountSizeError=q.TokenInvalidAccountOwnerError=q.TokenAccountNotFoundError=q.TokenError=void 0;var Se=class extends Error{constructor(e){super(e)}};q.TokenError=Se;var ji=class extends Se{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};q.TokenAccountNotFoundError=ji;var Ci=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};q.TokenInvalidAccountOwnerError=Ci;var Ri=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};q.TokenInvalidAccountSizeError=Ri;var Ni=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};q.TokenInvalidMintError=Ni;var Vi=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};q.TokenInvalidOwnerError=Vi;var zi=class extends Se{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};q.TokenOwnerOffCurveError=zi;var Wi=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};q.TokenInvalidInstructionProgramError=Wi;var Yi=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};q.TokenInvalidInstructionKeysError=Yi;var Fi=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};q.TokenInvalidInstructionDataError=Fi;var Gi=class extends Se{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};q.TokenInvalidInstructionTypeError=Gi});var Bt=y(Nr=>{"use strict";a();u();Object.defineProperty(Nr,"__esModule",{value:!0});Nr.TokenInstruction=void 0;var Cc;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(Cc=Nr.TokenInstruction||(Nr.TokenInstruction={}))});var Nt=y(Un=>{"use strict";a();u();Object.defineProperty(Un,"__esModule",{value:!0});Un.addSigners=void 0;var Rc=C();function Nc(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n instanceof Rc.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}Un.addSigners=Nc});var wo=y(ae=>{"use strict";a();u();Object.defineProperty(ae,"__esModule",{value:!0});ae.decodeTransferInstructionUnchecked=ae.decodeTransferInstruction=ae.createTransferInstruction=ae.transferInstructionData=void 0;var Hi=W(),Vc=C(),_o=rt(),qn=_t(),zc=Nt(),mo=Bt();ae.transferInstructionData=(0,Hi.struct)([(0,Hi.u8)("instruction"),(0,Hi.u64)("amount")]);function Wc(r,e,t,n,i=[],s=_o.TOKEN_PROGRAM_ID){let o=(0,zc.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),d=f.Buffer.alloc(ae.transferInstructionData.span);return ae.transferInstructionData.encode({instruction:mo.TokenInstruction.Transfer,amount:BigInt(n)},d),new Vc.TransactionInstruction({keys:o,programId:s,data:d})}ae.createTransferInstruction=Wc;function Yc(r,e=_o.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new qn.TokenInvalidInstructionProgramError;if(r.data.length!==ae.transferInstructionData.span)throw new qn.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}=So(r);if(o.instruction!==mo.TokenInstruction.Transfer)throw new qn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new qn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}}ae.decodeTransferInstruction=Yc;function So({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:ae.transferInstructionData.decode(s)}}ae.decodeTransferInstructionUnchecked=So});var Oo=y(ue=>{"use strict";a();u();Object.defineProperty(ue,"__esModule",{value:!0});ue.decodeTransferCheckedInstructionUnchecked=ue.decodeTransferCheckedInstruction=ue.createTransferCheckedInstruction=ue.transferCheckedInstructionData=void 0;var jn=W(),Fc=C(),Io=rt(),Cn=_t(),Gc=Nt(),Po=Bt();ue.transferCheckedInstructionData=(0,jn.struct)([(0,jn.u8)("instruction"),(0,jn.u64)("amount"),(0,jn.u8)("decimals")]);function Hc(r,e,t,n,i,s,o=[],d=Io.TOKEN_PROGRAM_ID){let l=(0,Gc.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),b=f.Buffer.alloc(ue.transferCheckedInstructionData.span);return ue.transferCheckedInstructionData.encode({instruction:Po.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:s},b),new Fc.TransactionInstruction({keys:l,programId:d,data:b})}ue.createTransferCheckedInstruction=Hc;function xc(r,e=Io.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Cn.TokenInvalidInstructionProgramError;if(r.data.length!==ue.transferCheckedInstructionData.span)throw new Cn.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:d}=To(r);if(d.instruction!==Po.TokenInstruction.TransferChecked)throw new Cn.TokenInvalidInstructionTypeError;if(!t||!n||!i||!s)throw new Cn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:d}}ue.decodeTransferCheckedInstruction=xc;function To({programId:r,keys:[e,t,n,i,...s],data:o}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:s},data:ue.transferCheckedInstructionData.decode(o)}}ue.decodeTransferCheckedInstructionUnchecked=To});var vo=y(Rn=>{"use strict";a();u();Object.defineProperty(Rn,"__esModule",{value:!0});Rn.createAssociatedTokenAccountInstruction=void 0;var xi=C(),Ao=rt();function $c(r,e,t,n,i=Ao.TOKEN_PROGRAM_ID,s=Ao.ASSOCIATED_TOKEN_PROGRAM_ID){let o=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:xi.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:xi.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new xi.TransactionInstruction({keys:o,programId:s,data:f.Buffer.alloc(0)})}Rn.createAssociatedTokenAccountInstruction=$c});var Ko=y(ce=>{"use strict";a();u();Object.defineProperty(ce,"__esModule",{value:!0});ce.decodeBurnInstructionUnchecked=ce.decodeBurnInstruction=ce.createBurnInstruction=ce.burnInstructionData=void 0;var $i=W(),Jc=C(),ko=rt(),Nn=_t(),Xc=Nt(),Bo=Bt();ce.burnInstructionData=(0,$i.struct)([(0,$i.u8)("instruction"),(0,$i.u64)("amount")]);function Zc(r,e,t,n,i=[],s=ko.TOKEN_PROGRAM_ID){let o=(0,Xc.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),d=f.Buffer.alloc(ce.burnInstructionData.span);return ce.burnInstructionData.encode({instruction:Bo.TokenInstruction.Burn,amount:BigInt(n)},d),new Jc.TransactionInstruction({keys:o,programId:s,data:d})}ce.createBurnInstruction=Zc;function Qc(r,e=ko.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Nn.TokenInvalidInstructionProgramError;if(r.data.length!==ce.burnInstructionData.span)throw new Nn.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}=Eo(r);if(o.instruction!==Bo.TokenInstruction.Burn)throw new Nn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Nn.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}}ce.decodeBurnInstruction=Qc;function Eo({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:ce.burnInstructionData.decode(s)}}ce.decodeBurnInstructionUnchecked=Eo});var Uo=y(de=>{"use strict";a();u();Object.defineProperty(de,"__esModule",{value:!0});de.decodeBurnCheckedInstructionUnchecked=de.decodeBurnCheckedInstruction=de.createBurnCheckedInstruction=de.burnCheckedInstructionData=void 0;var Vn=W(),ed=C(),Mo=rt(),zn=_t(),td=Nt(),Lo=Bt();de.burnCheckedInstructionData=(0,Vn.struct)([(0,Vn.u8)("instruction"),(0,Vn.u64)("amount"),(0,Vn.u8)("decimals")]);function rd(r,e,t,n,i,s=[],o=Mo.TOKEN_PROGRAM_ID){let d=(0,td.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,s),l=f.Buffer.alloc(de.burnCheckedInstructionData.span);return de.burnCheckedInstructionData.encode({instruction:Lo.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},l),new ed.TransactionInstruction({keys:d,programId:o,data:l})}de.createBurnCheckedInstruction=rd;function nd(r,e=Mo.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new zn.TokenInvalidInstructionProgramError;if(r.data.length!==de.burnCheckedInstructionData.span)throw new zn.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}=Do(r);if(o.instruction!==Lo.TokenInstruction.BurnChecked)throw new zn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new zn.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}}de.decodeBurnCheckedInstruction=nd;function Do({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:de.burnCheckedInstructionData.decode(s)}}de.decodeBurnCheckedInstructionUnchecked=Do});var Ro=y(le=>{"use strict";a();u();Object.defineProperty(le,"__esModule",{value:!0});le.decodeMintToInstructionUnchecked=le.decodeMintToInstruction=le.createMintToInstruction=le.mintToInstructionData=void 0;var Ji=W(),id=C(),qo=rt(),Wn=_t(),sd=Nt(),jo=Bt();le.mintToInstructionData=(0,Ji.struct)([(0,Ji.u8)("instruction"),(0,Ji.u64)("amount")]);function od(r,e,t,n,i=[],s=qo.TOKEN_PROGRAM_ID){let o=(0,sd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),d=f.Buffer.alloc(le.mintToInstructionData.span);return le.mintToInstructionData.encode({instruction:jo.TokenInstruction.MintTo,amount:BigInt(n)},d),new id.TransactionInstruction({keys:o,programId:s,data:d})}le.createMintToInstruction=od;function ad(r,e=qo.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Wn.TokenInvalidInstructionProgramError;if(r.data.length!==le.mintToInstructionData.span)throw new Wn.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}=Co(r);if(o.instruction!==jo.TokenInstruction.MintTo)throw new Wn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Wn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}}le.decodeMintToInstruction=ad;function Co({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:le.mintToInstructionData.decode(s)}}le.decodeMintToInstructionUnchecked=Co});var Wo=y(fe=>{"use strict";a();u();Object.defineProperty(fe,"__esModule",{value:!0});fe.decodeMintToCheckedInstructionUnchecked=fe.decodeMintToCheckedInstruction=fe.createMintToCheckedInstruction=fe.mintToCheckedInstructionData=void 0;var Yn=W(),ud=C(),No=rt(),Fn=_t(),cd=Nt(),Vo=Bt();fe.mintToCheckedInstructionData=(0,Yn.struct)([(0,Yn.u8)("instruction"),(0,Yn.u64)("amount"),(0,Yn.u8)("decimals")]);function dd(r,e,t,n,i,s=[],o=No.TOKEN_PROGRAM_ID){let d=(0,cd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,s),l=f.Buffer.alloc(fe.mintToCheckedInstructionData.span);return fe.mintToCheckedInstructionData.encode({instruction:Vo.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},l),new ud.TransactionInstruction({keys:d,programId:o,data:l})}fe.createMintToCheckedInstruction=dd;function ld(r,e=No.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Fn.TokenInvalidInstructionProgramError;if(r.data.length!==fe.mintToCheckedInstructionData.span)throw new Fn.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}=zo(r);if(o.instruction!==Vo.TokenInstruction.MintToChecked)throw new Fn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Fn.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}}fe.decodeMintToCheckedInstruction=ld;function zo({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:fe.mintToCheckedInstructionData.decode(s)}}fe.decodeMintToCheckedInstructionUnchecked=zo});var Yo=y(ye=>{"use strict";a();u();var fd=ye&&ye.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Et=ye&&ye.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fd(e,r,t)};Object.defineProperty(ye,"__esModule",{value:!0});Et(Bt(),ye);Et(wo(),ye);Et(Oo(),ye);Et(vo(),ye);Et(Ko(),ye);Et(Uo(),ye);Et(Ro(),ye);Et(Wo(),ye)});var Gn=y(Ge=>{"use strict";a();u();var yd=Ge&&Ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xi=Ge&&Ge.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&yd(e,r,t)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getAssociatedTokenAddress=void 0;var Fo=C(),Go=rt(),gd=_t();Xi(Yo(),Ge);Xi(rt(),Ge);Xi(_t(),Ge);async function hd(r,e,t=!1,n=Go.TOKEN_PROGRAM_ID,i=Go.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!Fo.PublicKey.isOnCurve(e.toBuffer()))throw new gd.TokenOwnerOffCurveError;let[s]=await Fo.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return s}Ge.getAssociatedTokenAddress=hd});var xn=y(Hn=>{"use strict";a();u();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.publicKey=void 0;var bd=C(),pd=be(),Zi=(0,pd.fixedSizeUint8Array)(32);Hn.publicKey={write:function(r,e,t){let n=t.toBytes();Zi.write(r,e,n)},read:function(r,e){let t=Zi.read(r,e);return new bd.PublicKey(t)},byteSize:Zi.byteSize,description:"PublicKey"}});var es=y(nt=>{"use strict";a();u();var _d=nt&&nt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),md=nt&&nt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sd=nt&&nt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_d(e,r,t);return md(e,r),e};Object.defineProperty(nt,"__esModule",{value:!0});nt.seedsVecBeet=void 0;var Qi=Sd(be());nt.seedsVecBeet=new Qi.FixableBeetArgsStruct([["seeds",Qi.array(Qi.bytes)]],"SeedsVec")});var ts=y(it=>{"use strict";a();u();var wd=it&&it.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Id=it&&it.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Pd=it&&it.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wd(e,r,t);return Id(e,r),e};Object.defineProperty(it,"__esModule",{value:!0});it.leafInfoBeet=void 0;var sr=Pd(be());it.leafInfoBeet=new sr.FixableBeetArgsStruct([["leaf",sr.uniformFixedSizeArray(sr.u8,32)],["proof",sr.array(sr.uniformFixedSizeArray(sr.u8,32))]],"LeafInfo")});var rs=y(Y=>{"use strict";a();u();var Td=Y&&Y.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Od=Y&&Y.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ho=Y&&Y.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Td(e,r,t);return Od(e,r),e};Object.defineProperty(Y,"__esModule",{value:!0});Y.payloadTypeBeet=Y.isPayloadTypeNumber=Y.isPayloadTypeMerkleProof=Y.isPayloadTypeSeeds=Y.isPayloadTypePubkey=void 0;var st=Ho(be()),Ad=Ho(xn()),vd=es(),kd=ts(),Bd=r=>r.__kind==="Pubkey";Y.isPayloadTypePubkey=Bd;var Ed=r=>r.__kind==="Seeds";Y.isPayloadTypeSeeds=Ed;var Kd=r=>r.__kind==="MerkleProof";Y.isPayloadTypeMerkleProof=Kd;var Md=r=>r.__kind==="Number";Y.isPayloadTypeNumber=Md;Y.payloadTypeBeet=st.dataEnum([["Pubkey",new st.BeetArgsStruct([["fields",st.fixedSizeTuple([Ad.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new st.FixableBeetArgsStruct([["fields",st.tuple([vd.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new st.FixableBeetArgsStruct([["fields",st.tuple([kd.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new st.BeetArgsStruct([["fields",st.fixedSizeTuple([st.u64])]],'PayloadTypeRecord["Number"]')]])});var is=y(ot=>{"use strict";a();u();var Ld=ot&&ot.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dd=ot&&ot.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ud=ot&&ot.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ld(e,r,t);return Dd(e,r),e};Object.defineProperty(ot,"__esModule",{value:!0});ot.payloadBeet=void 0;var ns=Ud(be()),qd=rs();ot.payloadBeet=new ns.FixableBeetArgsStruct([["map",ns.map(ns.utf8String,qd.payloadTypeBeet)]],"Payload")});var $n=y(at=>{"use strict";a();u();var jd=at&&at.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Cd=at&&at.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rd=at&&at.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jd(e,r,t);return Cd(e,r),e};Object.defineProperty(at,"__esModule",{value:!0});at.authorizationDataBeet=void 0;var Nd=Rd(be()),Vd=is();at.authorizationDataBeet=new Nd.FixableBeetArgsStruct([["payload",Vd.payloadBeet]],"AuthorizationData")});var ss=y(Re=>{"use strict";a();u();var zd=Re&&Re.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wd=Re&&Re.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yd=Re&&Re.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&zd(e,r,t);return Wd(e,r),e};Object.defineProperty(Re,"__esModule",{value:!0});Re.transferArgsBeet=Re.isTransferArgsV1=void 0;var Jn=Yd(be()),Fd=$n(),Gd=r=>r.__kind==="V1";Re.isTransferArgsV1=Gd;Re.transferArgsBeet=Jn.dataEnum([["V1",new Jn.FixableBeetArgsStruct([["amount",Jn.u64],["authorizationData",Jn.coption(Fd.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var Jo=y(X=>{"use strict";a();u();var Hd=X&&X.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xd=X&&X.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$o=X&&X.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Hd(e,r,t);return xd(e,r),e};Object.defineProperty(X,"__esModule",{value:!0});X.createTransferInstruction=X.transferInstructionDiscriminator=X.TransferStruct=void 0;var xo=$o(be()),os=$o(C()),$d=ss();X.TransferStruct=new xo.FixableBeetArgsStruct([["instructionDiscriminator",xo.u8],["transferArgs",$d.transferArgsBeet]],"TransferInstructionArgs");X.transferInstructionDiscriminator=49;function Jd(r,e,t=new os.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=X.TransferStruct.serialize({instructionDiscriminator:X.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:r.edition??t,isWritable:!1,isSigner:!1},{pubkey:r.ownerTokenRecord??t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:r.destinationTokenRecord??t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.systemProgram??os.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRulesProgram??t,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRules??t,isWritable:!1,isSigner:!1}];return new os.TransactionInstruction({programId:t,keys:i,data:n})}X.createTransferInstruction=Jd});var Xo=y(Vt=>{"use strict";a();u();var Xd=Vt&&Vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zd=Vt&&Vt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Xd(e,r,t)};Object.defineProperty(Vt,"__esModule",{value:!0});Zd(Jo(),Vt)});var Qo=y(we=>{"use strict";a();u();var Qd=we&&we.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),el=we&&we.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tl=we&&we.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Qd(e,r,t);return el(e,r),e};Object.defineProperty(we,"__esModule",{value:!0});we.authorityTypeBeet=we.AuthorityType=void 0;var rl=tl(be()),Zo;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(Zo=we.AuthorityType||(we.AuthorityType={}));we.authorityTypeBeet=rl.fixedScalarEnum(Zo)});var ta=y(S=>{"use strict";a();u();var nl=S&&S.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),il=S&&S.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ea=S&&S.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nl(e,r,t);return il(e,r),e};Object.defineProperty(S,"__esModule",{value:!0});S.delegateArgsBeet=S.isDelegateArgsProgrammableConfigItemV1=S.isDelegateArgsCollectionItemV1=S.isDelegateArgsDataItemV1=S.isDelegateArgsAuthorityItemV1=S.isDelegateArgsProgrammableConfigV1=S.isDelegateArgsLockedTransferV1=S.isDelegateArgsStandardV1=S.isDelegateArgsStakingV1=S.isDelegateArgsUtilityV1=S.isDelegateArgsDataV1=S.isDelegateArgsTransferV1=S.isDelegateArgsSaleV1=S.isDelegateArgsCollectionV1=void 0;var T=ea(be()),sl=ea(xn()),Ne=$n(),ol=r=>r.__kind==="CollectionV1";S.isDelegateArgsCollectionV1=ol;var al=r=>r.__kind==="SaleV1";S.isDelegateArgsSaleV1=al;var ul=r=>r.__kind==="TransferV1";S.isDelegateArgsTransferV1=ul;var cl=r=>r.__kind==="DataV1";S.isDelegateArgsDataV1=cl;var dl=r=>r.__kind==="UtilityV1";S.isDelegateArgsUtilityV1=dl;var ll=r=>r.__kind==="StakingV1";S.isDelegateArgsStakingV1=ll;var fl=r=>r.__kind==="StandardV1";S.isDelegateArgsStandardV1=fl;var yl=r=>r.__kind==="LockedTransferV1";S.isDelegateArgsLockedTransferV1=yl;var gl=r=>r.__kind==="ProgrammableConfigV1";S.isDelegateArgsProgrammableConfigV1=gl;var hl=r=>r.__kind==="AuthorityItemV1";S.isDelegateArgsAuthorityItemV1=hl;var bl=r=>r.__kind==="DataItemV1";S.isDelegateArgsDataItemV1=bl;var pl=r=>r.__kind==="CollectionItemV1";S.isDelegateArgsCollectionItemV1=pl;var _l=r=>r.__kind==="ProgrammableConfigItemV1";S.isDelegateArgsProgrammableConfigItemV1=_l;S.delegateArgsBeet=T.dataEnum([["CollectionV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new T.FixableBeetArgsStruct([["amount",T.u64],["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new T.FixableBeetArgsStruct([["amount",T.u64],["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new T.FixableBeetArgsStruct([["amount",T.u64],["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new T.FixableBeetArgsStruct([["amount",T.u64],["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new T.BeetArgsStruct([["amount",T.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new T.FixableBeetArgsStruct([["amount",T.u64],["lockedAddress",sl.publicKey],["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new T.FixableBeetArgsStruct([["authorizationData",T.coption(Ne.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var na=y(Ie=>{"use strict";a();u();var ml=Ie&&Ie.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sl=Ie&&Ie.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),wl=Ie&&Ie.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ml(e,r,t);return Sl(e,r),e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.metadataDelegateRoleBeet=Ie.MetadataDelegateRole=void 0;var Il=wl(be()),ra;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(ra=Ie.MetadataDelegateRole||(Ie.MetadataDelegateRole={}));Ie.metadataDelegateRoleBeet=Il.fixedScalarEnum(ra)});var sa=y(Pe=>{"use strict";a();u();var Pl=Pe&&Pe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tl=Pe&&Pe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ol=Pe&&Pe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pl(e,r,t);return Tl(e,r),e};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.tokenDelegateRoleBeet=Pe.TokenDelegateRole=void 0;var Al=Ol(be()),ia;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(ia=Pe.TokenDelegateRole||(Pe.TokenDelegateRole={}));Pe.tokenDelegateRoleBeet=Al.fixedScalarEnum(ia)});var aa=y(Te=>{"use strict";a();u();var vl=Te&&Te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),kl=Te&&Te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Bl=Te&&Te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vl(e,r,t);return kl(e,r),e};Object.defineProperty(Te,"__esModule",{value:!0});Te.tokenStandardBeet=Te.TokenStandard=void 0;var El=Bl(be()),oa;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(oa=Te.TokenStandard||(Te.TokenStandard={}));Te.tokenStandardBeet=El.fixedScalarEnum(oa)});var ua=y(x=>{"use strict";a();u();var Kl=x&&x.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),He=x&&x.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Kl(e,r,t)};Object.defineProperty(x,"__esModule",{value:!0});He(Qo(),x);He($n(),x);He(ta(),x);He(ts(),x);He(na(),x);He(is(),x);He(rs(),x);He(es(),x);He(sa(),x);He(aa(),x);He(ss(),x)});var Kt=y(Oe=>{"use strict";a();u();var Ml=Oe&&Oe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ca=Oe&&Oe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ml(e,r,t)};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PROGRAM_ID=Oe.PROGRAM_ADDRESS=void 0;var Ll=C();ca(Xo(),Oe);ca(ua(),Oe);Oe.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";Oe.PROGRAM_ID=new Ll.PublicKey(Oe.PROGRAM_ADDRESS)});var as=y(mt=>{"use strict";a();u();Object.defineProperty(mt,"__esModule",{value:!0});mt.isBigNumber=mt.toOptionBigNumber=mt.toBigNumber=void 0;var Dl=ke(),Ul=(r,e)=>new Dl.BN(r,e);mt.toBigNumber=Ul;var ql=r=>r===null?null:(0,mt.toBigNumber)(r);mt.toOptionBigNumber=ql;var jl=r=>r?.__opaque__==="BigNumber";mt.isBigNumber=jl});var la=y(Xn=>{"use strict";a();u();Object.defineProperty(Xn,"__esModule",{value:!0});Xn.token=void 0;var da=as(),Cl=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,da.toBigNumber)(r).toNumber()),{basisPoints:(0,da.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});Xn.token=Cl});var ya=y(Zn=>{"use strict";a();u();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.Pda=void 0;var fa=C(),Vr=class extends fa.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=fa.PublicKey.findProgramAddressSync(t,e);return new Vr(n,i)}};Zn.Pda=Vr});var ha=y(ut=>{"use strict";a();u();Object.defineProperty(ut,"__esModule",{value:!0});ut.systemProgram=ut.associatedTokenProgram=ut.tokenProgram=ut.tokenMetadataProgram=void 0;var Rl=C(),Nl=Kt(),ga=Gn();ut.tokenMetadataProgram={name:"TokenMetadataProgram",address:Nl.PROGRAM_ID};ut.tokenProgram={name:"TokenProgram",address:ga.TOKEN_PROGRAM_ID};ut.associatedTokenProgram={name:"AssociatedTokenProgram",address:ga.ASSOCIATED_TOKEN_PROGRAM_ID};ut.systemProgram={name:"SystemProgram",address:Rl.SystemProgram.programId}});var ba=y(or=>{"use strict";a();u();Object.defineProperty(or,"__esModule",{value:!0});or.toPublicKey=or.PublicKey=void 0;var Vl=C(),zl=C();Object.defineProperty(or,"PublicKey",{enumerable:!0,get:function(){return zl.PublicKey}});var Wl=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new Vl.PublicKey(r);or.toPublicKey=Wl});var pa=y(te=>{"use strict";a();u();Object.defineProperty(te,"__esModule",{value:!0});te.getSignerHistogram=te.isIdentitySigner=te.isKeypairSigner=te.isSigner=void 0;var Yl=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);te.isSigner=Yl;var Fl=r=>(0,te.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;te.isKeypairSigner=Fl;var Gl=r=>(0,te.isSigner)(r)&&!(0,te.isKeypairSigner)(r);te.isIdentitySigner=Gl;var Hl=r=>r.reduce((e,t)=>{let n=e.all.findIndex(({publicKey:d})=>d.equals(t.publicKey)),i=e.all[n]??null,s=i?(0,te.isIdentitySigner)(i):!1,o=(0,te.isIdentitySigner)(t);if(!i)e.all.push(t),o?e.identities.push(t):e.keypairs.push(t);else if(s&&!o){let d=e.identities.findIndex(({publicKey:l})=>l.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(d,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});te.getSignerHistogram=Hl});var ur=y(Ve=>{"use strict";a();u();var xl=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ar=Ve&&Ve.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&xl(e,r,t)};Object.defineProperty(Ve,"__esModule",{value:!0});ar(la(),Ve);ar(as(),Ve);ar(ya(),Ve);ar(ha(),Ve);ar(ba(),Ve);ar(pa(),Ve)});var _a=y(xe=>{"use strict";a();u();Object.defineProperty(xe,"__esModule",{value:!0});xe.getDefaultDelegateArgs=xe.getMetadataDelegateRoleSeed=xe.getMetadataDelegateRole=xe.getTokenDelegateRole=void 0;var $=Kt(),$l={StandardV1:$.TokenDelegateRole.Standard,TransferV1:$.TokenDelegateRole.Transfer,LockedTransferV1:$.TokenDelegateRole.LockedTransfer,SaleV1:$.TokenDelegateRole.Sale,UtilityV1:$.TokenDelegateRole.Utility,StakingV1:$.TokenDelegateRole.Staking},Jl={CollectionV1:$.MetadataDelegateRole.Collection,DataV1:$.MetadataDelegateRole.Data,ProgrammableConfigV1:$.MetadataDelegateRole.ProgrammableConfig},Xl={[$.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[$.MetadataDelegateRole.Collection]:"collection_delegate",[$.MetadataDelegateRole.Use]:"use_delegate",[$.MetadataDelegateRole.Data]:"data_delegate",[$.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[$.MetadataDelegateRole.DataItem]:"data_item_delegate",[$.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[$.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},Zl={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},Ql=r=>{let e=$l[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};xe.getTokenDelegateRole=Ql;var ef=r=>{let e=Jl[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};xe.getMetadataDelegateRole=ef;var tf=r=>Xl[(0,xe.getMetadataDelegateRole)(r)];xe.getMetadataDelegateRoleSeed=tf;var rf=r=>{let e=Zl[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};xe.getDefaultDelegateArgs=rf});var us=y(ze=>{"use strict";a();u();Object.defineProperty(ze,"__esModule",{value:!0});ze.getMetadataDelegateRecord=ze.getTokenRecord=ze.getAssociatedTokenAccount=ze.getMasterEdition=ze.getMetadata=void 0;var Wt=ve(),Qn=Kt(),zt=ur(),nf=_a(),sf=r=>{let e=Qn.PROGRAM_ID;return zt.Pda.find(e,[Wt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};ze.getMetadata=sf;var of=r=>{let e=Qn.PROGRAM_ID;return zt.Pda.find(e,[Wt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),Wt.Buffer.from("edition","utf8")])};ze.getMasterEdition=of;var af=r=>zt.Pda.find(zt.associatedTokenProgram.address,[r.owner.toBuffer(),zt.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);ze.getAssociatedTokenAccount=af;var uf=r=>{let e=Qn.PROGRAM_ID;return zt.Pda.find(e,[Wt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Wt.Buffer.from("token_record","utf8"),r.token.toBuffer()])};ze.getTokenRecord=uf;var cf=r=>{let e=Qn.PROGRAM_ID;return zt.Pda.find(e,[Wt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Wt.Buffer.from((0,nf.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};ze.getMetadataDelegateRecord=cf});var ma=y(ei=>{"use strict";a();u();Object.defineProperty(ei,"__esModule",{value:!0});ei.parseTokenMetadataDelegateInput=void 0;var df=ur(),cs=us(),lf=(r,e,t)=>{if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,cs.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,df.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=e.token??(0,cs.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,cs.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};ei.parseTokenMetadataDelegateInput=lf});var wa=y(cr=>{"use strict";a();u();Object.defineProperty(cr,"__esModule",{value:!0});cr.getSignerFromTokenMetadataAuthority=cr.parseTokenMetadataAuthorization=void 0;var ti=Kt(),Sa=ma(),ff=r=>{let e={accounts:{authorizationRules:r.authorizationDetails?.rules??null},signers:[],data:{authorizationData:r.authorizationDetails?.data??null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=ti.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:t,approver:n}=(0,Sa.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=ti.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:t,approver:n,tokenAccount:i}=(0,Sa.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=i,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=ti.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=ti.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};cr.parseTokenMetadataAuthorization=ff;var yf=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};cr.getSignerFromTokenMetadataAuthority=yf});var Ta=y(Mt=>{"use strict";a();u();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.getSerializedTransaction=Mt.getSignedTransaction=Mt.TransactionBuilder=void 0;var gf=C(),hf=ur(),Ia=ke(),St=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new St(e)}prepend(...e){let t=e.flatMap(n=>n instanceof St?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof St?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new St(this.transactionOptions),i=new St(this.transactionOptions),s=this.records.findIndex(o=>o.key===e);return s>-1?(s+=t?1:0,n.add(...this.records.slice(0,s)),i.add(...this.records.slice(s))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){t={...this.getTransactionOptions(),...t};let n=new gf.Transaction({feePayer:this.getFeePayer()?.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};Mt.TransactionBuilder=St;function Pa(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function bf(r,e){let{keypairs:t}=(0,hf.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function pf(r,e=[],t){let n=Pa(r,e,t);return r=n.transaction,e=n.signers,r=bf(r,e),Ia.base.toBase58(r.serialize())}Mt.getSignedTransaction=pf;function _f(r,e=[],t){return r=Pa(r,e,t).transaction,Ia.base.toBase58(r.serialize({requireAllSignatures:!1,verifySignatures:!1}))}Mt.getSerializedTransaction=_f});var Aa=y(Oa=>{"use strict";a();u();Object.defineProperty(Oa,"__esModule",{value:!0})});var ds=y(Lt=>{"use strict";a();u();var mf=Lt&&Lt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),va=Lt&&Lt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mf(e,r,t)};Object.defineProperty(Lt,"__esModule",{value:!0});va(Ta(),Lt);va(Aa(),Lt)});var ka=y(dr=>{"use strict";a();u();Object.defineProperty(dr,"__esModule",{value:!0});dr.isProgrammable=dr.isNonFungible=void 0;var ri=Kt(),Sf=r=>r.tokenStandard===null||r.tokenStandard===ri.TokenStandard.NonFungible||r.tokenStandard===ri.TokenStandard.NonFungibleEdition||r.tokenStandard===ri.TokenStandard.ProgrammableNonFungible;dr.isNonFungible=Sf;var wf=r=>r.tokenStandard===ri.TokenStandard.ProgrammableNonFungible;dr.isProgrammable=wf});var Ba=y(Yt=>{"use strict";a();u();var If=Yt&&Yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pf=Yt&&Yt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&If(e,r,t)};Object.defineProperty(Yt,"__esModule",{value:!0});Pf(ka(),Yt)});var Ma=y(ni=>{"use strict";a();u();Object.defineProperty(ni,"__esModule",{value:!0});ni.transferNftBuilder=void 0;var Tf=Kt(),Ka=C(),zr=ur(),lr=us(),Ea=wa(),Of=ds(),ls=Ba(),Af=new Ka.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),vf=(r,e,t)=>{let{nftOrSft:n,authority:i,toOwner:s,amount:o=(0,zr.token)(1),authorizationDetails:d}=r,l=r.fromOwner??(0,Ea.getSignerFromTokenMetadataAuthority)(i).publicKey,b=(0,lr.getMetadata)(n.address),w=(0,lr.getMasterEdition)(n.address),_=r.fromToken??(0,lr.getAssociatedTokenAccount)({mint:n.address,owner:l}),E=r.toToken??(0,lr.getAssociatedTokenAccount)({mint:n.address,owner:s}),v=(0,lr.getTokenRecord)({mint:n.address,token:_}),M=(0,lr.getTokenRecord)({mint:n.address,token:E}),h=(0,Ea.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:_},authorizationDetails:d,programs:t});return Of.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,Tf.createTransferInstruction)({token:_,tokenOwner:l,destination:E,destinationOwner:s,mint:n.address,metadata:b,edition:(0,ls.isNonFungible)(n)?w:void 0,ownerTokenRecord:(0,ls.isProgrammable)(n)?v:void 0,destinationTokenRecord:(0,ls.isProgrammable)(n)?M:void 0,authority:h.accounts.authority,payer:e.publicKey,systemProgram:zr.systemProgram.address,sysvarInstructions:Ka.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:zr.tokenProgram.address,splAtaProgram:zr.associatedTokenProgram.address,authorizationRules:h.accounts.authorizationRules,authorizationRulesProgram:Af},{transferArgs:{__kind:"V1",amount:o.basisPoints,...h.data}},zr.tokenMetadataProgram.address),signers:[e,...h.signers],key:r.instructionKey??"transferNft"})};ni.transferNftBuilder=vf});var ii=y($e=>{"use strict";a();u();var kf=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Wr=$e&&$e.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kf(e,r,t)};Object.defineProperty($e,"__esModule",{value:!0});Wr(xn(),$e);Wr(Kt(),$e);Wr(Ma(),$e);Wr(ds(),$e);Wr(ur(),$e)});var ys=y(ge=>{"use strict";a();u();var Bf=ge&&ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ef=ge&&ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fs=ge&&ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Bf(e,r,t);return Ef(e,r),e};Object.defineProperty(ge,"__esModule",{value:!0});ge.metaplex=ge.web3=ge.spl=void 0;ge.spl=fs(Gn());ge.web3=fs(C());ge.metaplex=fs(ii())});var Da=y(p=>{"use strict";a();u();Object.defineProperty(p,"__esModule",{value:!0});p.validSignedTransaction=p.getSerializedMplTransaction=p.signMplTransaction=p.createAndSignVersionedTransaction=p.getSerializedVersionedTransaction=p.getSerializedTokenTransferVersionedTransaction=p.signTokenTransferVersionedTransaction=p.signTransferVersionedTransaction=p.getSerializedTransferVersionedTransaction=p.getHardwareTransaction=p.deserializeMessages=p.signMessage=p.appendTokenBurnInstruction=p.appendTokenMintToInstruction=p.appendTokenTransferInstruction=p.appendTransferInstruction=p.signTransaction=p.appendInstruction=p.createRawTransaction=p.validAddress=p.getNewAddress=void 0;var N=ke(),g=ys(),F=C(),fr=ii(),ct=Gn(),re=Dn(),La=kr();function Kf(r){if(!r)throw new Error("invalid key");let e=N.base.fromBase58(r);if(e.length!=64)throw new Error("invalid key length");let t=N.signUtil.ed25519.publicKeyCreate(e);return N.base.toBase58(t)}p.getNewAddress=Kf;function Mf(r){try{return N.base.fromBase58(r).length==32}catch{return!1}}p.validAddress=Mf;function Lf(r,e){return new g.web3.Transaction({feePayer:new g.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}p.createRawTransaction=Lf;async function Df(r,...e){r.add(...e)}p.appendInstruction=Df;async function Uf(r,...e){let t=[];return e.forEach(n=>{t.push(g.web3.Keypair.fromSecretKey(N.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(N.base.toBase58(r.serialize())):Promise.reject("sign error")}p.signTransaction=Uf;async function qf(r,e,t,n){r.add(g.web3.SystemProgram.transfer({fromPubkey:new g.web3.PublicKey(e),toPubkey:new g.web3.PublicKey(t),lamports:n}))}p.appendTransferInstruction=qf;async function jf(r,e,t,n,i,s,o,d){let l=o===!0?ct.TOKEN_2022_PROGRAM_ID:ct.TOKEN_PROGRAM_ID,b=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(n),new g.web3.PublicKey(e),!1,l),w=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(n),new g.web3.PublicKey(t),!0,l);if(s&&r.add(g.spl.createAssociatedTokenAccountInstruction(new g.web3.PublicKey(e),new g.web3.PublicKey(w),new g.web3.PublicKey(t),new g.web3.PublicKey(n),new g.web3.PublicKey(l))),o){if(!d)throw new Error("invalid decimal for token 2022");r.add(g.spl.createTransferCheckedInstruction(new g.web3.PublicKey(b),new g.web3.PublicKey(n),new g.web3.PublicKey(w),new g.web3.PublicKey(e),i,d,[],new g.web3.PublicKey(l)))}else r.add(g.spl.createTransferInstruction(new g.web3.PublicKey(b),new g.web3.PublicKey(w),new g.web3.PublicKey(e),i,[],new g.web3.PublicKey(l)))}p.appendTokenTransferInstruction=jf;async function Cf(r,e,t,n,i,s,o,d){let l=d===!0?ct.TOKEN_2022_PROGRAM_ID:ct.TOKEN_PROGRAM_ID,b=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(n),new g.web3.PublicKey(t),!1,l);o&&r.add(g.spl.createAssociatedTokenAccountInstruction(new g.web3.PublicKey(e),new g.web3.PublicKey(b),new g.web3.PublicKey(t),new g.web3.PublicKey(n),new g.web3.PublicKey(l))),r.add(g.spl.createMintToInstruction(new g.web3.PublicKey(n),new g.web3.PublicKey(b),new g.web3.PublicKey(i),s,[],new g.web3.PublicKey(l)))}p.appendTokenMintToInstruction=Cf;async function Rf(r,e,t,n,i,s){let o=s===!0?ct.TOKEN_2022_PROGRAM_ID:ct.TOKEN_PROGRAM_ID;r.add(g.spl.createBurnInstruction(new g.web3.PublicKey(t),new g.web3.PublicKey(n),new g.web3.PublicKey(e),i,[],new g.web3.PublicKey(o)))}p.appendTokenBurnInstruction=Rf;async function Nf(r,e){let t=N.base.fromBase58(r),n=N.signUtil.ed25519.sign(t,N.base.fromBase58(e));return Promise.resolve(N.base.toBase58(n))}p.signMessage=Nf;async function Vf(r){let e=[];for(let t=0;t<r.length;t++){let n=!0,i=0,s=!1,o=0,d=r[t];try{let b=g.web3.VersionedTransaction.deserialize(N.base.fromBase58(d)).message;for(let w=0;w<b.compiledInstructions.length;w++){let _=b.compiledInstructions[w];if(b.staticAccountKeys[_.programIdIndex].toBase58()==re.ComputeBudgetProgram.programId.toBase58()){let E=f.Buffer.from(_.data);try{let{units:v}=(0,La.decodeData)(re.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,E);i=v,s=!0}catch{}try{let{microLamports:v}=(0,La.decodeData)(re.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,E);o=v}catch{}}}s||(i=0,b.compiledInstructions.length>1&&(i=(b.compiledInstructions.length-1)*2e5))}catch(l){console.log(l),n=!1}e.push({deserialized:n,computeUnitLimit:i.toString(),computeUnitPrice:o.toString()})}return Promise.resolve(e)}p.deserializeMessages=Vf;async function zf(r,e,t){let n=g.web3.Transaction.from(N.base.fromHex(r));return n.addSignature(new F.PublicKey(e),N.base.fromHex(t)),n.signature?Promise.resolve(N.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}p.getHardwareTransaction=zf;async function Wf(r,...e){let t=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let n=re.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(g.web3.SystemProgram.transfer({fromPubkey:new g.web3.PublicKey(r.from),toPubkey:new g.web3.PublicKey(r.to),lamports:r.amount})),gs(r.payer,r.blockHash,t,e)}p.getSerializedTransferVersionedTransaction=Wf;async function Yf(r,...e){let t=[];if(r.computeUnitLimit&&r.computeUnitPrice){let n=re.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(g.web3.SystemProgram.transfer({fromPubkey:new g.web3.PublicKey(r.from),toPubkey:new g.web3.PublicKey(r.to),lamports:r.amount})),hs(r.payer,r.blockHash,t,e)}p.signTransferVersionedTransaction=Yf;async function Ff(r,...e){let t=r.token2022===!0?ct.TOKEN_2022_PROGRAM_ID:ct.TOKEN_PROGRAM_ID,n=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(r.mint),new g.web3.PublicKey(r.from),!1,t),i=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(r.mint),new g.web3.PublicKey(r.to),!0,t),s=[];if(r.computeUnitLimit&&r.computeUnitPrice){let o=re.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),d=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});s.push(o),s.push(d)}return r.createAssociatedAddress&&s.push(g.spl.createAssociatedTokenAccountInstruction(new g.web3.PublicKey(r.from),new g.web3.PublicKey(i),new g.web3.PublicKey(r.to),new g.web3.PublicKey(r.mint),new g.web3.PublicKey(t))),s.push(g.spl.createTransferInstruction(new g.web3.PublicKey(n),new g.web3.PublicKey(i),new g.web3.PublicKey(r.from),r.amount,[],new g.web3.PublicKey(t))),hs(r.payer,r.blockHash,s,e)}p.signTokenTransferVersionedTransaction=Ff;async function Gf(r,...e){let t=r.token2022===!0?ct.TOKEN_2022_PROGRAM_ID:ct.TOKEN_PROGRAM_ID,n=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(r.mint),new g.web3.PublicKey(r.from),!1,t),i=await g.spl.getAssociatedTokenAddress(new g.web3.PublicKey(r.mint),new g.web3.PublicKey(r.to),!1,t),s=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let o=re.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),d=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});s.push(o),s.push(d)}return r.createAssociatedAddress&&s.push(g.spl.createAssociatedTokenAccountInstruction(new g.web3.PublicKey(r.from),new g.web3.PublicKey(i),new g.web3.PublicKey(r.to),new g.web3.PublicKey(r.mint),new g.web3.PublicKey(t))),s.push(g.spl.createTransferInstruction(new g.web3.PublicKey(n),new g.web3.PublicKey(i),new g.web3.PublicKey(r.from),r.amount,[],new g.web3.PublicKey(t))),gs(r.payer,r.blockHash,s,e)}p.getSerializedTokenTransferVersionedTransaction=Gf;async function gs(r,e,t,n){let i=new F.TransactionMessage({payerKey:new F.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),s=new F.VersionedTransaction(i);return Promise.resolve(N.base.toBase58(s.serialize()))}p.getSerializedVersionedTransaction=gs;async function hs(r,e,t,n){let i=new F.TransactionMessage({payerKey:new F.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),s=new F.VersionedTransaction(i),o=[];return n.forEach(d=>{let l=F.Keypair.fromSecretKey(N.base.fromBase58(d));o.push({publicKey:l.publicKey,secretKey:l.secretKey})}),s.sign(o),s.signature?Promise.resolve(N.base.toBase58(s.serialize())):Promise.reject("sign error")}p.createAndSignVersionedTransaction=hs;async function Hf(r,e,t,n,i,s,o=fr.TokenStandard.ProgrammableNonFungible,d,l){let b={tokenStandard:o,address:new F.PublicKey(n)},w={publicKey:new F.PublicKey(e),secretKey:N.base.fromBase58(s)},_=(0,fr.transferNftBuilder)({nftOrSft:b,authority:w,fromOwner:new F.PublicKey(e),toOwner:new F.PublicKey(t)},w);if(d&&l){let E=re.ComputeBudgetProgram.setComputeUnitLimit({units:d}),v=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:l});_.add({instruction:E,signers:[]}),_.add({instruction:v,signers:[]})}return(0,fr.getSignedTransaction)(_,void 0,{blockhash:i,lastValidBlockHeight:0})}p.signMplTransaction=Hf;async function xf(r,e,t,n,i,s,o=fr.TokenStandard.ProgrammableNonFungible,d,l){let b={tokenStandard:o,address:new F.PublicKey(n)},w={publicKey:new F.PublicKey(e),secretKey:N.base.fromBase58(s)},_=(0,fr.transferNftBuilder)({nftOrSft:b,authority:w,fromOwner:new F.PublicKey(e),toOwner:new F.PublicKey(t)},w);if(d&&l){let E=re.ComputeBudgetProgram.setComputeUnitLimit({units:d}),v=re.ComputeBudgetProgram.setComputeUnitPrice({microLamports:l});_.add({instruction:E,signers:[]}),_.add({instruction:v,signers:[]})}return(0,fr.getSerializedTransaction)(_,void 0,{blockhash:i,lastValidBlockHeight:0})}p.getSerializedMplTransaction=xf;function $f(r,e,t){if(e){let d=F.VersionedTransaction.deserialize(N.base.fromBase58(r)),l=d.signature,b=d.message.serialize(),w=d.message.getAccountKeys().get(0)?.toBytes();if(!t&&!N.signUtil.ed25519.verify(b,l,w))throw Error("signature error");return d}let n=F.Transaction.from(N.base.fromBase58(r)),i=n.signature,s=n.serializeMessage(),o=n.feePayer.toBytes();if(!t&&!N.signUtil.ed25519.verify(s,i,o))throw Error("signature error");return n}p.validSignedTransaction=$f});var ja=y(he=>{"use strict";a();u();var Ua=he&&he.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jf=he&&he.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xf=he&&he.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ua(e,r,t);return Jf(e,r),e},qa=he&&he.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ua(e,r,t)};Object.defineProperty(he,"__esModule",{value:!0});he.api=void 0;he.api=Xf(Da());qa(ys(),he);qa(Ca(),he)});var Ca=y(oi=>{a();u();Object.defineProperty(oi,"__esModule",{value:!0});oi.SolWallet=void 0;var j=Va(),Dt=ke(),V=ja(),si=Dn(),Ra=ii(),bs=class extends j.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve((0,j.ed25519_getRandomPrivateKey)(!0,"base58"))}catch{return Promise.reject(j.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await(0,j.ed25519_getDerivedPrivateKey)(e,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(j.GenPrivateKeyError)}}checkPrivateKey(e){let t=Dt.base.fromBase58(e);return t.length==64&&!t.every(n=>n===0)}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(j.NewAddressError);let t=V.api.getNewAddress(e.privateKey),n={address:t,publicKey:Dt.base.toHex(Dt.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(j.NewAddressError)}}async validPrivateKey(e){let t;try{t=this.checkPrivateKey(e.privateKey)}catch{t=!1}let n={isValid:t,privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t;try{t=Dt.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signTransaction(e){try{let t=e.data,n=V.api.createRawTransaction(t.payer,t.blockHash);if(t.computeUnitLimit&&t.computeUnitPrice){let s=si.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),o=si.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(s).add(o)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(j.SignTxError);if(t.version===0)return V.api.signTransferVersionedTransaction(e.data,e.privateKey);await V.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(j.SignTxError);if(t.version===0)return V.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await V.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(j.SignTxError);let s=t.tokenStandard??Ra.TokenStandard.ProgrammableNonFungible;return await V.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s,t.computeUnitLimit,t.computeUnitPrice)}else return Promise.reject(j.SignTxError);if(!e.privateKey)return Promise.resolve(Dt.base.toHex(n.serialize({verifySignatures:!1})));let i=await V.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(j.SignTxError)}}async signMessage(e){try{let t=e.data,n=await V.api.signMessage(t,e.privateKey);return Promise.resolve(n)}catch{return Promise.reject(j.SignTxError)}}async deserializeMessages(e){try{let t=await V.api.deserializeMessages(e.data);return Promise.resolve(t)}catch{return Promise.reject("deserializeMessages error")}}async getSerializedTransaction(e){try{let t=e.data,n=V.api.createRawTransaction(t.payer,t.blockHash);if(t.needPriorityFee&&t.computeUnitLimit&&t.computeUnitPrice){let s=si.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),o=si.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(s).add(o)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(j.SignTxError);if(t.version===0)return V.api.getSerializedTransferVersionedTransaction(e.data,e.privateKey);await V.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(j.SignTxError);if(t.version===0)return V.api.getSerializedTokenTransferVersionedTransaction(e.data,e.privateKey);await V.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(j.SignTxError);let s=t.tokenStandard??Ra.TokenStandard.ProgrammableNonFungible;return t.needPriorityFee?await V.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s,t.computeUnitLimit,t.computeUnitPrice):await V.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s)}else return Promise.reject(j.SignTxError);let i=Dt.base.toBase58(n.serialize({requireAllSignatures:!1,verifySignatures:!1}));return Promise.resolve(i)}catch{return Promise.reject(j.SignTxError)}}async calcTxHash(e){try{let t=Dt.base.fromBase58(e.data),n;try{n=V.web3.Transaction.from(t)}catch{n=V.web3.VersionedTransaction.deserialize(t)}return n.signature==null?Promise.reject(j.CalcTxHashError):Promise.resolve(Dt.base.toBase58(n.signature))}catch{return Promise.reject(j.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return this.signTransaction(e)}catch{return Promise.reject(j.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{let t=V.api.getHardwareTransaction(e.raw,e.pubKey,e.sig);return Promise.resolve(t)}catch{return Promise.reject(j.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=V.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,j.jsonStringifyUniform)(i))}catch{return Promise.reject(j.validSignedTransactionError)}}};oi.SolWallet=bs});export default Ca();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=SolWallet-3CLCSQOZ.js.map
