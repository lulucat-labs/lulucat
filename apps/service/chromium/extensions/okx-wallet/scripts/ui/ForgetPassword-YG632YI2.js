import{a as K}from"./chunk-LVFFHQXT.js";import{a as M}from"./chunk-2P7I7CKT.js";import{g as B}from"./chunk-KX7CSB3G.js";import{b as O}from"./chunk-ZZLPMRQY.js";import{n as G}from"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import{b as Z}from"./chunk-YYUUDQVK.js";import"./chunk-RJDGREGT.js";import"./chunk-QR7BG2TV.js";import{a as L}from"./chunk-GOMM7VSE.js";import{c as A}from"./chunk-LTMEFQRN.js";import{h as D,i as z}from"./chunk-TU5XNYNZ.js";import{a as x}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import{ga as F,z as P}from"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as W}from"./chunk-AUURQ3HI.js";import{cc as ae}from"./chunk-B32MCU7F.js";import"./chunk-VOLYN562.js";import"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import{d as v,f as le}from"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-OWU5GWTN.js";import"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import{g as Y}from"./chunk-ELX2GHLL.js";import"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{G as f,o as b,q as I,r as S}from"./chunk-E44TZGUB.js";import"./chunk-KBQXBPIW.js";import{O as ie,w as s}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{ca as t}from"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as re}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-2RHSM47Y.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as _,o as i,q as l}from"./chunk-FJHLV356.js";i();l();var e=_(re()),n=_(W());ie();i();l();i();l();var U=_(ae()),V=_(W());var ne=()=>{let o=(0,U.useDispatch)();return(0,V.useMemoizedFn)(async()=>{await o(A()),await o(Z()),await o(O("isRpcMode",!1)),await o(D(1)),await o(z(void 0)),await o(B.setSelectAccounts([]))})},$=ne;le();i();l();var q=()=>["forgotpwd_mid_item_desc1","forgotpwd_mid_item_desc2","forgotpwd_mid_item_desc3"],Q=()=>3;var j="RESET",ce="reset-password",de="verify-tg-password",Me=({history:o})=>{let y=M(),c=G(),[w,{toggle:m}]=(0,n.useBoolean)(!1),[H,{set:C}]=(0,n.useBoolean)(!1),[p,h]=e.default.useState([]),[g,J]=e.default.useState(""),d=y.get("from")===ce,k=y.get("from")===de,{hasSyncEnabled:E,isSyncSupported:X}=K(),T=k&&X&&!E||E,R=$(),ee=r=>{p.includes(r)?h(a=>a.filter(oe=>oe!==r)):h(a=>[...a,r])},N=(0,n.useMemoizedFn)(async()=>{C(!0);try{k?await v().resetCloudWallet():await R(),f.success({placement:f.DIRECTION.top,title:s("walletsecurity_top_toast_notification")}),o.push(P)}finally{C(!1)}},[]),te=(0,n.useMemoizedFn)(()=>{c?.hasBackup?o.go(-1):o.push(`${F}?keyringId=${c?.keyringId}`)},[c]),se=Y({dark:"/cdn/assets/imgs/245/A35F2C4117418EF8.png",light:"/cdn/assets/imgs/245/2DDC8ABECB4799BB.png"});return e.default.createElement("div",{className:"forget-password"},e.default.createElement(L,{closeable:!1,title:s(d?"securityreset_header_text_reset":"forgotpwd_header_title_forget_password")}),e.default.createElement("div",{className:"forget-password__container"},e.default.createElement("img",{className:"forget-password__icon",src:se,alt:"reset"}),!!d&&e.default.createElement("h1",{className:"forget-password__title"},s("securityreset_mid_title_risk_warning")),d?e.default.createElement("div",{className:"forget-password__desc"},s("securityreset_mid_subtitle_note")):e.default.createElement("ul",{className:"forget-password__tips"},q(T).map((r,a)=>e.default.createElement("li",{key:a,onClick:()=>{ee(a)},className:"forget-password__tip"},e.default.createElement(S,{className:"forget-password__tip__icon",checked:p.includes(a)}),s(r)))),e.default.createElement(x.FooterActions,null,d?e.default.createElement(e.default.Fragment,null,e.default.createElement(t,{size:t.SIZE.lg,category:t.CATEGORY.outline,type:t.TYPE.primary,onClick:m},s("securityreset_header_text_reset")),e.default.createElement(t,{onClick:te,size:t.SIZE.lg,type:t.TYPE.highlight,category:t.CATEGORY.fill},s(c?.hasBackup?"securityreset_mid_btn_cancel":"securityreset_footer_btn_back"))):e.default.createElement(t,{block:!0,size:t.SIZE.lg,onClick:m,type:t.TYPE.highlight,category:t.CATEGORY.fill,className:"forget-password__action",disabled:p.length!==Q(T)},s("forgotpwd_footer_btn_reset_password")))),e.default.createElement(b,{hideCloseBtn:!0,noContentPadding:!0,visible:w},w&&e.default.createElement("div",{className:"reset-wallet"},e.default.createElement("h1",{className:"reset-wallet__title"},s("securityreset_mid_title_reset_password")),e.default.createElement("h2",{className:"reset-wallet__label"},s("securityreset_mid_text_enter_reset",{text:e.default.createElement("span",{key:"reset",style:{color:"var(--okd-color-semantic-negative)"}},s("securityreset_mid_placeholder_reset"))})),e.default.createElement(I,{size:"xl",cleanable:!0,value:g,autoFocus:!0,onKeyDown:r=>{r.keyCode===13&&g===j&&N()},placeholder:s("securityreset_mid_placeholder_reset"),onChange:({target:{value:r}})=>{J(r)}}),e.default.createElement("div",{className:"reset-wallet__actions"},e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.primary,className:"reset-wallet__action reset-wallet__cancel",category:t.CATEGORY.outline,onClick:m},s("securityreset_mid_btn_cancel")),e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.red,category:t.CATEGORY.fill,className:"reset-wallet__action",disabled:g!==j,loading:H,onClick:N},s("securityreset_mid_btn_confirm"))))))};export{Me as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ForgetPassword-YG632YI2.js.map
