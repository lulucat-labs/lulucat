import{a as O}from"./chunk-QBAWFARF.js";import{c as I}from"./chunk-L7GCSSD7.js";import{b as P}from"./chunk-DPLPUTOK.js";import{a as p}from"./chunk-QTWRPB4V.js";import{Sa as m,sa as d,ta as l,ua as T}from"./chunk-LUYLQDIU.js";import{n as h}from"./chunk-QZXD2Q4G.js";import{a as c}from"./chunk-FYE3XUPR.js";import{L as x,M as A,a as w,b as S,oa as b}from"./chunk-KBQXBPIW.js";import{K as C,O as D,a as u}from"./chunk-364XNTHB.js";import{o as i,q as a}from"./chunk-FJHLV356.js";i();a();D();var U=t=>{let{pathname:e}=I(t);return T.find(o=>new RegExp(o.reg).test(e))?.params||{}},y="dex_source_env",B="dex-swap/bridge",L="dex-swap/meme",R=()=>{if(u())return{};if(p())return P.g.get(y);if(m()){let t=d.SWAP,e=window?.location?.hash;e?.indexOf(B)>-1?t=d.BRIDGE:e?.indexOf(L)>-1&&(t=d.MEME);let r=l.PLUGIN;return O()&&(r=l.TGAPP,P.get("pageSource")==="bot"&&(r=l.COMMAND)),{source:r,business_type:t,trade_dialog:"no"}}return U(C.href)};i();a();b();D();i();a();b();function g(t){let e={...t};return Object.keys(e).forEach(r=>{let o=t[r];(x(o)||o===""||A(o))&&delete e[r]}),e}var G=[0],le=()=>new AbortController,M=()=>Promise.reject(),pe=t=>t?.status===c.STATUS_CODE?.ERR_CANCELED;async function E(t={}){let e=t;if(m()&&(e=await h.global?.interceptorHeaders(t),e.url=`https://${h.global.getApiHostname()}${e.url}`),!u()&&p()&&!m()){e.headers||(e.headers={});let r=R();e.headers.Referer_URL=r.iframe_referrer,r.widget_version&&(e.headers.Widget_version=R().widget_version)}return S(e.params)&&(e.params=g(e.params)),w(e.data)?e.data=e.data.map(r=>g(r)):S(e.data)&&(e.data=g(e.data)),e.needSign=!0,e.customToLogin=M,e}function _(t){return t.then(e=>{let{data:r}=e;return G.includes(r?.code)?r:Promise.reject(r||{})})}var f={};f.get=(t,e)=>_(E({...e,url:t}).then(r=>{let{url:o,...s}=r;return c.get(o,s).then(n=>(n?.status===200&&n?.data?.code&&(n.data.code=+n.data.code),n))}));f.getWithCache=(t,e)=>_(E({...e,url:t}).then(r=>{let{url:o,...s}=r;return c.getWithCache(o,{cacheSeconds:60*5,...s})}));f.post=(t,e,r)=>_(E({...r,url:t,data:e,method:"post"}).then(o=>{let{url:s,data:n,...v}=o;return c.post(s,n,v)}));f.delete=(t,e,r)=>_(E({...r,url:t,data:e,method:"delete"}).then(o=>{let{url:s,...n}=o;return c.delete(s,n)}));var ge=f;export{R as a,le as b,pe as c,ge as d};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-H4BR5O6P.js.map
