import{c as Ce,d as _e,e as ye,g as ge,h as Ae}from"./chunk-U5ACDAV3.js";import"./chunk-TNO352BM.js";import"./chunk-POZULQ6W.js";import"./chunk-5HI5GQGI.js";import{a as de,b as fe,c as he}from"./chunk-TQS4TSWH.js";import"./chunk-6LLKXSCU.js";import"./chunk-FOZHYRP7.js";import{c as z,d as L}from"./chunk-5HXUZG4A.js";import{a as ue}from"./chunk-7YQLUBDN.js";import{e as se,g as ne}from"./chunk-KX7CSB3G.js";import"./chunk-ELHNWADN.js";import{d as w}from"./chunk-4X3SKD2N.js";import{B as pe,z as ce}from"./chunk-GCAD5G3O.js";import"./chunk-PS6ETN2V.js";import"./chunk-AZYPLE5D.js";import"./chunk-SULFXTUN.js";import"./chunk-OGS4HURJ.js";import"./chunk-HZNY4MK4.js";import"./chunk-6CI55CTV.js";import{d as ie}from"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import{a as me}from"./chunk-GOMM7VSE.js";import{b as re}from"./chunk-LTMEFQRN.js";import{d as ae}from"./chunk-MSUJSPID.js";import"./chunk-TU5XNYNZ.js";import{a as le}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import{m as $}from"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import"./chunk-AUURQ3HI.js";import{cc as ze}from"./chunk-B32MCU7F.js";import"./chunk-VOLYN562.js";import{a as De}from"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-OWU5GWTN.js";import"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import{c as u}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{Kc as te,Lc as Y,_c as oe}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{b as ee,c as j,r as U}from"./chunk-E44TZGUB.js";import{f as Q,oa as Ye}from"./chunk-KBQXBPIW.js";import{O as $e,w as M}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{H as O,ca as W}from"./chunk-W7JONHX2.js";import{a as X}from"./chunk-O3LHCDGR.js";import{a as E}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-2RHSM47Y.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as _,o,q as r}from"./chunk-FJHLV356.js";o();r();var e=_(E()),B=_(ze()),Le=_(De());$e();o();r();var xe=_(E());var Te=(C={})=>{let c=ce(C);return(0,xe.useMemo)(()=>c.map(p=>{let{walletIdentities:s,marketValueSymbol:d,marketValue:y}=p;return{...p,walletAsset:`${$(y)} ${d||""}`,walletIdentities:s.map(i=>{let{balance:f="--",symbol:l}=i;return{...i,walletAsset:`${$(f)} ${l||""}`}})}}),[c])};oe();o();r();var be=C=>{let c=he({dappUrl:C}),{provider:p,method:s,exts:d,status:y,providerTypes:i=[]}=c,f=ue(),l=fe({provider:p,exts:d,chainsInfo:f}),m=i.filter(t=>t.required).map(t=>f.find(a=>a.localType===t.providerType)),g=i.filter(t=>!t.required).map(t=>f.find(a=>a.localType===t.providerType));if(m.length>0||g.length>0){let t=m.map(n=>n?.baseChain),x=g.map(n=>n?.baseChain),a=m.map(n=>n?.chainName).join(", ");return{requestChains:t,optionalChains:x,chainNames:a,allChain:!1,status:y}}let A=de({provider:p,method:s});return{requestChains:[l.baseChain],optionalChains:[],chainNames:l.chainName,allChain:A,status:y}};o();r();var h=_(E()),Ee=_(O()),I=_(X());oe();o();r();var q=_(E()),ke=_(O()),N=_(X());o();r();var R=_(E());var qe=_(O());Ye();o();r();var D={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var Se=({selected:C,disabled:c,onClick:p})=>R.default.createElement(u.FlexBox,{onClick:p,className:(0,qe.default)(D.root,{[D.disabled]:c}),align:u.ALIGN.center,justify:u.ALIGN.center},c?R.default.createElement(U.Circle,{disabled:!0,checked:!1}):R.default.createElement(U.Circle,{checked:C}));Se.defaultProps={onClick:Q,selected:!1,disabled:!1};var P=Se;o();r();var K={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var Ne=({selected:C,createdId:c,isRpcMode:p,hiddenAssets:s,walletIdentity:d,handleClickWallet:y,requestChains:i,optionalChains:f,disabled:l=!1})=>{let{walletId:m=""}=d,g=(0,q.useMemo)(()=>C.includes(m),[C,m]),A=(0,q.useMemo)(()=>{let x=i.length===0&&f.some(S=>d?.account?.[S]),a=i.length===0&&f.length===0,n=i.length>0&&i.every(S=>d?.account?.[S]);return x||a||n},[f,i,d?.account]);l=l||!A;let t=(0,q.useCallback)(()=>{l||y(m)},[y,m,l]);return q.default.createElement(u.FlexBox,{className:(0,ke.default)(K.root,{[K.highlight]:m===c,[K.disabled]:l}),align:u.ALIGN.center,onClick:t},q.default.createElement(ge,{disabled:l,isRpcMode:p,hiddenAssets:s,walletIdentity:d}),q.default.createElement(P,{selected:g,disabled:l}))};Ne.propTypes={selected:N.default.array.isRequired,createdId:N.default.string.isRequired,isRpcMode:N.default.bool.isRequired,walletIdentity:N.default.object.isRequired,hiddenAssets:N.default.bool.isRequired,handleClickWallet:N.default.func.isRequired};var Ie=Ne;o();r();var k={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var Me=({selected:C,isRpcMode:c,hiddenAssets:p,keyringIdentity:s,handleClickWallet:d,requestChains:y,optionalChains:i})=>{let[f,l]=Ae(),[m,g]=(0,h.useState)(!0),A=()=>{g(a=>!a)},t=(0,h.useMemo)(()=>s?.keyringIdentityType===Y.MPC,[s]),x=(0,h.useMemo)(()=>{let{mpcStatus:a,accountStatus:n}=s?.status||{};return t&&(a===L.ESCAPE||a===L.RECOVER||n===z.DELETE||n===z.FROZEN)},[t,s?.status]);return h.default.createElement(u.Box,{className:k.root},h.default.createElement(ee,{onToggle:A,expanded:m,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,Ee.default)(k.icon),title:h.default.createElement(_e,{isRpcMode:c,hiddenAssets:p,keyringIdentity:s})},t&&h.default.createElement(ye,{keyringIdentity:s,className:k.mpcStatusAlertWrapper}),h.default.createElement(w,{dataSource:s?.walletIdentities||[],renderItem:a=>h.default.createElement(Ie,{selected:C,isRpcMode:c,createdId:f,hiddenAssets:p,walletIdentity:a,handleClickWallet:d,requestChains:y,optionalChains:i,disabled:x})}),s.keyringIdentityType===Y.MNEMONIC?h.default.createElement(Ce,{createdCb:l,keyringIdentity:s}):null))};Me.propTypes={selected:I.default.array.isRequired,isRpcMode:I.default.bool.isRequired,hiddenAssets:I.default.bool.isRequired,keyringIdentity:I.default.object.isRequired,handleClickWallet:I.default.func.isRequired};var We=Me;o();r();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var He=({request:C,multi:c=!1})=>{let{origin:p}=C?.metadata||{},{requestChains:s,optionalChains:d,chainNames:y,allChain:i,status:f}=be(p);(0,e.useEffect)(()=>{re()},[]);let[,l]=pe({hasBackup:!0}),m=Te({hasBackup:!0}),{isRpcMode:g}=(0,B.useSelector)(ie),A=(0,e.useMemo)(()=>g?m:l,[g,l,m]),{backupedWallets:t,showTip:x}=(0,e.useMemo)(()=>{let T=!1;return{backupedWallets:A.reduce((V,J)=>{let Ke=J?.walletIdentities?.map(Fe=>{let{initialType:Ge,walletId:Ve,account:Oe}=Fe;if(Ge===te.MPC_KEYRING&&J?.status?.mpcStatus===L.ESCAPE)return"";let je=s?.every(Ue=>Oe?.[Ue]);return!i&&!je?(T=!0,""):Ve})?.filter(Boolean);return V.concat(Ke)},[]),showTip:T}},[A,i,s]),a=(0,B.useSelector)(se),[n,S]=(0,e.useState)(a?.length>0?a:[]),Be=t.length>1&&c,G=(0,e.useMemo)(()=>t.length===n.length,[t,n]),ve=(0,e.useCallback)(()=>{S(G?[]:t)},[G,t]),we=(0,e.useCallback)(T=>{n.includes(T)?S(v=>v.filter(V=>V!==T)):S(v=>c?[...v,T]:[T])},[n,c]),H=(0,B.useDispatch)(),Z=(0,Le.useHistory)(),Re=(0,e.useCallback)(()=>{H(ne.setSelectAccounts(n)),Z.goBack()},[n,Z,H]),[Pe]=ae();return e.default.createElement(u.Container,{className:F.root},e.default.createElement(me,{closeable:!1,bordered:!1,title:M("wallet_dapp_conncetion_subtitle_select_accounts")}),x&&f!=="PENDING"&&e.default.createElement(j,{desc:M("wallet_extension_connect_notification_text_dont_select_wallets",{network:y}),type:j.TYPE.warn,closable:!1}),Be?e.default.createElement(u.FlexBox,{align:u.ALIGN.center,className:F.selectAll},e.default.createElement(u.Box,{className:F.text},M("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(P,{selected:G,onClick:ve})):null,e.default.createElement(w,{dataSource:A,renderItem:T=>e.default.createElement(We,{selected:n,isRpcMode:g,hiddenAssets:Pe,keyringIdentity:T,handleClickWallet:we,requestChains:i?[]:s,optionalChains:i?[]:d})}),e.default.createElement(le.FooterActions,null,e.default.createElement(W,{block:!0,disabled:!n.length,category:W.CATEGORY.fill,type:W.TYPE.highlight,size:W.SIZE.lg,onClick:Re},M("wallet_set_password_btn_confirm"))))},No=He;export{No as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-XSAKTZF2.js.map
