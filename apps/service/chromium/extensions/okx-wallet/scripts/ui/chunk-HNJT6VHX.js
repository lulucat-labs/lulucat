import{d as At}from"./chunk-KWQDFT3S.js";import{f as mo}from"./chunk-454I7KWD.js";import{a as lo}from"./chunk-7P3TAB2X.js";import{a as so,c as ut}from"./chunk-2AZAHALD.js";import{e as ao,f as $}from"./chunk-APUK5GYS.js";import{d as no,g as io}from"./chunk-F4XZWNG2.js";import{d as oo}from"./chunk-4X3SKD2N.js";import{a as ro}from"./chunk-GRXKA7HE.js";import{f as Yt,w as Ht}from"./chunk-ZV6IBWDM.js";import{a as eo}from"./chunk-MSUJSPID.js";import{a as at}from"./chunk-MZFOYMI4.js";import{b as Ct}from"./chunk-JRZXGORL.js";import{l as Xt,m as gt,n as Rt,q as d}from"./chunk-IRNZUYU4.js";import{a as Zo}from"./chunk-SFTZ55EP.js";import{o as it}from"./chunk-AUURQ3HI.js";import{T as Kt,_a as Jt,m as Zt}from"./chunk-B32MCU7F.js";import{e as Qt}from"./chunk-OWU5GWTN.js";import{f as nt,ha as $t,ia as Vt}from"./chunk-2BGRD7AD.js";import{g as to,h as ht}from"./chunk-ELX2GHLL.js";import{c as e}from"./chunk-AIPMH74P.js";import{W as jt,_a as Ho}from"./chunk-Q23SA7M6.js";import{A as rt,G as qt,M as Z,O as Tt,b as Gt,d as R,g as ct,o as yt}from"./chunk-E44TZGUB.js";import{F as mt,K as Dt,Q as Ot,e as Ut,f as lt,oa as xt}from"./chunk-KBQXBPIW.js";import{O as et,l as Q,w as _}from"./chunk-364XNTHB.js";import{A as zt,H as pt,T as X,ca as H}from"./chunk-W7JONHX2.js";import{a as F}from"./chunk-PDSGFBX4.js";import{c as Yo,f as y,o as r,q as n}from"./chunk-FJHLV356.js";var St=Yo((_i,Fo)=>{r();n();function ae(){}Fo.exports=ae});r();n();var Nt=y(F()),_o=y(it());r();n();var w=y(F()),co=y(pt());et();r();n();var po=t=>{t&&typeof t!="string"&&(t=t.toString());let o=t?.length;return o<=12?28:o<=14?26:o>14&&o<=16?24:o>16&&o<=18?22:o>18&&o<=20?20:o>20&&o<=22?18:16};r();n();var tt={singleChangeSummary:"_singleChangeSummary_163a5_1",cryptoWrap:"_cryptoWrap_163a5_4",cryptoNumber:"_cryptoNumber_163a5_9",cryptoSymbol:"_cryptoSymbol_163a5_15",currencyNumber:"_currencyNumber_163a5_20",coinLogo:"_coinLogo_163a5_26",singleChangeSummaryWithLogo:"_singleChangeSummaryWithLogo_163a5_30"};var $o=({coinId:t,injectCoin:o,currencyId:i,assetChange:a,justify:m="center",currencyAssetChange:p,withCoinLogo:u=!1,useMinPrecision:c=!0,needSwapCurrency:l=!1})=>{let f=no(t,{withPrice:!0}),s=(0,w.useMemo)(()=>o||f,[f,o]),L=eo(i),N=s?.usdPrice?Q.mul(s?.usdPrice,L?.usdToThisRate):0,E=(0,w.useMemo)(()=>{let h;return a!==void 0&&!c&&(h=a),h===void 0&&a!==void 0&&s?.decimals!==void 0&&c&&(h=Q.div(a,10**s?.decimals)),h===void 0&&p!==void 0&&N&&(h=Q.div(p,N)),h},[a,p,N,s?.decimals,c]),I=(0,w.useMemo)(()=>{let h;return p!==void 0&&(h=Q.mul(p,l?L?.usdToThisRate:1)),h===void 0&&E!==void 0&&(h=Q.mul(E,N||0)),h===void 0&&Q.lt(h,0)&&(h=Q.mul(h,-1)),h},[N,E,l,p,L?.usdToThisRate]),O=(0,w.useMemo)(()=>E!==void 0?gt(E,{validDigit:0,signDisplay:!0,precision:s?.orderDecimalNum||s?.decimals}):"",[s?.decimals,s?.orderDecimalNum,E]),G=(0,w.useMemo)(()=>I!==void 0?Xt(I,{useApproximate:!1,symbol:L?.symbol}):"",[L?.symbol,I]),v=(0,w.useMemo)(()=>s?.image?{src:s?.image}:s?.symbol?{text:s?.symbol}:null,[s?.image,s?.symbol]),b=u?e.FlexBox:w.default.Fragment,j=u?{align:e.ALIGN.center}:{};return w.default.createElement(b,{...j},!!u&&!!v&&w.default.createElement(Ct,{...v,size:Ct.SIZE.lg,className:tt.coinLogo}),w.default.createElement(e.FlexBox,{wrap:!0,justify:m,align:e.ALIGN.end,className:(0,co.default)(tt.singleChangeSummary,{[tt.singleChangeSummaryWithLogo]:u})},w.default.createElement(d.AdaptiveText,{strong:!0,nowrap:!0,ellipsis:{tooltip:`${O} ${s?.symbol}`},component:"span",autoSize:po,className:tt.cryptoWrap,text:`${O}${s?.symbol}`},w.default.createElement(d.Text,{inherit:!0,className:tt.cryptoNumber,component:"span"},O),w.default.createElement(d.Text,{inherit:!0,className:tt.cryptoSymbol,component:"span"},s?.symbol)),w.default.createElement(d.Text,{component:"span",className:tt.currencyNumber},G)))},uo=$o;var Vo=({title:t,space:o=24,tooltip:i,currencyId:a,summaryList:m,useMinPrecision:p,needSwapCurrency:u})=>{let c=(0,_o.useMemoizedFn)(l=>Nt.default.createElement(uo,{withCoinLogo:!0,justify:"flex-start",coinId:l?.coinId,injectCoin:l?.injectCoin,assetChange:l?.assetChange,currencyId:l?.currencyId||a,currencyAssetChange:l?.currencyAssetChange,useMinPrecision:l?.useMinPrecision||p,needSwapCurrency:l?.needSwapCurrency||u}));return Nt.default.createElement(so,{title:t,tooltip:i,space:8},Nt.default.createElement(oo,{space:o,renderEmpty:!1,dataSource:m,renderItem:c}))},fo=Vo;r();n();var B=y(F()),yo=y(it()),To=y(pt());xt();et();r();n();var C={NORMAL:"NORMAL",FEE_ERROR:"FEE_ERROR",...Vt,...$t},xo={[C.BALANCE_INSUFFICIENT]:"wallet_transfer_errortip_insufficient_balance",[C.FEE_ERROR]:"wallet_extension_alert_estimate_unavailable",[C.DEFRAUD]:"wallet_extension_protocol_toast_risk_warning_desc",[C.SIMILAR]:"wallet_extension_modaldesc_riskaddress"};r();n();var st={"retina-border-basic":"_retina-border-basic_1itfd_1",retinaBorderBasic:"_retina-border-basic_1itfd_1",headerTip:"_headerTip_1itfd_29","tip-message-link":"_tip-message-link_1itfd_65",tipMessageLink:"_tip-message-link_1itfd_65",headerTipWarning:"_headerTipWarning_1itfd_68",headerTipMsg:"_headerTipMsg_1itfd_72",headerTipAction:"_headerTipAction_1itfd_77"};var Ko=({text:t,track:o})=>{let i=ro();return B.default.createElement(B.default.Fragment,null,t,B.default.createElement(ct,{className:st["tip-message-link"],type:ct.TYPE.primary,weight:ct.WEIGHT.muted,size:ct.SIZE.xs,onClick:()=>{Ut(o)&&o(),setTimeout(()=>{globalThis.platform.openTab({url:i?.scamsUrl})},100)}},_("wallet_extension_scam_toast_link_view_scams")))},Jo=({type:t,coinId:o,inherit:i,address:a,walletId:m,className:p,message:u,hidden:c,actions:l=[],renderActions:f,renderMessage:s,blockAddressInfo:L,supportGasStation:N=!0})=>{let[E,{toggle:I}]=(0,yo.useBoolean)(!1),[O,G]=(0,B.useState)(o),[v,b]=io(o),j=v?.baseCoinId===0,h=(0,B.useMemo)(()=>{if(s&&typeof s=="function"){let U=s(t);if(U)return U}if(v?.symbol&&t===C.FEE_BALANCE_INSUFFICIENT)return _(j?"wallet_extension_popup_adjust_add":"wallet_extension_popup_insufficient_network_fee",{token:b?.symbol,symbol:b?.symbol});if(v?.symbol&&t===C.BALANCE_INSUFFICIENT)return _("wallet_transfer_errortip_insufficient_balance",{chainSymbol:v?.symbol});if(u)return u;let Y=xo[t];if([C.DEFRAUD,C.SIMILAR].includes(t)){let U=!!a&&Zt(a),Et=t===C.DEFRAUD?L?.msg:_(Y,{contractaddress:U});return B.default.createElement(Ko,{track:Yt,text:Et})}return _(Y,{chainSymbol:v?.symbol})},[s,v?.symbol,t,u,j,b?.symbol,a,L?.msg]),J=(0,B.useMemo)(()=>f&&typeof f=="function"?f(t)||[]:l,[l,f]),ft=(0,B.useMemo)(()=>{let Y=[];if([C.BALANCE_INSUFFICIENT,C.FEE_BALANCE_INSUFFICIENT].includes(t)&&N&&!i){let U=t===C.FEE_BALANCE_INSUFFICIENT?b?.symbol:v?.symbol;return Y=[{btnText:_("wallet_extension_placeorder_textbtn_replenish",{token:U}),onClick:()=>{I(),G(t===C.FEE_BALANCE_INSUFFICIENT?b?.coinId:o)}}],[...Y,...J]}return J},[i,t,N,J,b?.symbol,b?.coinId,v?.symbol,I,o]);return c||!h?null:B.default.createElement(B.default.Fragment,null,B.default.createElement(at,{offsetTop:0,style:{zIndex:10}},B.default.createElement(e.FlexBox,{className:(0,To.default)(st.headerTip,p),align:e.ALIGN.center},B.default.createElement(X,{iconName:"okx-wallet-plugin-error",className:st.headerTipWarning}),B.default.createElement(e.Box,null,B.default.createElement(d.Text,{block:!0,className:st.headerTipMsg},h),!mt(ft)&&B.default.createElement(e.Space,{wrap:!0,space:12,style:{marginTop:"4px"}},ft.map(({btnText:Y,onClick:U})=>B.default.createElement(d.Text,{strong:700,className:st.headerTipAction,onClick:U},Y)))))),N&&B.default.createElement(ao,{address:a,visible:E,walletId:m,coinId:O,closeCallback:I}))},go=B.default.memo(Jo);r();n();var ho=y(F());var Qo=({preExecRet:t})=>{let{assetDiffList:o}=t||{};if(o?.length){let i=o.map(a=>({title:a.title,summaryList:a.tokenAssetDifflist.map(m=>{let{tokenInfo:p,type:u,amount:c,usdAmount:l}=m;return{injectCoin:{...p,image:p.imageUrl},withCoinLogo:!0,assetChange:c?`${u}${c}`:void 0,currencyAssetChange:l||void 0,needSwapCurrency:!0}})}));return ho.default.createElement(e.Space,{space:24,direction:e.DIRECTION.vertical},i.map(fo))}return null},No=Qo;r();n();var K=y(F());r();n();var ot=y(F()),wt=y(pt());xt();r();n();et();var vt="UNKNOWN",Io={[vt]:{title:_("wallet_extension_transaction_page_title_unknown_transaction"),image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"}},[nt.TRANS_OUT]:{title:_("wallet_extension_send_title_send"),image:{light:"/cdn/assets/imgs/2411/CB43D95ECC4204BB.png",dark:"/cdn/assets/imgs/2411/07EBF82A7C4E6ABA.png"}},[nt.REGISTRATION]:{title:_("wallet_dapp_conncetion_notify_signature_request"),image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"}}};r();n();var V={"retina-border-basic":"_retina-border-basic_uvlo7_1",retinaBorderBasic:"_retina-border-basic_uvlo7_1",txType:"_txType_uvlo7_29",bordered:"_bordered_uvlo7_33",txTypeLogo:"_txTypeLogo_uvlo7_66",txTypeTitle:"_txTypeTitle_uvlo7_70",txTypeSubTitle:"_txTypeSubTitle_uvlo7_77",txTypeDesc:"_txTypeDesc_uvlo7_85",content:"_content_uvlo7_93",needChildrenPadding:"_needChildrenPadding_uvlo7_96"};var Xo=({className:t,txType:o=vt,injectInfo:i={},children:a,bordered:m=!0,needChildrenPadding:p,styles:u={}})=>{let c=Ot({},Io[o],i),l=to(c?.image),{titleStyle:f}=u;return ot.default.createElement(e.FlexBox,{justify:"center",align:e.ALIGN.center,direction:e.DIRECTION.vertical,className:(0,wt.default)(V.txType,{[V.bordered]:m},t)},ot.default.createElement(R,{src:l,className:V.txTypeLogo}),ot.default.createElement(d.Text,{style:f,strong:500,className:V.txTypeTitle},c?.title),ot.default.createElement(d.Text,{strong:500,className:V.txTypeSubTitle},c?.subTitle),ot.default.createElement(d.Text,{className:V.txTypeDesc},c?.desc),ot.default.createElement(e.Box,{className:(0,wt.default)(V.content,{[V.needChildrenPadding]:p})},a))},Bo=ot.default.memo(Xo);r();n();var P=y(F()),bo=y(it());r();n();var z={root:"_root_1ixys_1",txExplain:"_txExplain_1ixys_1",txExplainModal:"_txExplainModal_1ixys_7",main:"_main_1ixys_20",image:"_image_1ixys_28",title:"_title_1ixys_33",infoList:"_infoList_1ixys_40",info:"_info_1ixys_40",subTitle:"_subTitle_1ixys_46",text:"_text_1ixys_53",footWrap:"_footWrap_1ixys_58"};var Ro=({txExplain:t})=>{let[o,{toggle:i}]=(0,bo.useBoolean)(!1),{image:a,descList:m,title:p,confirmBtnText:u}=t,c=ht(a);return P.default.createElement(e.Box,{className:z.root},P.default.createElement(e.Box,{onClick:i,className:z.txExplain},P.default.createElement(X,{className:"okds-question-mark-circle"})),P.default.createElement(yt.Action,{noContentPadding:!0,visible:o,onClose:i},P.default.createElement(e.Box,{className:z.txExplainModal},P.default.createElement(e.Box,{className:z.main},P.default.createElement(R,{src:c,className:z.image}),P.default.createElement(e.Box,{className:z.title},p),m?.length?P.default.createElement(e.Box,{className:z.infoList},m.map(l=>P.default.createElement(e.Box,{className:z.info},P.default.createElement(e.Box,{className:z.subTitle},l.text),P.default.createElement(e.Box,{className:z.text},l.desc)))):null),P.default.createElement(e.Box,{className:z.footWrap},P.default.createElement(H,{block:!0,onClick:i,size:H.SIZE.lg,type:H.TYPE.highlight,category:H.CATEGORY.fill},u)))))},Lo=Ro;r();n();var _t={root:"_root_1gj3g_1",tools:"_tools_1gj3g_1",mevWrap:"_mevWrap_1gj3g_9",txExplainWrap:"_txExplainWrap_1gj3g_12",data:"_data_1gj3g_15"};var te=({txTypeInfo:t,children:o,...i})=>{let{txExplain1:a={},baseInfo:m={}}=t,p;m?.title?.text&&(p={...m,title:m.title.text});let c=K.Children.toArray(o)?.filter(Boolean)?.length;return K.default.createElement(Bo,{injectInfo:p,needChildrenPadding:c,...i},K.default.createElement(e.Box,{className:_t.root},K.default.createElement(e.Box,{className:_t.tools},a?.title?K.default.createElement(e.Box,{className:_t.txExplainWrap},K.default.createElement(Lo,{txExplain:a})):null),K.default.createElement(e.Box,{className:_t.data},o)))},Eo=te;r();n();var x=y(F()),Mt=y(it());xt();et();Ho();r();n();var S=y(F()),Co=y(pt()),Ao=y(Zo());et();r();n();var q={root:"_root_w4981_1",header:"_header_w4981_4",title:"_title_w4981_10",content:"_content_w4981_14",contractAddress:"_contractAddress_w4981_18",tabContent:"_tabContent_w4981_21",data:"_data_w4981_24",abi:"_abi_w4981_27",icon:"_icon_w4981_37",copyableText:"_copyableText_w4981_41"};var oe=({children:t=null,advanced:o={},title:i=_("wallet_extension_transaction_tab_advanced"),tooltipZIndex:a})=>{let{data:m,contractList:p,methodName:u,methodParameter:c}=o,l=s=>{(0,Ao.default)(s),qt.success({title:_("wallet_receive_toast_address_copied")})},f=(0,S.useMemo)(()=>u&&c?JSON.stringify({[_("wallet_extension_transaction_tab_func")]:u,[_("wallet_extension_transaction_tab_params")]:c},null,2):"",[u,c]);return!m&&!t?null:S.default.createElement(Gt,{className:q.root,headerClassName:q.header,titleClass:q.title,contentClassName:q.content,customHeaderIcon:s=>S.default.createElement(X,{className:(0,Co.default)(q.icon,"okds-arrow-chevron-down-md",{"okui-accordion-header-icon-expanded":s})}),title:i},p?.length?p.map(s=>S.default.createElement(e.Box,{className:q.contractAddress},S.default.createElement(ut,{title:s.title,address:s.address}))):null,S.default.createElement(Tt.Underline,{size:zt.xs,noLine:!0,noPadding:!0,paneSpacing:24},S.default.createElement(Tt.TabPane,{tab:_("wallet_dapp_connection_subtitle_data_label"),id:"wallet_dapp_connection_subtitle_data_label"},S.default.createElement(e.Box,{className:q.tabContent},t||S.default.createElement(rt,{graspBaseDom:!0,title:_("wallet_receive_btn_copy_address"),type:rt.TYPES.neutral,trigger:rt.TRIGGER_TYPES.hover,zIndex:a},S.default.createElement(d.Text,{forceWrap:!0,onClick:()=>{l(m)},size:d.SIZE.sm,className:q.data},m)))),f?S.default.createElement(Tt.TabPane,{tab:_("wallet_extension_transaction_tab_abi"),id:"wallet_extension_transaction_tab_abi"},S.default.createElement(e.Box,{className:q.tabContent,onClick:()=>{l(f)}},S.default.createElement(rt,{noWrapper:!0,graspBaseDom:!0,title:_("wallet_receive_btn_copy_address"),type:rt.TYPES.neutral,trigger:rt.TRIGGER_TYPES.hover,zIndex:a},S.default.createElement("pre",{className:q.abi},f)))):null))},vo=oe;r();n();var A=y(F()),wo=y(it()),So=y(pt());et();r();n();var Bt=y(F());r();n();var It={root:"_root_195s5_1",image:"_image_195s5_7",text:"_text_195s5_13"};var ee=({imageUrl:t,text:o})=>Bt.default.createElement(e.Box,{className:It.root},Bt.default.createElement(R,{src:t,className:It.image,errorImg:Qt}),Bt.default.createElement(d.Text,{ellipsis:{tooltip:o},className:It.text},o)),bt=ee;r();n();var M={root:"_root_1squc_1",title:"_title_1squc_1",approveInfoList:"_approveInfoList_1squc_11",approve:"_approve_1squc_11",token:"_token_1squc_14",amount:"_amount_1squc_20",amountWrap:"_amountWrap_1squc_25",number:"_number_1squc_28",symbol:"_symbol_1squc_29",expiration:"_expiration_1squc_41",foldSwitch:"_foldSwitch_1squc_47",fold:"_fold_1squc_47"};var re=({amount:t,decimals:o})=>Jt(t)?_("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):Rt(t,{decimals:o}),ne=t=>{t&&typeof t!="string"&&(t=t.toString());let o=t?.length;return o<=12?28:o<=14?26:o>14&&o<=16?24:o>16&&o<=18?22:o>18&&o<=20?20:o>20&&o<=22?18:16},ie=({approveInfoList:t,renderEditApproveAmount:o,updateApproveInfo:i})=>{let a=t.length>3,[m,{toggle:p}]=(0,wo.useBoolean)(a),u=m?t.slice(0,3):t;if(t.length===1){let[c]=t,{tokenInfo:l,spender:f}=c,{symbol:s,imageUrl:L}=l||{},N=At(s,12);if([nt.CANCEL_AUTHORIZATION,nt.NFT_CANCEL_AUTHORIZATION,nt.DECREASE_ALLOWANCE].includes(f?.approvalType))return A.default.createElement(e.Box,{className:M.root},A.default.createElement(d.Text,{type:d.TYPE.secondary,size:d.SIZE.xs,className:M.title},_("wallet_extension_approve_subtitle_cancel_approve")),A.default.createElement(bt,{imageUrl:L,text:N}))}return A.default.createElement(e.Box,{className:M.root},A.default.createElement(d.Text,{type:d.TYPE.secondary,size:d.SIZE.xs,className:M.title},_("wallet_extension_approve_subtitle_approve")),A.default.createElement(e.Box,{className:M.approveInfoList},u.map(c=>{let{amount:l,tokenInfo:f,expiration:s}=c,{decimals:L,symbol:N}=f||{},E=At(N,12),I=re({amount:l,decimals:L});return A.default.createElement(e.Box,{className:M.approve},A.default.createElement(e.Box,{className:M.token},A.default.createElement(e.Box,{className:M.amount},A.default.createElement(d.AdaptiveText,{nowrap:!0,ellipsis:{tooltip:`${I} ${E}`},autoSize:ne,text:`${I}${E}`,className:M.amountWrap},A.default.createElement(d.Text,{inherit:!0,className:M.number},I),A.default.createElement(d.Text,{inherit:!0,className:M.symbol},E))),o(c,i)),s?A.default.createElement(e.Box,{className:M.expiration},_("wallet_extension_permitapproval_variable_days",{num:s})):null)}),a&&A.default.createElement(e.Box,{align:e.ALIGN.center,className:(0,So.default)(M.foldSwitch,{[M.fold]:m}),onClick:p},A.default.createElement(e.Box,null,_(m?"extension_defi_card_textbtn_view_all":"extension_defi_card_textbtn_view_less")),A.default.createElement(X,{className:"okx-wallet-plugin-add-arrow-chevrons"}))))},ko=ie;r();n();var W=y(F()),Po=y(St());r();n();var D={root:"_root_ud6a5_1",main:"_main_ud6a5_8",icon:"_icon_ud6a5_14",title:"_title_ud6a5_19",subTitle:"_subTitle_ud6a5_24",txInfo:"_txInfo_ud6a5_29",content:"_content_ud6a5_38",line:"_line_ud6a5_42",field:"_field_ud6a5_46"};var se=({handleCancel:t})=>{let o=[{onClick:t,actionType:$.ACTION_TYPE.CANCEL},{onClick:Po.default,disabled:!0,actionType:$.ACTION_TYPE.CONFIRM}];return W.default.createElement(e.Box,{className:D.root},W.default.createElement(e.Box,{className:D.main},W.default.createElement(Z.Input,{active:!0,className:D.icon}),W.default.createElement(Z.Input,{active:!0,className:D.title}),W.default.createElement(Z.Input,{active:!0,className:D.subTitle}),W.default.createElement(e.Box,{className:D.txInfo},W.default.createElement(Z.Input,{active:!0,className:D.title}),W.default.createElement(Z.Input,{active:!0,className:D.content})),W.default.createElement(Z.Input,{active:!0,className:D.line}),W.default.createElement(Z.Input,{active:!0,className:D.field}),W.default.createElement(Z.Input,{active:!0,className:D.field}),W.default.createElement(Z.Input,{active:!0,className:D.field})),W.default.createElement(at,{placeholder:!0,offsetBottom:0,borderTop:!0},W.default.createElement($,{buttonGroup:o})))},Mo=se;r();n();var Wo=y(F());et();var le=({txState:{txId:t="",baseCoin:o={},estimateFailed:i=!1,isSufficientBalance:a=!0,isSufficientGas:m=!0,estimateFailedMsg:p,coinWithBalance:u={}},loading:c,walletAccount:l,preExecRet:f={},chainHeaderTips:s=[]})=>{let{isBalanceLoadError:L,requestBalance:N,coinAmount:E}=u||{},{tipMessageInfo:I,needFillUp:O}=f,G=(0,Wo.useMemo)(()=>{let b=[],j=o?.coinId,{address:h,walletId:J}=l;return i&&b.push({type:C.FEE_ERROR,message:p,level:775}),L&&b.push({message:_("wallet_extension_transfer_error_text_wallet_balance_unavailable"),level:771,actions:[{btnText:_("wallet_extension_transfer_error_text_reload"),onClick:N}]}),(!m||O)&&b.push({type:C.FEE_BALANCE_INSUFFICIENT,renderMessage:()=>_("wallet_extension_toast_insufficient_balance_amount",{token:o?.symbol,balance:gt(E)}),txId:t,coinId:j,address:h,walletId:J,level:765}),a||b.push({type:C.BALANCE_INSUFFICIENT,txId:t,coinId:j,address:h,walletId:J,level:760}),b},[o?.coinId,o?.symbol,l,L,m,a,i,N,t,E,p,O]),v=I?.tipMessage?{message:I.tipMessage,level:I.level}:null;return c?null:[...G,v,...s].filter(Boolean).sort((b,j)=>b.level-j.level).pop()||null},Uo=le;r();n();var dt=y(F()),Lt=y(it()),Oo=y(St());r();n();var g=y(F());xt();r();n();var k={root:"_root_ajyhg_1",main:"_main_ajyhg_14",image:"_image_ajyhg_23",title:"_title_ajyhg_27",desc:"_desc_ajyhg_36",descRaw:"_descRaw_ajyhg_37",extLink:"_extLink_ajyhg_44",descList:"_descList_ajyhg_50",addressItem:"_addressItem_ajyhg_53",assressTitle:"_assressTitle_ajyhg_56",assressInfo:"_assressInfo_ajyhg_62",assressGray:"_assressGray_ajyhg_69",footerWrap:"_footerWrap_ajyhg_72",verticalButtons:"_verticalButtons_ajyhg_75",extButton:"_extButton_ajyhg_79"};var me={vertical:"vertical",horizontal:"horizontal"},kt=({evtType:t,btnType:o}={})=>{t&&Ht({specific_risk_scenarios:t,interaction_after_popup_window:o})},pe=t=>{let{descRaw:o,desc:i,descList:a,evtType:m}=t;return o?g.default.createElement(d.Text,{className:k.descRaw},o):mt(i)?mt(a)?null:g.default.createElement(e.Box,{className:k.descList},a.map(p=>{let{text:u,highLightLogic:c}=p,l=[];if(c){let[f=6,s=4]=c?.split(":")||[];l.push(p?.desc?.slice(0,f)),l.push(p?.desc?.slice(f,-s)),l.push(p?.desc?.slice(-s))}return g.default.createElement(e.Box,{className:k.addressItem},g.default.createElement(e.Box,{className:k.assressTitle},u),g.default.createElement(e.Box,{className:k.assressInfo},g.default.createElement("span",null,l[0]),g.default.createElement("span",{className:k.assressGray},l[1]),g.default.createElement("span",null,l[2])))})):g.default.createElement(d.Text,{className:k.desc},g.default.createElement("span",null,i.text),g.default.createElement("span",{className:k.extLink,onClick:()=>{kt({evtType:m,btnType:"click_on_the_risk_link"}),globalThis.platform.openTab({url:i.link.href})}},i.link?.text))},ce=t=>{let{btnLayout:o,evtType:i,handleClickHighLightButton:a,handleClickGrayButton:m,highlightBtnText:p,grayBtnText:u}=t,[c,l]=(0,g.useState)(!1),f=async()=>{kt({evtType:i,btnType:"click_cancel"}),l(!0),await a(),l(!1)},s=()=>{kt({evtType:i,btnType:"after_clicking_advanced_click_continue"}),m()};return o===me.vertical?g.default.createElement(e.Box,{className:k.verticalButtons},g.default.createElement(H,{block:!0,loading:c,size:H.SIZE.lg,onClick:f,type:H.TYPE.highlight,category:H.CATEGORY.fill},p),u?g.default.createElement(e.Box,{className:k.extButton,onClick:s},u):null):g.default.createElement($,{buttonGroup:[u&&{actionType:$.ACTION_TYPE.CANCEL,btnText:u,onClick:s},{loading:c,actionType:$.ACTION_TYPE.CONFIRM,btnText:p,onClick:f}].filter(Boolean)})},ue=t=>{let{title:o,image:i}=t,a=ht(i);return g.default.createElement(e.Box,{className:k.root},g.default.createElement(e.Box,{className:k.main},g.default.createElement(R,{className:k.image,src:a}),g.default.createElement(d.Text,{className:k.title},o),g.default.createElement(pe,{...t})),g.default.createElement(e.Box,{className:k.footerWrap},g.default.createElement(ce,{...t})))},_e=({handleCancel:t,handleCloseModal:o,popupInfoList:i})=>{let[a,m]=(0,g.useState)(0),p=i[a],u=a===i.length-1,c=()=>{m(s=>s+1)};return g.default.createElement(ue,{...p,handleClickGrayButton:()=>u?o():c(),handleClickHighLightButton:()=>t()})},Do=_e;var de=({handleCancel:t=Oo.default}={})=>{let o=(0,dt.useRef)(),i=(0,dt.useRef)(),a=()=>{o.current&&(o.current.destroy(),o.current=null,i.current=null)},m=(0,Lt.useMemoizedFn)(p=>(i.current||(i.current=new Promise((u,c)=>{o.current=yt.action({hideCloseBtn:!0,maskClosable:!1,noContentPadding:!0,children:dt.default.createElement(Do,{popupInfoList:p,handleCancel:async()=>{await t(),c(),a()},handleCloseModal:()=>{u(),a()}})})})),i.current));return(0,Lt.useUnmount)(a),m},jo=de;r();n();var Ft={root:"_root_aunqi_1",txTypeExtInfo:"_txTypeExtInfo_aunqi_6","section-wrap":"_section-wrap_aunqi_12",sectionWrap:"_section-wrap_aunqi_12"};var Pt={signMessage:"signMessage",signTransaction:"signTransaction"},fe=({txType:t,preExecParams:o})=>{let i=o?.dappInfo,m={[Pt.signMessage]:{dappInfo:i,txTypeInfo:{baseInfo:{image:{light:"/cdn/assets/imgs/2411/32C073438B555887.png",dark:"/cdn/assets/imgs/2411/F0FFC2576F5F3139.png"},title:{text:_("wallet_dapp_conncetion_notify_signature_request")}}}},[Pt.signTransaction]:{txTypeInfo:{baseInfo:{image:{light:"/cdn/assets/imgs/2411/E917E86725EBEB35.png",dark:"/cdn/assets/imgs/2411/3B767A859A18470E.png"},title:{text:_("wallet_extension_transaction_page_title_unknown_transaction")},subTitle:i.host}}}}[t];return{defaultPreExecRet:{tipMessageInfo:{tipMessage:_("wallet_extension_transaction_error_general_check_network"),level:780},...m,canConfirm:!1},defaultTxTypeInfo:m}},xe=({preExecRet:t,renderEditApproveAmount:o,setPreExecRet:i})=>{let a=(0,Mt.useMemoizedFn)((l,f)=>{i(s=>{let{approveInfoList:L}=s;return{...s,approveInfoList:L.map(N=>l===N.id?{...N,...f}:N)}})}),m=t.approveInfoList||[],p=t.txTypeInfo||{},u=t.dappInfo||{},{assetDiffList:c}=t||{};return x.default.createElement(Eo,{txTypeInfo:p},m.length?x.default.createElement(ko,{approveInfoList:m,renderEditApproveAmount:o,updateApproveInfo:a}):null,c?.length?x.default.createElement(No,{preExecRet:t}):null,u?.host?x.default.createElement(bt,{imageUrl:u.icon,text:u.host}):null)},ye=({spender:t})=>t?x.default.createElement(ut,{address:t.address,connectable:t.addressType!=="eoa",title:_(mo(t.approvalType)?"wallet_extension_approve_header_dapp_contract_address":"wallet_extension_permitapproval_text_approved")}):null,Te=({spender:t,slot:o})=>t?null:o.interactWith,ge=({slot:t,preExecRet:o})=>t.advanced?t.advanced:x.default.createElement(vo,{tooltipZIndex:101,advanced:o?.txExtInfo||{}}),he=(0,x.memo)(({txType:t=Pt.signTransaction,preExecParams:o={},slot:i={},walletAccount:a={},handleCancel:m=lt,buttonGroup:p,txState:u={},localType:c,networkFeeProps:l,renderEditApproveAmount:f=lt,onUpdatePreExecInfo:s=lt,chainHeaderTips:L=[]})=>{let{defaultPreExecRet:N,defaultTxTypeInfo:E}=fe({txType:t,preExecParams:o}),[I,O]=(0,x.useState)({}),[G,v]=(0,x.useState)(!0),[b,j]=(0,x.useState)(!0),h=jo({handleCancel:m}),J=(0,Mt.useMemoizedFn)(async()=>{try{o.forceLoading&&v(!0),j(!0);let U=await Kt(o),{approveInfoList:Et,popupInfoList:Wt,txTypeInfo:zo}=U;zo||(U.txTypeInfo=E.txTypeInfo,U.dappInfo=E.dappInfo),Et?.forEach((Go,qo)=>{Go.id=qo}),G&&Wt?.length&&await h(Wt).catch(lt),O(U)}catch{O(N)}finally{v(!1),j(!1)}});(0,x.useEffect)(()=>{s({...I,loading:G,silentLoading:b})},[I,G,s,b]),(0,x.useEffect)(()=>{Dt(o.chainIndex)||J()},[o]);let ft=Uo({txState:u,walletAccount:a,preExecRet:I,loading:G,chainHeaderTips:L}),Y=I.approveInfoList?.[0]?.spender;return x.default.createElement(e.Container,{className:Ft.root},G?x.default.createElement(Mo,{handleCancel:m}):x.default.createElement(x.default.Fragment,null,x.default.createElement(go,{...ft}),i.top,x.default.createElement(xe,{preExecRet:I,setPreExecRet:O,renderEditApproveAmount:f}),x.default.createElement(e.FlexBox,{className:Ft["section-wrap"],direction:e.DIRECTION.vertical},i.mev,l?x.default.createElement(lo,{useTransition:!1,...l}):i.networkFeeEntry,x.default.createElement(ye,{spender:Y}),i.network,x.default.createElement(ut,{walletId:a?.walletId,localType:c||jt,title:_("wallet_extension_network_address_title_walletused")}),x.default.createElement(Te,{spender:Y,slot:i}),x.default.createElement(ge,{slot:i,preExecRet:I})),x.default.createElement(at,{borderTop:!0,placeholder:!0,offsetBottom:0,style:{zIndex:205}},x.default.createElement($,{buttonGroup:p}))))}),wa=he;export{uo as a,fo as b,C as c,go as d,No as e,Bo as f,Eo as g,vo as h,bt as i,ko as j,jo as k,Pt as l,wa as m};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-HNJT6VHX.js.map
