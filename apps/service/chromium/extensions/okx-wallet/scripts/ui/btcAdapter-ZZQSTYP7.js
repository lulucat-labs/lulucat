import{a as R,b as w,c as T}from"./chunk-7SYMQ5C7.js";import"./chunk-3XTQ4Z2I.js";import"./chunk-2W7DJLXZ.js";import"./chunk-RZDDSSXU.js";import{b as f}from"./chunk-HEDYF2ME.js";import{e as y}from"./chunk-2LNDMD6C.js";import"./chunk-OAAPCU3J.js";import"./chunk-W4PU74UA.js";import"./chunk-WQANRNZ2.js";import"./chunk-74FNJDB7.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-2UKLMOTV.js";import{a as h,u}from"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import"./chunk-E44TZGUB.js";import{M as n,oa as K}from"./chunk-KBQXBPIW.js";import"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import"./chunk-PDSGFBX4.js";import"./chunk-2RHSM47Y.js";import"./chunk-J5P7OMUC.js";import"./chunk-OMIXKWD3.js";import"./chunk-PBODVK5S.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as H,o as p,q as l}from"./chunk-FJHLV356.js";p();l();var W=H(R());K();var b=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(u);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(h))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await y(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await b.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},C=new a;export{C as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-ZZQSTYP7.js.map
