import{a as Es}from"./chunk-NHLEEQJM.js";import{a as pe}from"./chunk-MFVLNWG5.js";import{a as Ts}from"./chunk-QZKPQ5C6.js";import"./chunk-CWRZ2WAJ.js";import"./chunk-OMIXKWD3.js";import"./chunk-PBODVK5S.js";import"./chunk-OENPHC74.js";import"./chunk-TNAXYRKK.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{c as p,o as a,p as h,q as c}from"./chunk-FJHLV356.js";var ye=p(A=>{"use strict";a();c();Object.defineProperty(A,"__esModule",{value:!0});A.accountClassHash=A.ProxyAccountClassHash=A.ETHBridge=A.ETH=A.UDC=A.TransactionHashPrefix=A.StarknetChainId=A.NetworkName=A.API_VERSION=A.MASK_251=A.MASK_250=A.ZERO=void 0;A.ZERO=0n;A.MASK_250=2n**250n-1n;A.MASK_251=2n**251n;A.API_VERSION=A.ZERO;var ws;(function(e){e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_GOERLI2="SN_GOERLI2"})(ws=A.NetworkName||(A.NetworkName={}));var xs;(function(e){e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_GOERLI2="0x534e5f474f45524c4932",e.SN_SEPOLIA="0x534e5f5345504f4c4941"})(xs=A.StarknetChainId||(A.StarknetChainId={}));var Os;(function(e){e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572"})(Os=A.TransactionHashPrefix||(A.TransactionHashPrefix={}));A.UDC={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"};A.ETH="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";A.ETHBridge="0x073314940630fd6dcda0d772d4c972c4e0a9946bef9dabf4ef84eda8ef542b82";A.ProxyAccountClassHash="0x3530cc4759d78042f1b543bf797f5f3d647cde0388c33734cf91b7f7b9314a9";A.accountClassHash="0x309c042d3729173c7f2f91a34f04d8c509c1b292d334679ef1aabf8da0899cc"});var vr=p(Je=>{"use strict";a();c();Object.defineProperty(Je,"__esModule",{value:!0});Je.SignerInterface=void 0;var jt=class{};Je.SignerInterface=jt});var ne=p(Ze=>{"use strict";a();c();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.starkCurve=void 0;var vs=pe();Ze.starkCurve=vs.signUtil.schnorr.stark});var G=p(E=>{"use strict";a();c();Object.defineProperty(E,"__esModule",{value:!0});E.utf8ToArray=E.sanitizeHex=E.sanitizeBytes=E.calcByteLength=E.padLeft=E.addHexPrefix=E.removeHexPrefix=E.buf2hex=E.btoaUniversal=E.arrayBufferToString=E.IS_BROWSER=void 0;var me=(()=>{if(typeof me<"u")return me;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof me<"u")return me;throw"Unable to locate global object"})(),Ps=me.btoa||(e=>me.Buffer.from(e,"binary").toString("base64"));E.IS_BROWSER=typeof window<"u";var qt="0";function Pr(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}E.arrayBufferToString=Pr;function Ns(e){return E.IS_BROWSER?Ps(Pr(e)):h.Buffer.from(e).toString("base64")}E.btoaUniversal=Ns;function Hs(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}E.buf2hex=Hs;function Bt(e){return e.replace(/^0x/i,"")}E.removeHexPrefix=Bt;function Nr(e){return`0x${Bt(e)}`}E.addHexPrefix=Nr;function Is(e,t,r,n=qt){let s=t-e.length,i=e;if(s>0){let o=n.repeat(s);i=r?o+e:e+o}return i}function Hr(e,t,r=qt){return Is(e,t,!0,r)}E.padLeft=Hr;function Ir(e,t=8){let r=e%t;return r?(e-r)/t*t+t:e}E.calcByteLength=Ir;function Dr(e,t=8,r=qt){return Hr(e,Ir(e.length,t),r)}E.sanitizeBytes=Dr;function Ds(e){return e=Bt(e),e=Dr(e,2),e&&(e=Nr(e)),e}E.sanitizeHex=Ds;function Ms(e){return new TextEncoder().encode(e)}E.utf8ToArray=Ms});var ze=p(Lt=>{"use strict";a();c();Object.defineProperty(Lt,"__esModule",{value:!0});function js(e,t){if(!e)throw new Error(t||"Assertion failure")}Lt.default=js});var H=p(b=>{"use strict";a();c();var qs=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});b.hexToBytes=b.toCairoBool=b.getHexStringArray=b.getHexString=b.getDecimalString=b.toHexString=b.isStringWholeNumber=b.bigNumberishArrayToHexadecimalStringArray=b.bigNumberishArrayToDecimalStringArray=b.assertInRange=b.cleanHex=b.hexToDecimalString=b.toHex=b.isBigInt=b.toBigInt=b.isHex=void 0;var Bs=pe(),Ls=Bs.signUtil.schnorr.hexToBytes,$s=qs(ze()),$t=G();function Qe(e){return/^0x[0-9a-f]*$/i.test(e)}b.isHex=Qe;function Rt(e){return BigInt(e)}b.toBigInt=Rt;function Rs(e){return typeof e=="bigint"}b.isBigInt=Rs;function Ut(e){return(0,$t.addHexPrefix)(Rt(e).toString(16))}b.toHex=Ut;function Mr(e){return BigInt((0,$t.addHexPrefix)(e)).toString(10)}b.hexToDecimalString=Mr;var Us=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");b.cleanHex=Us;function Fs(e,t,r,n=""){let s=n===""?"invalid length":`invalid ${n} length`,i=BigInt(e),o=BigInt(t),u=BigInt(r);(0,$s.default)(i>=o&&i<=u,`Message not signable, ${s}.`)}b.assertInRange=Fs;function Vs(e){return e.map(t=>Rt(t).toString(10))}b.bigNumberishArrayToDecimalStringArray=Vs;function Ks(e){return e.map(t=>Ut(t))}b.bigNumberishArrayToHexadecimalStringArray=Ks;var ks=e=>/^\d+$/.test(e);b.isStringWholeNumber=ks;var Ws=e=>Ut(e);b.toHexString=Ws;function Gs(e){if(Qe(e))return Mr(e);if((0,b.isStringWholeNumber)(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getDecimalString=Gs;function jr(e){if(Qe(e))return e;if((0,b.isStringWholeNumber)(e))return(0,b.toHexString)(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}b.getHexString=jr;function Xs(e){return e.map(t=>jr(t))}b.getHexStringArray=Xs;var Ys=e=>(+e).toString();b.toCairoBool=Ys;function Js(e){if(!Qe(e))throw new Error(`${e} need to be a hex-string`);let t=(0,$t.removeHexPrefix)(e);return t.length%2!==0&&(t=`0${t}`),Ls(t)}b.hexToBytes=Js});var Z=p(v=>{"use strict";a();c();Object.defineProperty(v,"__esModule",{value:!0});v.decodeShortString=v.encodeShortString=v.splitLongString=v.isLongText=v.isShortText=v.isText=v.isDecimalString=v.isShortString=v.isASCII=void 0;var qr=G(),Ft=H(),Br=31;function Vt(e){return/^[\x00-\x7F]*$/.test(e)}v.isASCII=Vt;function et(e){return e.length<=Br}v.isShortString=et;function Lr(e){return/^[0-9]*$/i.test(e)}v.isDecimalString=Lr;function Kt(e){return typeof e=="string"&&!(0,Ft.isHex)(e)&&!(0,Ft.isStringWholeNumber)(e)}v.isText=Kt;var Zs=e=>Kt(e)&&et(e);v.isShortText=Zs;var zs=e=>Kt(e)&&!et(e);v.isLongText=zs;function Qs(e){let t=RegExp(`[^]{1,${Br}}`,"g");return e.match(t)||[]}v.splitLongString=Qs;function ei(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if(!et(e))throw new Error(`${e} is too long`);return(0,qr.addHexPrefix)(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}v.encodeShortString=ei;function $r(e){if(!Vt(e))throw new Error(`${e} is not an ASCII string`);if((0,Ft.isHex)(e))return(0,qr.removeHexPrefix)(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Lr(e))return $r("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}v.decodeShortString=$r});var kt=p(L=>{"use strict";a();c();Object.defineProperty(L,"__esModule",{value:!0});L.bnToUint256=L.isUint256=L.UINT_256_MAX=L.UINT_128_MAX=L.uint256ToBN=void 0;var Rr=G(),tt=H();function ti(e){return((0,tt.toBigInt)(e.high)<<128n)+(0,tt.toBigInt)(e.low)}L.uint256ToBN=ti;L.UINT_128_MAX=(1n<<128n)-1n;L.UINT_256_MAX=(1n<<256n)-1n;function Ur(e){return(0,tt.toBigInt)(e)<=L.UINT_256_MAX}L.isUint256=Ur;function ri(e){let t=(0,tt.toBigInt)(e);if(!Ur(t))throw new Error("Number is too large");return{low:(0,Rr.addHexPrefix)((t&L.UINT_128_MAX).toString(16)),high:(0,Rr.addHexPrefix)((t>>128n).toString(16))}}L.bnToUint256=ri});var le=p(x=>{"use strict";a();c();Object.defineProperty(x,"__esModule",{value:!0});x.felt=x.tuple=x.uint256=x.isTypeStruct=x.isTypeNamedTuple=x.isTypeTuple=x.isTypeArray=x.isTypeFeltArray=x.isTypeFelt=x.isLen=void 0;var Wt=H(),Gt=Z(),Fr=kt(),ni=e=>/_len$/.test(e);x.isLen=ni;var si=e=>e==="felt";x.isTypeFelt=si;var ii=e=>e==="felt*";x.isTypeFeltArray=ii;var oi=e=>/\*/.test(e);x.isTypeArray=oi;var ai=e=>/^\(.*\)$/i.test(e);x.isTypeTuple=ai;var ci=e=>/\(.*\)/i.test(e)&&e.includes(":");x.isTypeNamedTuple=ci;var ui=(e,t)=>e in t;x.isTypeStruct=ui;var li=e=>{let t=BigInt(e);if(!(0,Fr.isUint256)(t))throw new Error("Number is too large");return{low:(t&Fr.UINT_128_MAX).toString(10),high:(t>>128n).toString(10)}};x.uint256=li;var di=(...e)=>({...e});x.tuple=di;function fi(e){if((0,Wt.isBigInt)(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if((0,Gt.isText)(e)){if(!(0,Gt.isShortString)(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);let t=(0,Gt.encodeShortString)(e);return BigInt(t).toString()}if(typeof e=="string"&&(0,Wt.isHex)(e))return BigInt(e).toString();if(typeof e=="string"&&(0,Wt.isStringWholeNumber)(e))return e;throw new Error(`${e} can't be computed by felt()`)}x.felt=fi});var je=p(I=>{"use strict";a();c();Object.defineProperty(I,"__esModule",{value:!0});I.extractSignificantDigits=I.toSafeNumberOrThrow=I.getUnsafeNumberReason=I.UnsafeNumberReason=I.isSafeNumber=I.isNumber=I.isInteger=void 0;function Yt(e){return gi.test(e)}I.isInteger=Yt;var gi=/^-?[0-9]+$/;function hi(e){return pi.test(e)}I.isNumber=hi;var pi=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Vr(e,t){let r=parseFloat(e),n=String(r),s=Xt(e),i=Xt(n);return!!(s===i||t?.approx===!0&&!Yt(e)&&i.length>=14&&s.startsWith(i.substring(0,14)))}I.isSafeNumber=Vr;var _e;(function(e){e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float"})(_e=I.UnsafeNumberReason||(I.UnsafeNumberReason={}));function Kr(e){if(Vr(e,{approx:!1}))return;if(Yt(e))return _e.truncate_integer;let t=parseFloat(e);return isFinite(t)?t===0?_e.underflow:_e.truncate_float:_e.overflow}I.getUnsafeNumberReason=Kr;function yi(e,t){let r=parseFloat(e),n=Kr(e);if(t?.approx===!0?n&&n!==_e.truncate_float:n){let s=n.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${r}`)}return r}I.toSafeNumberOrThrow=yi;function Xt(e){return e.replace(mi,"").replace(bi,"").replace(Ci,"").replace(_i,"")}I.extractSignificantDigits=Xt;var mi=/[eE][+-]?\d+$/,_i=/^-?(0*)?/,bi=/\./,Ci=/0+$/});var nt=p(se=>{"use strict";a();c();Object.defineProperty(se,"__esModule",{value:!0});se.toLosslessNumber=se.isLosslessNumber=se.LosslessNumber=void 0;var qe=je(),rt=class{constructor(t){if(this.isLosslessNumber=!0,!(0,qe.isNumber)(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}valueOf(){let t=(0,qe.getUnsafeNumberReason)(this.value);if(t===void 0||t===qe.UnsafeNumberReason.truncate_float)return parseFloat(this.value);if((0,qe.isInteger)(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${parseFloat(this.value)}`)}toString(){return this.value}};se.LosslessNumber=rt;function Si(e){return e&&typeof e=="object"&&e.isLosslessNumber===!0||!1}se.isLosslessNumber=Si;function Ai(e){if((0,qe.extractSignificantDigits)(e+"").length>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new rt(String(e))}se.toLosslessNumber=Ai});var Jt=p(be=>{"use strict";a();c();Object.defineProperty(be,"__esModule",{value:!0});be.parseNumberAndBigInt=be.parseLosslessNumber=void 0;var Ti=nt(),Ei=je();function wi(e){return new Ti.LosslessNumber(e)}be.parseLosslessNumber=wi;function xi(e){return(0,Ei.isInteger)(e)?BigInt(e):parseFloat(e)}be.parseNumberAndBigInt=xi});var kr=p(st=>{"use strict";a();c();Object.defineProperty(st,"__esModule",{value:!0});st.revive=void 0;var Oi=nt();function vi(e,t){return Zt({"":e},"",e,t)}st.revive=vi;function Zt(e,t,r,n){return Array.isArray(r)?n.call(e,t,Ni(r,n)):r&&typeof r=="object"&&!(0,Oi.isLosslessNumber)(r)?n.call(e,t,Pi(r,n)):n.call(e,t,r)}function Pi(e,t){return Object.keys(e).forEach(r=>{let n=Zt(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function Ni(e,t){for(let r=0;r<e.length;r++)e[r]=Zt(e,r+"",e[r],t);return e}});var Zr=p(T=>{"use strict";a();c();Object.defineProperty(T,"__esModule",{value:!0});T.codeLowercaseF=T.codeUppercaseF=T.codeLowercaseE=T.codeUppercaseE=T.codeLowercaseA=T.codeUppercaseA=T.isDeepEqual=T.isValidStringCharacter=T.parse=void 0;var Hi=Jt(),Ii=kr();function Di(e,t,r=Hi.parseLosslessNumber){let n=0,s=u();return F(s),ue(),t?(0,Ii.revive)(s,t):s;function i(){if(e.charCodeAt(n)===Li){n++,l();let m={},O=!0;for(;n<e.length&&e.charCodeAt(n)!==Gr;){O?O=!1:(w(),l());let J=n,Me=g();if(Me===void 0)throw new SyntaxError(`Quoted object key expected ${K()}`);l(),N();let Mt=u();Mt===void 0&&Cs(),Object.prototype.hasOwnProperty.call(m,Me)&&!at(Mt,m[Me])&&ps(Me,J+1),m[Me]=Mt}return e.charCodeAt(n)!==Gr&&ys(),n++,m}}function o(){if(e.charCodeAt(n)===$i){n++,l();let m=[],O=!0;for(;n<e.length&&e.charCodeAt(n)!==Xr;){O?O=!1:w();let J=u();V(J),m.push(J)}return e.charCodeAt(n)!==Xr&&ms(),n++,m}}function u(){l();let m=g()??_()??i()??o()??f("true",!0)??f("false",!1)??f("null",null);return l(),m}function f(m,O){if(e.slice(n,n+m.length)===m)return n+=m.length,O}function l(){for(;Mi(e.charCodeAt(n));)n++}function g(){if(e.charCodeAt(n)===zt){n++;let m="";for(;n<e.length&&e.charCodeAt(n)!==zt;){if(e.charCodeAt(n)===Bi){let O=e[n+1],J=qi[O];J!==void 0?(m+=J,n++):O==="u"?it(e.charCodeAt(n+2))&&it(e.charCodeAt(n+3))&&it(e.charCodeAt(n+4))&&it(e.charCodeAt(n+5))?(m+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):Ss(n):bs(n)}else Jr(e.charCodeAt(n))?m+=e[n]:_s(e[n]);n++}return Ye(),n++,m}}function _(){let m=n;if(e.charCodeAt(n)===Yr&&(n++,he(m)),e.charCodeAt(n)===Qt)n++;else if(ji(e.charCodeAt(n)))for(n++;ot(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Gi)for(n++,he(m);ot(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===T.codeLowercaseE||e.charCodeAt(n)===T.codeUppercaseE)for(n++,(e.charCodeAt(n)===Yr||e.charCodeAt(n)===Ki)&&n++,he(m);ot(e.charCodeAt(n));)n++;if(n>m)return r(e.slice(m,n))}function w(){if(e.charCodeAt(n)!==Wi)throw new SyntaxError(`Comma ',' expected after value ${K()}`);n++}function N(){if(e.charCodeAt(n)!==Xi)throw new SyntaxError(`Colon ':' expected after property name ${K()}`);n++}function F(m){if(m===void 0)throw new SyntaxError(`JSON value expected ${K()}`)}function V(m){if(m===void 0)throw new SyntaxError(`Array item expected ${K()}`)}function ue(){if(n<e.length)throw new SyntaxError(`Expected end of input ${K()}`)}function he(m){if(!ot(e.charCodeAt(n))){let O=e.slice(m,n);throw new SyntaxError(`Invalid number '${O}', expecting a digit ${K()}`)}}function Ye(){if(e.charCodeAt(n)!==zt)throw new SyntaxError(`End of string '"' expected ${K()}`)}function dc(){throw new SyntaxError(`Quoted object key expected ${K()}`)}function ps(m,O){throw new SyntaxError(`Duplicate key '${m}' encountered at position ${O}`)}function ys(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${K()}`)}function ms(){throw new SyntaxError(`Array item or end of array ']' expected ${K()}`)}function _s(m){throw new SyntaxError(`Invalid character '${m}' ${De()}`)}function bs(m){let O=e.slice(m,m+2);throw new SyntaxError(`Invalid escape character '${O}' ${De()}`)}function Cs(){throw new SyntaxError(`Object value expected after ':' ${De()}`)}function Ss(m){let O=m+2;for(;/\w/.test(e[O]);)O++;let J=e.slice(m,O);throw new SyntaxError(`Invalid unicode character '${J}' ${De()}`)}function De(){return`at position ${n}`}function As(){return n<e.length?`but got '${e[n]}'`:"but reached end of input"}function K(){return As()+" "+De()}}T.parse=Di;function Mi(e){return e===Ri||e===Ui||e===Fi||e===Vi}function it(e){return e>=Qt&&e<=er||e>=T.codeUppercaseA&&e<=T.codeUppercaseF||e>=T.codeLowercaseA&&e<=T.codeLowercaseF}function ot(e){return e>=Qt&&e<=er}function ji(e){return e>=ki&&e<=er}function Jr(e){return e>=32&&e<=1114111}T.isValidStringCharacter=Jr;function at(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((r,n)=>at(r,t[n])):Wr(e)&&Wr(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(n=>at(e[n],t[n])):!1}T.isDeepEqual=at;function Wr(e){return typeof e=="object"&&e!==null}var qi={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Bi=92,Li=123,Gr=125,$i=91,Xr=93,Ri=32,Ui=10,Fi=9,Vi=13,zt=34,Ki=43,Yr=45,Qt=48,ki=49,er=57,Wi=44,Gi=46,Xi=58;T.codeUppercaseA=65;T.codeLowercaseA=97;T.codeUppercaseE=69;T.codeLowercaseE=101;T.codeUppercaseF=70;T.codeLowercaseF=102});var Qr=p(ct=>{"use strict";a();c();Object.defineProperty(ct,"__esModule",{value:!0});ct.stringify=void 0;var Yi=je();function zr(e,t,r,n){let s=Ji(r),i=typeof t=="function"?t.call({"":e},"",e):e;return o(i,"");function o(g,_){if(Array.isArray(n)){let w=n.find(N=>N.test(g));if(w){let N=w.stringify(g);if(typeof N!="string"||!(0,Yi.isNumber)(N))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${N})`);return N}}if(typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g===null||g instanceof Date||g instanceof Boolean||g instanceof Number||g instanceof String)return JSON.stringify(g);if(g&&g.isLosslessNumber||typeof g=="bigint")return g.toString();if(Array.isArray(g))return u(g,_);if(g&&typeof g=="object")return f(g,_)}function u(g,_){if(g.length===0)return"[]";let w=s?_+s:void 0,N=s?`[
`:"[";for(let F=0;F<g.length;F++){let V=typeof t=="function"?t.call(g,String(F),g[F]):g[F];s&&(N+=w),typeof V<"u"&&typeof V!="function"?N+=o(V,w):N+="null",F<g.length-1&&(N+=s?`,
`:",")}return N+=s?`
`+_+"]":"]",N}function f(g,_){if(typeof g.toJSON=="function")return zr(g.toJSON(),t,r,void 0);let w=Array.isArray(t)?t.map(String):Object.keys(g);if(w.length===0)return"{}";let N=s?_+s:void 0,F=!0,V=s?`{
`:"{";return w.forEach(ue=>{let he=typeof t=="function"?t.call(g,ue,g[ue]):g[ue];if(l(ue,he)){F?F=!1:V+=s?`,
`:",";let Ye=JSON.stringify(ue);V+=s?N+Ye+": ":Ye+":",V+=o(he,N)}}),V+=s?`
`+_+"}":"}",V}function l(g,_){return typeof _<"u"&&typeof _!="function"&&typeof _!="symbol"}}ct.stringify=zr;function Ji(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}});var tn=p(en=>{"use strict";a();c();Object.defineProperty(en,"__esModule",{value:!0})});var nn=p(S=>{"use strict";a();c();var Zi=S&&S.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zi=S&&S.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Zi(t,e,r)};Object.defineProperty(S,"__esModule",{value:!0});S.getUnsafeNumberReason=S.toSafeNumberOrThrow=S.isSafeNumber=S.isNumber=S.isInteger=S.UnsafeNumberReason=S.parseNumberAndBigInt=S.parseLosslessNumber=S.toLosslessNumber=S.isLosslessNumber=S.LosslessNumber=S.stringify=S.parse=void 0;var Qi=Zr();Object.defineProperty(S,"parse",{enumerable:!0,get:function(){return Qi.parse}});var eo=Qr();Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return eo.stringify}});var tr=nt();Object.defineProperty(S,"LosslessNumber",{enumerable:!0,get:function(){return tr.LosslessNumber}});Object.defineProperty(S,"isLosslessNumber",{enumerable:!0,get:function(){return tr.isLosslessNumber}});Object.defineProperty(S,"toLosslessNumber",{enumerable:!0,get:function(){return tr.toLosslessNumber}});var rn=Jt();Object.defineProperty(S,"parseLosslessNumber",{enumerable:!0,get:function(){return rn.parseLosslessNumber}});Object.defineProperty(S,"parseNumberAndBigInt",{enumerable:!0,get:function(){return rn.parseNumberAndBigInt}});var Ce=je();Object.defineProperty(S,"UnsafeNumberReason",{enumerable:!0,get:function(){return Ce.UnsafeNumberReason}});Object.defineProperty(S,"isInteger",{enumerable:!0,get:function(){return Ce.isInteger}});Object.defineProperty(S,"isNumber",{enumerable:!0,get:function(){return Ce.isNumber}});Object.defineProperty(S,"isSafeNumber",{enumerable:!0,get:function(){return Ce.isSafeNumber}});Object.defineProperty(S,"toSafeNumberOrThrow",{enumerable:!0,get:function(){return Ce.toSafeNumberOrThrow}});Object.defineProperty(S,"getUnsafeNumberReason",{enumerable:!0,get:function(){return Ce.getUnsafeNumberReason}});zi(tn(),S)});var ut=p(D=>{"use strict";a();c();var to=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ro=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),no=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&to(t,e,r);return ro(t,e),t};Object.defineProperty(D,"__esModule",{value:!0});D.stringifyAlwaysAsBig=D.stringify=D.parseAlwaysAsBig=D.parse=void 0;var Be=no(nn()),so=e=>{if(!Be.isInteger(e))return parseFloat(e);let t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},io=e=>Be.parse(String(e),void 0,so);D.parse=io;var oo=e=>Be.parse(String(e),void 0,Be.parseNumberAndBigInt);D.parseAlwaysAsBig=oo;var ao=(...e)=>Be.stringify(...e);D.stringify=ao;D.stringifyAlwaysAsBig=D.stringify});var X=p(y=>{"use strict";a();c();Object.defineProperty(y,"__esModule",{value:!0});y.computeContractClassHash=y.computeSierraContractClassHash=y.computeCompiledClassHash=y.computeLegacyContractClassHash=y.formatSpaces=y.calculateContractAddressFromHash=y.calculateTransactionHash=y.calculateDeployAccountTransactionHash=y.calculateDeclareTransactionHash=y.calculateDeployTransactionHash=y.calculateTransactionHashCommon=y.computeHashOnElements=y.getSelector=y.getSelectorFromName=y.starknetKeccak=y.keccakBn=y.feeTransactionVersion=y.transactionVersion_2=y.transactionVersion=void 0;var co=pe(),Q=co.signUtil.schnorr.stark,Se=ye(),uo=le(),sr=ne(),z=G(),W=H(),lt=Z(),dt=ut();y.transactionVersion=1n;y.transactionVersion_2=2n;y.feeTransactionVersion=2n**128n+y.transactionVersion;function lo(e){let t=(0,z.removeHexPrefix)((0,W.toHex)(BigInt(e))),r=t.length%2===0?t:`0${t}`;return(0,z.addHexPrefix)(Q.keccak((0,W.hexToBytes)((0,z.addHexPrefix)(r))).toString(16))}y.keccakBn=lo;function fo(e){return(0,z.addHexPrefix)(Q.keccak((0,z.utf8ToArray)(e)).toString(16))}function sn(e){return BigInt(fo(e))&Se.MASK_250}y.starknetKeccak=sn;function ir(e){return(0,W.toHex)(sn(e))}y.getSelectorFromName=ir;function go(e){return(0,W.isHex)(e)?e:(0,W.isStringWholeNumber)(e)?(0,W.toHexString)(e):ir(e)}y.getSelector=go;function k(e){return[...e,e.length].reduce((t,r)=>sr.starkCurve.pedersen((0,W.toBigInt)(t),(0,W.toBigInt)(r)),0).toString()}y.computeHashOnElements=k;function Le(e,t,r,n,s,i,o,u=[]){let f=k(s),l=[e,t,r,n,f,i,o,...u];return k(l)}y.calculateTransactionHashCommon=Le;function ho(e,t,r,n){return Le(Se.TransactionHashPrefix.DEPLOY,r,e,ir("constructor"),t,0,n)}y.calculateDeployTransactionHash=ho;function po(e,t,r,n,s,i,o){return Le(Se.TransactionHashPrefix.DECLARE,r,t,0,[e],n,s,[i,...o?[o]:[]])}y.calculateDeclareTransactionHash=po;function yo(e,t,r,n,s,i,o,u){let f=[t,n,...r];return Le(Se.TransactionHashPrefix.DEPLOY_ACCOUNT,s,e,0,f,i,o,[u])}y.calculateDeployAccountTransactionHash=yo;function mo(e,t,r,n,s,i){return Le(Se.TransactionHashPrefix.INVOKE,t,e,0,r,n,s,[i])}y.calculateTransactionHash=mo;function _o(e,t,r,n){let s=k(r),i=(0,uo.felt)("0x535441524b4e45545f434f4e54524143545f41444452455353");return k([i,n,e,t,s])}y.calculateContractAddressFromHash=_o;function bo(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function or(e){let t=!1,r="";for(let n of e)n==='"'&&r.endsWith("\\")===!1&&(t=!t),t?r+=n:r+=n===":"?": ":n===","?", ":n;return r}y.formatSpaces=or;function on(e){let{abi:t,program:r}=e,n={abi:t,program:r},s=or((0,dt.stringify)(n,bo));return(0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(s)).toString(16))}y.default=on;function an(e){let t=typeof e=="string"?(0,dt.parse)(e):e,r=(0,W.toHex)(Se.API_VERSION),n=k(t.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),s=k(t.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),i=k(t.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=k(t.program.builtins.map(l=>(0,lt.encodeShortString)(l))),u=on(t),f=k(t.program.data);return k([r,n,s,i,o,u,f])}y.computeLegacyContractClassHash=an;function Co(e){return Q.poseidonHashMany(e.flatMap(t=>BigInt((0,lt.encodeShortString)(t))))}function rr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),Co(r.builtins)]);return Q.poseidonHashMany(t)}function So(e){let t="COMPILED_CLASS_V1",r=BigInt((0,lt.encodeShortString)(t)),n=rr(e.entry_points_by_type.EXTERNAL),s=rr(e.entry_points_by_type.L1_HANDLER),i=rr(e.entry_points_by_type.CONSTRUCTOR),o=Q.poseidonHashMany(e.bytecode.map(u=>BigInt(u)));return(0,W.toHex)(Q.poseidonHashMany([r,n,s,i,o]))}y.computeCompiledClassHash=So;function nr(e){let t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return Q.poseidonHashMany(t)}function Ao(e){let t=or((0,dt.stringify)(e.abi,void 0));return BigInt((0,z.addHexPrefix)(sr.starkCurve.keccak((0,z.utf8ToArray)(t)).toString(16)))}function cn(e){let t="CONTRACT_CLASS_V0.1.0",r=BigInt((0,lt.encodeShortString)(t)),n=nr(e.entry_points_by_type.EXTERNAL),s=nr(e.entry_points_by_type.L1_HANDLER),i=nr(e.entry_points_by_type.CONSTRUCTOR),o=Ao(e),u=Q.poseidonHashMany(e.sierra_program.map(f=>BigInt(f)));return(0,W.toHex)(Q.poseidonHashMany([r,n,s,i,o,u]))}y.computeSierraContractClassHash=cn;function To(e){let t=typeof e=="string"?(0,dt.parse)(e):e;return"sierra_program"in t?cn(t):an(t)}y.computeContractClassHash=To});var un=p(cr=>{"use strict";a();c();Object.defineProperty(cr,"__esModule",{value:!0});var Eo=H(),wo=Z(),ar={isBN:(e,t,r)=>{if(!(0,Eo.isBigInt)(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function ft(e,t,r){return Object.entries(e).reduce((n,[s,i])=>{let o=r??t[s];if(!(s in t)&&!r)return n[s]=i,n;if(o==="string"){if(Array.isArray(e[s])){let u=ft(e[s],e[s].map(f=>o));return n[s]=Object.values(u).join(""),n}return ar.isBN(e,t,s),n[s]=(0,wo.decodeShortString)(i),n}if(o==="number")return ar.isBN(e,t,s),n[s]=Number(i),n;if(typeof o=="function")return n[s]=o(i),n;if(Array.isArray(o)){let u=ft(e[s],o,o[0]);return n[s]=Object.values(u),n}return typeof o=="object"?(n[s]=ft(e[s],o),n):(ar.unknown(e,t,s),n)},{})}cr.default=ft});var lr=p(ur=>{"use strict";a();c();Object.defineProperty(ur,"__esModule",{value:!0});var xo=le();function Oo(e){let t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function vo(e){if(!e.includes("("))return{subTuple:[],result:e};let t=[],r="",n=0;for(;n<e.length;){if(e[n]==="("){let s=1,i=n;for(n++;s;)e[n]===")"&&s--,e[n]==="("&&s++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function Po(e){let t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=vo(t),s=n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i);return(0,xo.isTypeNamedTuple)(e)&&(s=s.reduce((i,o)=>i.concat(Oo(o)),[])),s}ur.default=Po});var dn=p(Ae=>{"use strict";a();c();var No=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.parseCalldataField=void 0;var ln=Z(),ee=le(),Ho=No(lr());function Io(e,t){let r=(0,Ho.default)(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((s,i)=>({element:n[i],type:s.type??s}))}function gt(e,t,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e))throw Error(`Array inside array (nD) are not supported by cairo. Element: ${e} ${t}`);if(r[t]&&r[t].members.length){let{members:n}=r[t],s=e;return n.reduce((i,o)=>i.concat(gt(s[o.name],o.type,r)),[])}if((0,ee.isTypeTuple)(t))return Io(e,t).reduce((s,i)=>{let o=gt(i.element,i.type,r);return s.concat(o)},[]);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return(0,ee.felt)(e)}function Do(e,t,r){let{name:n,type:s}=t,{value:i}=e.next();switch(!0){case(0,ee.isTypeArray)(s):if(!Array.isArray(i)&&!(0,ln.isText)(i))throw Error(`ABI expected parameter ${n} to be array or long string, got ${i}`);typeof i=="string"&&(i=(0,ln.splitLongString)(i));let o=[];return o.push((0,ee.felt)(i.length)),i.reduce((u,f)=>((0,ee.isTypeFeltArray)(s)?u.push((0,ee.felt)(f)):u.push(...gt(f,s.replace("*",""),r)),u),o);case((0,ee.isTypeStruct)(s,r)||(0,ee.isTypeTuple)(s)):return gt(i,s,r);default:return(0,ee.felt)(i)}}Ae.parseCalldataField=Do});var fn=p($e=>{"use strict";a();c();var Mo=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});var ht=le(),jo=Mo(lr());function pt(e,t,r){if(t in r&&r[t])return r[t].members.reduce((s,i)=>(s[i.name]=pt(e,i.type,r),s),{});if((0,ht.isTypeTuple)(t))return(0,jo.default)(t).reduce((i,o,u)=>{let f=o?.name?o.name:u,l=o?.type?o.type:o;return i[f]=pt(e,l,r),i},{});let n=e.next().value;return BigInt(n)}function qo(e,t,r,n){let{name:s,type:i}=t,o;switch(!0){case(0,ht.isLen)(s):return o=e.next().value,BigInt(o);case(0,ht.isTypeArray)(i):let u=[];if(n&&n[`${s}_len`]){let f=n[`${s}_len`];for(;u.length<f;)u.push(pt(e,t.type.replace("*",""),r))}return u;case(i in r||(0,ht.isTypeTuple)(i)):return pt(e,i,r);default:return o=e.next().value,BigInt(o)}}$e.default=qo});var yn=p(Ue=>{"use strict";a();c();var Bo=Ue&&Ue.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ue,"__esModule",{value:!0});var Re=Bo(ze()),Lo=Z(),te=le(),gn=(e,t)=>{(0,Re.default)(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt (string, number, BigNumber)`)},hn=(e,t,r)=>{(0,Re.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{(0,Re.default)(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},pn=(e,t)=>{(0,Re.default)(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},$o=(e,t,r)=>{let n=t.type.replace("*","");if(!((0,te.isTypeFelt)(n)&&(0,Lo.isLongText)(e)))switch((0,Re.default)(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case(0,te.isTypeFelt)(n):e.forEach(s=>gn(s,t));break;case(0,te.isTypeTuple)(n):e.forEach(s=>pn(s,{name:t.name,type:n}));break;case(0,te.isTypeStruct)(n,r):e.forEach(s=>hn(s,{name:t.name,type:n},r));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function Ro(e,t,r){e.inputs.reduce((n,s)=>{let i=t[n];switch(!0){case(0,te.isLen)(s.name):return n;case(0,te.isTypeFelt)(s.type):gn(i,s);break;case(0,te.isTypeStruct)(s.type,r):hn(i,s,r);break;case(0,te.isTypeTuple)(s.type):pn(i,s);break;case(0,te.isTypeArray)(s.type):$o(i,s,r);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${i}`)}return n+1},0)}Ue.default=Ro});var we=p(Ee=>{"use strict";a();c();var mt=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.CallData=void 0;var Uo=mt(ze()),Fo=H(),mn=Z(),yt=le(),Vo=mt(un()),Ko=dn(),ko=mt(fn()),Wo=mt(yn()),Te=class{constructor(t){this.abi=t,this.structs=Te.getAbiStruct(t)}validate(t,r,n=[]){if(t!=="DEPLOY"){let o=this.abi.filter(u=>{if(u.type!=="function")return!1;let f=u.stateMutability==="view"||u.state_mutability==="view";return t==="INVOKE"?!f:f}).map(u=>u.name);(0,Uo.default)(o.includes(r),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}let s=this.abi.find(o=>t==="DEPLOY"?o.name===r&&o.type===r:o.name===r&&o.type==="function"),i=Te.abiInputsLength(s.inputs);if(n.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${n.length}`);(0,Wo.default)(s,n,this.structs)}compile(t,r){let n=t[Symbol.iterator]();return r.reduce((s,i)=>(0,yt.isLen)(i.name)?s:s.concat((0,Ko.parseCalldataField)(n,i,this.structs)),[])}static compile(t){let r=s=>{let i=(o,u="")=>{let f=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(f).flatMap(([l,g])=>{let _=g;(0,mn.isLongText)(_)&&(_=(0,mn.splitLongString)(_));let w=Array.isArray(f)&&l==="0"?"$$len":l;return(0,Fo.isBigInt)(_)?[[`${u}${w}`,(0,yt.felt)(_)]]:Object(_)===_?i(_,`${u}${w}.`):[[`${u}${w}`,(0,yt.felt)(_)]]})};return Object.fromEntries(i(s))},n;if(Array.isArray(t))n=t;else{let s=r(t);n=Object.values(s)}return Object.defineProperty(n,"compiled",{enumerable:!1,writable:!1,value:!0}),n}parse(t,r){let{outputs:n}=this.abi.find(i=>i.name===t),s=r.flat()[Symbol.iterator]();return n.flat().reduce((i,o)=>(i[o.name]=(0,ko.default)(s,o,this.structs,i),i[o.name]&&i[`${o.name}_len`]&&delete i[`${o.name}_len`],i),{})}format(t,r,n){let s=this.parse(t,r);return(0,Vo.default)(s,n)}static abiInputsLength(t){return t.reduce((r,n)=>(0,yt.isLen)(n.name)?r:r+1,0)}static getAbiStruct(t){return t.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}};Ee.CallData=Te});var bt=p(P=>{"use strict";a();c();Object.defineProperty(P,"__esModule",{value:!0});P.getExecuteCalldata=P.fromCallsToExecuteCalldata_cairo1=P.transformCallsToMulticallArrays_cairo1=P.fromCallsToExecuteCalldataWithNonce=P.fromCallsToExecuteCalldata=P.transformCallsToMulticallArrays=void 0;var _n=X(),xe=H(),_t=we(),Go=e=>{let t=[],r=[];return e.forEach(n=>{let s=_t.CallData.compile(n.calldata||[]);t.push({to:(0,xe.toBigInt)(n.contractAddress).toString(10),selector:n.entrypoint.startsWith("0x")?(0,xe.toBigInt)(n.entrypoint):(0,xe.toBigInt)((0,_n.getSelectorFromName)(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:s.length.toString()}),r.push(...s)}),{callArray:t,calldata:_t.CallData.compile({calldata:r})}};P.transformCallsToMulticallArrays=Go;var Xo=e=>{let{callArray:t,calldata:r}=(0,P.transformCallsToMulticallArrays)(e);return[..._t.CallData.compile({callArray:t}),...r]};P.fromCallsToExecuteCalldata=Xo;var Yo=(e,t)=>[...(0,P.fromCallsToExecuteCalldata)(e),(0,xe.toBigInt)(t).toString()];P.fromCallsToExecuteCalldataWithNonce=Yo;var Jo=e=>e.map(r=>({to:(0,xe.toBigInt)(r.contractAddress).toString(10),selector:(0,xe.toBigInt)((0,_n.getSelectorFromName)(r.entrypoint)).toString(10),calldata:_t.CallData.compile(r.calldata||[])}));P.transformCallsToMulticallArrays_cairo1=Jo;var Zo=e=>{let t=(0,P.transformCallsToMulticallArrays_cairo1)(e);return[t.length.toString(),...t.map(({to:r,selector:n,calldata:s})=>[r,n,s.length.toString(),...s]).flat()]};P.fromCallsToExecuteCalldata_cairo1=Zo;var zo=(e,t="0")=>t==="1"?(0,P.fromCallsToExecuteCalldata_cairo1)(e):(0,P.fromCallsToExecuteCalldata)(e);P.getExecuteCalldata=zo});var dr=p(Oe=>{"use strict";a();c();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.proofMerklePath=Oe.MerkleTree=void 0;var Qo=ne(),bn=H(),ie=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);let r=[];for(let n=0;n<t.length;n+=2)n+1===t.length?r.push(ie.hash(t[n],"0x0")):r.push(ie.hash(t[n],t[n+1]));return this.build(r)}static hash(t,r){let[n,s]=[(0,bn.toBigInt)(t),(0,bn.toBigInt)(r)].sort((i,o)=>i>=o?1:-1);return Qo.starkCurve.pedersen(n,s)}getProof(t,r=this.leaves,n=[]){let s=r.indexOf(t);if(s===-1)throw new Error("leaf not found");if(r.length===1)return n;let i=s%2===0,o=(i?r[s+1]:r[s-1])??"0x0",u=[...n,o],f=this.leaves.length===r.length?-1:this.branches.findIndex(g=>g.length===r.length),l=this.branches[f+1]??[this.root];return this.getProof(ie.hash(i?t:o,i?o:t),l,u)}};Oe.MerkleTree=ie;function Cn(e,t,r){if(r.length===0)return e===t;let[n,...s]=r;return Cn(e,ie.hash(t,n),s)}Oe.proofMerklePath=Cn});var Sn=p(Ct=>{"use strict";a();c();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateTypedData=void 0;var ea=e=>{let t=e;return Boolean(t.types&&t.primaryType&&t.message)};Ct.validateTypedData=ea});var Tn=p(An=>{"use strict";a();c();Object.defineProperty(An,"__esModule",{value:!0})});var St=p(C=>{"use strict";a();c();var ta=C&&C.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ra=C&&C.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ta(t,e,r)};Object.defineProperty(C,"__esModule",{value:!0});C.getMessageHash=C.getStructHash=C.encodeData=C.encodeValue=C.getTypeHash=C.encodeType=C.getDependencies=C.isMerkleTreeType=C.prepareSelector=void 0;var ve=X(),na=dr(),fr=H(),En=Z(),sa=Sn();ra(Tn(),C);function ia(e){try{return(0,fr.toHex)(e)}catch{if(typeof e=="string")return(0,fr.toHex)((0,En.encodeShortString)(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function wn(e){return(0,fr.isHex)(e)?e:(0,ve.getSelectorFromName)(e)}C.prepareSelector=wn;function xn(e){return e.type==="merkletree"}C.isMerkleTreeType=xn;var oa=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,s)=>[...n,...(0,C.getDependencies)(e,s.type,n).filter(i=>!n.includes(i))],[])]);C.getDependencies=oa;function aa(e,t){if(t.parent&&t.key){let n=e[t.parent].find(i=>i.name===t.key);if(!xn(n))throw new Error(`${t.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return n.contains}return"raw"}var ca=(e,t)=>{let[r,...n]=(0,C.getDependencies)(e,t);return(r?[r,...n.sort()]:[]).map(i=>`${i}(${e[i].map(o=>`${o.name}:${o.type}`)})`).join("")};C.encodeType=ca;var ua=(e,t)=>(0,ve.getSelectorFromName)((0,C.encodeType)(e,t));C.getTypeHash=ua;var la=(e,t,r,n={})=>{if(e[t])return[t,(0,C.getStructHash)(e,t,r)];if(Object.keys(e).map(s=>`${s}*`).includes(t)){let s=r.map(i=>(0,C.getStructHash)(e,t.slice(0,-1),i));return[t,(0,ve.computeHashOnElements)(s)]}if(t==="merkletree"){let s=aa(e,n),i=r.map(u=>(0,C.encodeValue)(e,s,u)[1]),{root:o}=new na.MerkleTree(i);return["felt",o]}return t==="felt*"?["felt*",(0,ve.computeHashOnElements)(r)]:t==="selector"?["felt",wn(r)]:[t,ia(r)]};C.encodeValue=la;var da=(e,t,r)=>{let[n,s]=e[t].reduce(([i,o],u)=>{if(r[u.name]===void 0||r[u.name]===null)throw new Error(`Cannot encode data: missing data for '${u.name}'`);let f=r[u.name],[l,g]=(0,C.encodeValue)(e,u.type,f,{parent:t,key:u.name});return[[...i,l],[...o,g]]},[["felt"],[(0,C.getTypeHash)(e,t)]]);return[n,s]};C.encodeData=da;var fa=(e,t,r)=>(0,ve.computeHashOnElements)((0,C.encodeData)(e,t,r)[1]);C.getStructHash=fa;var ga=(e,t)=>{if(!(0,sa.validateTypedData)(e))throw new Error("Typed data does not match JSON schema");let r=[(0,En.encodeShortString)("StarkNet Message"),(0,C.getStructHash)(e.types,"StarkNetDomain",e.domain),t,(0,C.getStructHash)(e.types,e.primaryType,e.message)];return(0,ve.computeHashOnElements)(r)};C.getMessageHash=ga});var On=p(At=>{"use strict";a();c();Object.defineProperty(At,"__esModule",{value:!0});At.Signer=void 0;var Pe=ne(),ha=G(),gr=X(),pa=H(),ya=bt(),ma=St(),_a=we(),hr=class{constructor(t=Pe.starkCurve.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?(0,ha.buf2hex)(t):(0,pa.toHex)(t)}async getPubKey(){return Pe.starkCurve.getStarkKey(this.pk)}async signMessage(t,r){let n=(0,ma.getMessageHash)(t,r);return Pe.starkCurve.sign(n,this.pk)}async signTransaction(t,r,n){if(n&&n.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");let s=(0,ya.getExecuteCalldata)(t,r.cairoVersion),i=(0,gr.calculateTransactionHash)(r.walletAddress,r.version,s,r.maxFee,r.chainId,r.nonce);return{signature:Pe.starkCurve.sign(i,this.pk),hash:i}}async signDeployAccountTransaction({classHash:t,contractAddress:r,constructorCalldata:n,addressSalt:s,maxFee:i,version:o,chainId:u,nonce:f}){let l=(0,gr.calculateDeployAccountTransactionHash)(r,t,_a.CallData.compile(n),s,o,i,u,f);return{signature:Pe.starkCurve.sign(l,this.pk),hash:l}}async signDeclareTransaction({classHash:t,senderAddress:r,chainId:n,maxFee:s,version:i,nonce:o,compiledClassHash:u}){let f=(0,gr.calculateDeclareTransactionHash)(t,r,i,s,n,o,u);return Pe.starkCurve.sign(f,this.pk)}};At.Signer=hr});var pr=p(oe=>{"use strict";a();c();var ba=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vn=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ba(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});vn(vr(),oe);vn(On(),oe)});var Hn=p(Nn=>{"use strict";a();c();Object.defineProperty(Nn,"__esModule",{value:!0});var Pn;(function(e){e[e.function=0]="function",e[e.l1_handler=1]="l1_handler",e[e.constructor=2]="constructor"})(Pn||(Pn={}))});var Dn=p(In=>{"use strict";a();c();Object.defineProperty(In,"__esModule",{value:!0})});var jn=p(Mn=>{"use strict";a();c();Object.defineProperty(Mn,"__esModule",{value:!0})});var qn=p(U=>{"use strict";a();c();var Ca=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yr=U&&U.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ca(t,e,r)};Object.defineProperty(U,"__esModule",{value:!0});U.EntryPointType=void 0;var Sa;(function(e){e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR"})(Sa=U.EntryPointType||(U.EntryPointType={}));yr(Hn(),U);yr(Dn(),U);yr(jn(),U)});var Bn=p($=>{"use strict";a();c();var Aa=$&&$.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ta=$&&$.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Aa(t,e,r)};Object.defineProperty($,"__esModule",{value:!0});$.TransactionType=$.TransactionStatus=void 0;var Ea;(function(e){e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.PENDING="PENDING",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED"})(Ea=$.TransactionStatus||($.TransactionStatus={}));var wa;(function(e){e.INVOKE="INVOKE_FUNCTION",e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT"})(wa=$.TransactionType||($.TransactionType={}));Ta(qn(),$)});var $n=p(Ln=>{"use strict";a();c();Object.defineProperty(Ln,"__esModule",{value:!0})});var Un=p(Rn=>{"use strict";a();c();Object.defineProperty(Rn,"__esModule",{value:!0})});var Vn=p(Fn=>{"use strict";a();c();Object.defineProperty(Fn,"__esModule",{value:!0})});var kn=p(Kn=>{"use strict";a();c();Object.defineProperty(Kn,"__esModule",{value:!0})});var Gn=p(Wn=>{"use strict";a();c();Object.defineProperty(Wn,"__esModule",{value:!0})});var Xn=p(Fe=>{"use strict";a();c();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.RPC=void 0;var xa;(function(e){let t;(function(r){r.DECLARE="DECLARE",r.DEPLOY="DEPLOY",r.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",r.INVOKE="INVOKE",r.L1_HANDLER="L1_HANDLER"})(t=e.TransactionType||(e.TransactionType={}))})(xa=Fe.RPC||(Fe.RPC={}))});var mr=p(R=>{"use strict";a();c();var Oa=R&&R.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),de=R&&R.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Oa(t,e,r)};Object.defineProperty(R,"__esModule",{value:!0});de(Bn(),R);de($n(),R);de(Un(),R);de(Vn(),R);de(kn(),R);de(Gn(),R);de(Xn(),R)});var _r=p(Ne=>{"use strict";a();c();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.extractContractHashes=Ne.isSierra=void 0;var Yn=X(),va=Ve();function Jn(e){let t=typeof e=="string"?va.json.parse(e):e;return"sierra_program"in t}Ne.isSierra=Jn;function Pa(e){let t={...e};if(Jn(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=(0,Yn.computeCompiledClassHash)(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??(0,Yn.computeContractClassHash)(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}Ne.extractContractHashes=Pa});var Tt=p(M=>{"use strict";a();c();Object.defineProperty(M,"__esModule",{value:!0});M.estimatedFeeToMaxFee=M.signatureToHexArray=M.signatureToDecimalArray=M.formatSignature=M.makeAddress=M.randomAddress=M.compressProgram=void 0;var Zn=pe(),Na=Ts(),Ha=Ve(),zn=G(),fe=H();function Ia(e){let t=typeof e=="string"?e:Ha.json.stringify(e),r=(0,Na.gzip)(t);return(0,zn.btoaUniversal)(r)}M.compressProgram=Ia;function Da(){let e=Zn.signUtil.schnorr.stark.utils.randomPrivateKey();return Zn.signUtil.schnorr.stark.getStarkKey(e)}M.randomAddress=Da;function Ma(e){return(0,zn.addHexPrefix)(e).toLowerCase()}M.makeAddress=Ma;function br(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>(0,fe.toHex)(t));try{let{r:t,s:r}=e;return[(0,fe.toHex)(t),(0,fe.toHex)(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}M.formatSignature=br;function ja(e){return(0,fe.bigNumberishArrayToDecimalStringArray)(br(e))}M.signatureToDecimalArray=ja;function qa(e){return(0,fe.bigNumberishArrayToHexadecimalStringArray)(br(e))}M.signatureToHexArray=qa;function Ba(e,t=.5){let r=Math.round((1+t)*100);return(0,fe.toBigInt)(e)*(0,fe.toBigInt)(r)/100n}M.estimatedFeeToMaxFee=Ba});var ns=p(Y=>{"use strict";a();c();Object.defineProperty(Y,"__esModule",{value:!0});Y.parseContract=Y.createSierraContractClass=Y.parseCalldata=Y.wait=void 0;var La=_r(),Qn=X(),es=H(),ts=Tt(),Cr=Ve();function $a(e){return new Promise(t=>{setTimeout(t,e)})}Y.wait=$a;function Ra(e=[]){return e.map(t=>typeof t=="string"&&(0,es.isHex)(t)?t:(0,es.toHex)(t))}Y.parseCalldata=Ra;function rs(e){let t={...e};return delete t.sierra_program_debug_info,t.abi=(0,Qn.formatSpaces)(Cr.json.stringify(e.abi)),t.sierra_program=(0,Qn.formatSpaces)(Cr.json.stringify(e.sierra_program)),t.sierra_program=(0,ts.compressProgram)(t.sierra_program),t}Y.createSierraContractClass=rs;function Ua(e){let t=typeof e=="string"?Cr.json.parse(e):e;return(0,La.isSierra)(e)?rs(t):{...t,..."program"in t&&{program:(0,ts.compressProgram)(t.program)}}}Y.parseContract=Ua});var ss=p(vt=>{"use strict";a();c();Object.defineProperty(vt,"__esModule",{value:!0});vt.Account=void 0;var Et=ye(),Fa=pr(),wt=mr(),xt=_r(),Va=ne(),He=X(),B=H(),Ka=ns(),Ke=Tt(),ka=bt(),Wa=St(),Ot=we(),Sr=class{constructor(t,r,n="0"){this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new Fa.Signer(r):r,this.cairoVersion=n}async signMessage(t){return this.signer.signMessage(t,this.address)}async declare(t,r){if(r.nonce===void 0||r.maxFee===void 0||r.chainId===void 0)throw new Error("missing transaction parameter");let n=(0,xt.extractContractHashes)(t),s={};s.nonce=(0,B.toBigInt)(r.nonce),s.maxFee=r.maxFee,s.chainId=r.chainId,s.version=(0,xt.isSierra)(t.contract)?He.transactionVersion_2:He.transactionVersion;let i=await this.buildDeclareContractTransaction(n,{...s,walletAddress:this.address,cairoVersion:this.cairoVersion}),{senderAddress:o,contractDefinition:u,signature:f,compiledClassHash:l}=i;return(0,xt.isSierra)(u)?{type:wt.TransactionType.DECLARE,sender_address:o,compiled_class_hash:l,contract_class:u,nonce:(0,B.toHex)(s.nonce),signature:(0,Ke.signatureToDecimalArray)(f),max_fee:(0,B.toHex)(s.maxFee||0),version:"0x2"}:{type:wt.TransactionType.DECLARE,contract_class:u,nonce:(0,B.toHex)(s.nonce),signature:(0,Ke.signatureToDecimalArray)(f),sender_address:o,max_fee:(0,B.toHex)(s.maxFee||0),version:"0x1"}}async execute(t,r=void 0,n){if(n.nonce===void 0||n.maxFee===void 0||n.chainId===void 0)throw new Error("missing transaction parameter");let s=Array.isArray(t)?t:[t],i=(0,B.toBigInt)(n.nonce),o=n.maxFee,u=(0,B.toBigInt)(He.transactionVersion),f=n.chainId,l={walletAddress:this.address,nonce:i,maxFee:o,version:u,chainId:f,cairoVersion:this.cairoVersion},g=await this.signer.signTransaction(s,l,r),_=(0,ka.getExecuteCalldata)(s,this.cairoVersion);return{txId:g.hash,signature:{type:wt.TransactionType.INVOKE,sender_address:this.address,calldata:Ot.CallData.compile(_??[]),max_fee:(0,B.toHex)(o||0),signature:(0,Ke.signatureToDecimalArray)(g.signature),version:"0x1",nonce:(0,B.toHex)(i)}}}async deploy(t,r){let n=[].concat(t).map(o=>{let{classHash:u,salt:f,unique:l=!0,constructorCalldata:g=[]}=o,_=Ot.CallData.compile(g),w=f??(0,Ke.randomAddress)();return{call:{contractAddress:Et.UDC.ADDRESS,entrypoint:Et.UDC.ENTRYPOINT,calldata:[u,w,(0,B.toCairoBool)(l),_.length,..._]},address:(0,He.calculateContractAddressFromHash)(l?Va.starkCurve.pedersen(this.address,w):w,u,_,l?Et.UDC.ADDRESS:0)}}),s=n.map(o=>o.call),i=n.map(o=>o.address);return await this.execute(s,void 0,r)}async deployAccount({classHash:t,constructorCalldata:r=[],addressSalt:n=0,contractAddress:s},i){if(i.maxFee===void 0||i.chainId===void 0)throw new Error("missing transaction parameter");let o=(0,B.toBigInt)(He.transactionVersion),u=Et.ZERO,f=i.chainId,l=Ot.CallData.compile(r),g=s??(0,He.calculateContractAddressFromHash)(n,t,l,0),_=i.maxFee,w=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:r,contractAddress:g,addressSalt:n,chainId:f,maxFee:_,version:o,nonce:u});return{txId:w.hash,signature:{type:wt.TransactionType.DEPLOY_ACCOUNT,contract_address_salt:n,constructor_calldata:Ot.CallData.compile(r??[]),class_hash:(0,B.toHex)(t),max_fee:(0,B.toHex)(_||0),version:(0,B.toHex)(o||0),nonce:(0,B.toHex)(u),signature:(0,Ke.signatureToDecimalArray)(w.signature)}}}async buildDeclareContractTransaction(t,{nonce:r,chainId:n,version:s,walletAddress:i,maxFee:o}){let{classHash:u,contract:f,compiledClassHash:l}=(0,xt.extractContractHashes)(t),g=(0,Ka.parseContract)(f),_=await this.signer.signDeclareTransaction({classHash:u,compiledClassHash:l,senderAddress:i,chainId:n,maxFee:o,version:s,nonce:r});return{senderAddress:i,signature:_,contractDefinition:g,compiledClassHash:l}}async hashMessage(t){return(0,Wa.getMessageHash)(t,this.address)}};vt.Account=Sr});var is=p(Pt=>{"use strict";a();c();Object.defineProperty(Pt,"__esModule",{value:!0});Pt.AccountInterface=void 0;var Ar=class{};Pt.AccountInterface=Ar});var Tr=p(ae=>{"use strict";a();c();var Ga=ae&&ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),os=ae&&ae.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ga(t,e,r)};Object.defineProperty(ae,"__esModule",{value:!0});os(ss(),ae);os(is(),ae)});var Er=p(Ie=>{"use strict";a();c();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateAndParseAddress=Ie.addAddressPadding=void 0;var as=ye(),cs=G(),us=H();function ls(e){return(0,cs.addHexPrefix)((0,cs.removeHexPrefix)((0,us.toHex)(e)).padStart(64,"0"))}Ie.addAddressPadding=ls;function Xa(e){(0,us.assertInRange)(e,as.ZERO,as.MASK_251,"Starknet Address");let t=ls(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}Ie.validateAndParseAddress=Xa});var Ve=p(d=>{"use strict";a();c();var ds=d&&d.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ya=d&&d.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ge=d&&d.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ds(t,e,r)},j=d&&d.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&ds(t,e,r);return Ya(t,e),t};Object.defineProperty(d,"__esModule",{value:!0});d.modPrivateKey=d.testSign=d.GetRandomPrivateKey=d.verifyMessage=d.signMessage=d.signMessageWithTypeData=d.CreateMultiContractCall=d.CreateContractCall=d.CreateTransferTx=d.CreateSignedDeployAccountTx=d.CalculateContractAddressFromHash=d.number=d.typedData=d.shortString=d.uint256=d.merkle=d.ec=d.stark=d.transaction=d.num=d.json=d.hash=d.encode=d.constants=void 0;var We=Tr();ge(pr(),d);ge(mr(),d);ge(X(),d);ge(Tr(),d);d.constants=j(ye());d.encode=j(G());d.hash=j(X());d.json=j(ut());d.num=j(H());d.transaction=j(bt());d.stark=j(Tt());d.ec=j(ne());d.merkle=j(dr());d.uint256=j(kt());d.shortString=j(Z());d.typedData=j(St());ge(Er(),d);ge(we(),d);ge(gs(),d);var Ja=j(H());d.number=Ja;var ke=j(ne()),wr=j(X()),Nt=ye(),It=j(ut()),Za=Er(),ce=pe(),za=ne(),Ht=we(),Ge=G();function xr(e){let t={implementation:Nt.accountClassHash,selector:wr.getSelectorFromName("initialize"),calldata:Ht.CallData.compile({signer:e,guardian:"0"})},r=wr.calculateContractAddressFromHash(e,Nt.ProxyAccountClassHash,Ht.CallData.compile(t),0);return(0,Za.addAddressPadding)(r)}d.CalculateContractAddressFromHash=xr;async function Qa(e,t,r,n){let s=ke.starkCurve.getStarkKey(n),i=xr(s),o=new We.Account(i,(0,Ge.addHexPrefix)(n)),u={implementation:Nt.accountClassHash,selector:wr.getSelectorFromName("initialize"),calldata:Ht.CallData.compile({signer:s,guardian:"0"})},f=Ht.CallData.compile(u),l=await o.deployAccount({addressSalt:s,classHash:Nt.ProxyAccountClassHash,constructorCalldata:f,contractAddress:i},{nonce:e,maxFee:t,chainId:r});return{txId:l.txId,signature:It.stringify(l.signature)}}d.CreateSignedDeployAccountTx=Qa;async function ec(e,t,r,n,s,i,o,u){let l=await new We.Account(t,(0,Ge.addHexPrefix)(u)).execute({contractAddress:e,entrypoint:"transfer",calldata:[r,n,0]},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:l.txId,signature:It.stringify(l.signature)}}d.CreateTransferTx=ec;async function tc(e,t,r,n,s,i,o,u){let f=new We.Account(t,(0,Ge.addHexPrefix)(u));n||(n=[]);let l=await f.execute({contractAddress:e,entrypoint:r,calldata:n},void 0,{nonce:s,maxFee:i,chainId:o});return{txId:l.txId,signature:It.stringify(l.signature)}}d.CreateContractCall=tc;async function rc(e,t,r,n,s,i){let o=new We.Account(e,(0,Ge.addHexPrefix)(i)),u=t.map(l=>({contractAddress:l.contract_address?l.contract_address:l.contractAddress,entrypoint:l.entry_point?l.entry_point:l.entrypoint,calldata:l.calldata})),f=await o.execute(u,void 0,{nonce:r,maxFee:n,chainId:s});return{txId:f.txId,signature:It.stringify(f.signature)}}d.CreateMultiContractCall=rc;async function nc(e,t){let r=ce.signUtil.schnorr.stark.getPublicKey(t),n=ke.starkCurve.getStarkKey(t),s=xr(n),i=new We.Account(s,(0,Ge.addHexPrefix)(t)),o=await i.signMessage(e),u=await i.hashMessage(e);return{signature:o,hash:u,publicKey:r}}d.signMessageWithTypeData=nc;async function sc(e,t){let r=ce.signUtil.schnorr.stark.getPublicKey(t);return{signature:za.starkCurve.sign(e,t),hash:e,publicKey:r}}d.signMessage=sc;function ic(e,t,r){return ce.signUtil.schnorr.stark.verify(e,t,r)}d.verifyMessage=ic;async function oc(){for(;;){let e=ce.base.randomBytes(32);if(ac(e)&&fs(e.toString("hex")))return`0x${ce.signUtil.schnorr.bytesToHex(e)}`}}d.GetRandomPrivateKey=oc;function fs(e){let t="7465dd6b1bbffdb05442eb17f5ca38ad1aa78a6f56bf4415bdee219114a47a1",r=ke.starkCurve.sign(t,e),n=ce.signUtil.schnorr.stark.getPublicKey(e);return ke.starkCurve.verify(r,t,n)}d.testSign=fs;function ac(e){let t=new ce.BN(Array.from(e)),r=new ce.BN(ke.starkCurve.CURVE.n.toString());return t.cmp(r)<0&&!t.isZero()}var cc=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function uc(e){let t;!e.startsWith("0x")&&!e.startsWith("0X")?t=`0x${e}`:t=e;let n=BigInt(t.toLowerCase())%cc;return"0x"+n.toString(16)}d.modPrivateKey=uc});var gs=p(Dt=>{a();c();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.StarknetWallet=void 0;var re=Es(),Xe=pe(),q=Ve();function lc(e){if(!e)return!1;let t=e.toLowerCase().startsWith("0x")?e.substring(2).toLowerCase():e.toLowerCase();return!(t.length===0||!t.match(/^[0-9A-Fa-f]*$/))}function hs(e){if(!lc(e))return!1;let t=Xe.base.fromHex(e.toLowerCase());return!(t.length<25||t.length>33)}var Or=class extends re.BaseWallet{getRandomPrivateKey(){return(0,q.GetRandomPrivateKey)()}async getDerivedPath(t){return`m/44'/9004'/0'/0/${t.index}`}async getDerivedPrivateKey(t){return Xe.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=Xe.bip32.fromSeed(r).derivePath("m/44'/60'/0'/0/0");if(!n.privateKey)return Promise.reject(re.GenPrivateKeyError);let s=h.Buffer.from(n.privateKey),i=Xe.bip32.fromSeed(s).derivePath(t.hdPath);if(i.privateKey){let o=Xe.base.toHex(i.privateKey),u=q.ec.starkCurve.grindKey(o);return Promise.resolve(`0x${u}`)}else return Promise.reject(re.GenPrivateKeyError)}).catch(r=>Promise.reject(re.GenPrivateKeyError+":"+r))}async getNewAddress(t){if(!hs(t.privateKey))throw new Error("invalid key");try{let r=(0,q.modPrivateKey)(t.privateKey),n=q.ec.starkCurve.getStarkKey(r),i={address:(0,q.CalculateContractAddressFromHash)(n),publicKey:n};return Promise.resolve(i)}catch(r){return Promise.reject(re.NewAddressError+":"+r)}}async validPrivateKey(t){let n={isValid:hs(t.privateKey),privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{let r=t.data;if(r.nonce===void 0||r.maxFee===void 0)return Promise.reject(re.SignTxError);let n=r.nonce,s=r.maxFee,i=r.chainId||q.constants.StarknetChainId.SN_MAIN,o=(0,q.modPrivateKey)(t.privateKey);if(r.type=="transfer"&&r.transferData!==void 0){let u=r.transferData.contractAddress,f=r.transferData.from,l=r.transferData.to,g=r.transferData.amount,_=await(0,q.CreateTransferTx)(u,f,l,g,n,s,i,o);return Promise.resolve(_)}else if(r.type=="deploy_account"){let u=await(0,q.CreateSignedDeployAccountTx)(n,s,i,o);return Promise.resolve(u)}else if(r.type=="contract_call"&&r.contractCallData!==void 0){let u=r.contractCallData.contractAddress,f=r.contractCallData.from,l=r.contractCallData.functionName,g=r.contractCallData.callData,_=await(0,q.CreateContractCall)(u,f,l,g,n,s,i,o);return Promise.resolve(_)}else if(r.type=="multi_contract_call"&&r.multiContractCallData!==void 0){let u=r.multiContractCallData.from,f=r.multiContractCallData.calls,l=(0,q.CreateMultiContractCall)(u,f,n,s,i,o);return Promise.resolve(l)}return Promise.reject(re.SignTxError)}catch(r){return Promise.reject(re.SignTxError+":"+r)}}async validAddress(t){let r;try{(0,q.validateAndParseAddress)(t.address),r=t.address.startsWith("0x")&&t.address.length>50}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}async signMessage(t){try{let r=(0,q.modPrivateKey)(t.privateKey);if(typeof t.data.message=="string"){let n=t.data.message;if(n.startsWith("0x")){let s=(0,q.signMessage)(n,r);return Promise.resolve(s)}}else{let n=t.data.message,s=await(0,q.signMessageWithTypeData)(n,r);return Promise.resolve(s)}}catch(r){return Promise.reject(re.SignTxError+":"+r)}}verifyMessage(t){try{let r=t.data.signature,n=t.data.hash,s=t.data.publicKey;return Promise.resolve((0,q.verifyMessage)(r,n,s))}catch(r){return Promise.reject(r)}}};Dt.StarknetWallet=Or});export default gs();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=StarknetWallet-BBXOFZJR.js.map
