import{a as _}from"./chunk-DIVFRUSZ.js";import{b as s}from"./chunk-2AZAHALD.js";import{f as l}from"./chunk-APUK5GYS.js";import{a as T}from"./chunk-S3KOFL77.js";import{h as g,i as k}from"./chunk-KX7CSB3G.js";import{m as h}from"./chunk-4HGOSSS7.js";import{cc as j}from"./chunk-B32MCU7F.js";import{Ja as e,Na as Y}from"./chunk-N4B7HQY5.js";import{Ya as w,_a as W}from"./chunk-Q23SA7M6.js";import{O as S,w as u}from"./chunk-364XNTHB.js";import{a as H}from"./chunk-PDSGFBX4.js";import{f,o as C,q as d}from"./chunk-FJHLV356.js";C();d();var y=f(H()),B=f(j());S();Y();W();var G=({unapproved:a,needCheckMpc:b,onConfirm:o,onConfirmReplace:I,onCancel:L,preExecInfo:O={}})=>{let t=(0,B.useDispatch)(),{id:n,walletId:i,chainEvents:P={}}=a,c=_(i),A=h(i),r=w(a.localType),E=(0,y.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",network:r,dapp_url:a.origin}),await t(g(n)),await e(t)},[c,t,n,r]),m=L||E,{loading:F,onClick:N}=s(m),D={btnText:u("wallet_dapp_connection_btn_reject"),actionType:l.ACTION_TYPE.CANCEL,onClick:N,loading:F},M=async()=>{try{if(b&&!await T({walletId:i,callback:m}))return;if(o&&I){await o();return}P?.beforeConfirm?.(),c({trade:"sign",all_confirmation:"confirm",network:r,dapp_url:a.origin}),await t(k(n)),await e(t),await o?.()}catch(p){console.log(p)}},{loading:R,onClick:q}=s(M),x={loading:R,onClick:q,disabled:A||O?.canConfirm===!1,actionType:l.ACTION_TYPE.CONFIRM};return[D,x]},tt=G;export{tt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-4TXBJTY4.js.map
