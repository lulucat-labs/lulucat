import{a as St,b as Ar}from"./chunk-XXICVAVV.js";import{e as Ne}from"./chunk-PDSGFBX4.js";import{c as te,f as _r,h as T,n as process,o as a,p as d,q as c}from"./chunk-FJHLV356.js";var de=te((dn,vt)=>{"use strict";a();c();vt.exports={indexOf:function(e,t){var r,o;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var o,i;if(Array.prototype.forEach)return e.forEach(t,r);for(o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}}});var Pe=te(w=>{"use strict";a();c();var Lr=Ne().FilterCSS,Or=Ne().getDefaultWhiteList,ge=de();function Et(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var xt=new Lr;function Cr(e,t,r){}function kr(e,t,r){}function Rr(e,t,r){}function Dr(e,t,r){}function Tt(e){return e.replace(Pr,"&lt;").replace(jr,"&gt;")}function Nr(e,t,r,o){if(r=Ct(r),t==="href"||t==="src"){if(r=ge.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(pe.lastIndex=0,pe.test(r))return""}else if(t==="style"){if(bt.lastIndex=0,bt.test(r)||(yt.lastIndex=0,yt.test(r)&&(pe.lastIndex=0,pe.test(r))))return"";o!==!1&&(o=o||xt,r=o.process(r))}return r=kt(r),r}var Pr=/</g,jr=/>/g,Ur=/"/g,$r=/&quot;/g,Fr=/&#([a-zA-Z0-9]*);?/gim,Gr=/&colon;?/gim,Kr=/&newline;?/gim,pe=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,bt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,yt=/u\s*r\s*l\s*\(.*/gi;function It(e){return e.replace(Ur,"&quot;")}function _t(e){return e.replace($r,'"')}function At(e){return e.replace(Fr,function(r,o){return o[0]==="x"||o[0]==="X"?String.fromCharCode(parseInt(o.substr(1),16)):String.fromCharCode(parseInt(o,10))})}function Lt(e){return e.replace(Gr,":").replace(Kr," ")}function Ot(e){for(var t="",r=0,o=e.length;r<o;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return ge.trim(t)}function Ct(e){return e=_t(e),e=At(e),e=Lt(e),e=Ot(e),e}function kt(e){return e=It(e),e=Tt(e),e}function Xr(){return""}function Br(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function o(s){return r?!0:ge.indexOf(e,s)!==-1}var i=[],n=!1;return{onIgnoreTag:function(s,l,u){if(o(s))if(u.isClosing){var f="[/removed]",g=u.position+f.length;return i.push([n!==!1?n:u.position,g]),n=!1,f}else return n||(n=u.position),"[removed]";else return t(s,l,u)},remove:function(s){var l="",u=0;return ge.forEach(i,function(f){l+=s.slice(u,f[0]),u=f[1]}),l+=s.slice(u),l}}}function Wr(e){for(var t="",r=0;r<e.length;){var o=e.indexOf("<!--",r);if(o===-1){t+=e.slice(r);break}t+=e.slice(r,o);var i=e.indexOf("-->",o);if(i===-1)break;r=i+3}return t}function Mr(e){var t=e.split("");return t=t.filter(function(r){var o=r.charCodeAt(0);return o===127?!1:o<=31?o===10||o===13:!0}),t.join("")}w.whiteList=Et();w.getDefaultWhiteList=Et;w.onTag=Cr;w.onIgnoreTag=kr;w.onTagAttr=Rr;w.onIgnoreTagAttr=Dr;w.safeAttrValue=Nr;w.escapeHtml=Tt;w.escapeQuote=It;w.unescapeQuote=_t;w.escapeHtmlEntities=At;w.escapeDangerHtml5Entities=Lt;w.clearNonPrintableCharacter=Ot;w.friendlyAttrValue=Ct;w.escapeAttrValue=kt;w.onIgnoreTagStripAll=Xr;w.StripTagBody=Br;w.stripCommentTag=Wr;w.stripBlankChar=Mr;w.attributeWrapSign='"';w.cssFilter=xt;w.getDefaultCSSWhiteList=Or});var Ue=te(je=>{"use strict";a();c();var j=de();function zr(e){var t=j.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=j.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function qr(e){return e.slice(0,2)==="</"}function Vr(e,t,r){"use strict";var o="",i=0,n=!1,s=!1,l=0,u=e.length,f="",g="";e:for(l=0;l<u;l++){var p=e.charAt(l);if(n===!1){if(p==="<"){n=l;continue}}else if(s===!1){if(p==="<"){o+=r(e.slice(i,l)),n=l,i=l;continue}if(p===">"||l===u-1){o+=r(e.slice(i,n)),g=e.slice(n,l+1),f=zr(g),o+=t(n,o.length,f,g,qr(g)),i=l+1,n=!1;continue}if(p==='"'||p==="'")for(var h=1,y=e.charAt(l-h);y.trim()===""||y==="=";){if(y==="="){s=p;continue e}y=e.charAt(l-++h)}}else if(p===s){s=!1;continue}}return i<u&&(o+=r(e.substr(i))),o}var Jr=/[^a-zA-Z0-9\\_:.-]/gim;function Hr(e,t){"use strict";var r=0,o=0,i=[],n=!1,s=e.length;function l(h,y){if(h=j.trim(h),h=h.replace(Jr,"").toLowerCase(),!(h.length<1)){var k=t(h,y||"");k&&i.push(k)}}for(var u=0;u<s;u++){var f=e.charAt(u),g,p;if(n===!1&&f==="="){n=e.slice(r,u),r=u+1,o=e.charAt(r)==='"'||e.charAt(r)==="'"?r:Qr(e,u+1);continue}if(n!==!1&&u===o){if(p=e.indexOf(f,u+1),p===-1)break;g=j.trim(e.slice(o+1,p)),l(n,g),n=!1,u=p,r=u+1;continue}if(/\s|\n|\t/.test(f))if(e=e.replace(/\s|\n|\t/g," "),n===!1)if(p=Yr(e,u),p===-1){g=j.trim(e.slice(r,u)),l(g),n=!1,r=u+1;continue}else{u=p-1;continue}else if(p=Zr(e,u-1),p===-1){g=j.trim(e.slice(r,u)),g=Rt(g),l(n,g),n=!1,r=u+1;continue}else continue}return r<e.length&&(n===!1?l(e.slice(r)):l(n,Rt(j.trim(e.slice(r))))),j.trim(i.join(" "))}function Yr(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function Qr(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function Zr(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function eo(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function Rt(e){return eo(e)?e.substr(1,e.length-2):e}je.parseTag=Vr;je.parseAttr=Hr});var jt=te((yn,Pt)=>{"use strict";a();c();var to=Ne().FilterCSS,I=Pe(),Dt=Ue(),ro=Dt.parseTag,oo=Dt.parseAttr,he=de();function me(e){return e==null}function no(e){var t=he.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=he.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=he.trim(e.slice(0,-1))),{html:e,closing:r}}function io(e){var t={};for(var r in e)t[r]=e[r];return t}function so(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(o){return o.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function Nt(e){e=io(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=I.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=so(e.whiteList||e.allowList):e.whiteList=I.whiteList,this.attributeWrapSign=e.singleQuotedAttributeValue===!0?"'":I.attributeWrapSign,e.onTag=e.onTag||I.onTag,e.onTagAttr=e.onTagAttr||I.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||I.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||I.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||I.safeAttrValue,e.escapeHtml=e.escapeHtml||I.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new to(e.css))}Nt.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,o=r.whiteList,i=r.onTag,n=r.onIgnoreTag,s=r.onTagAttr,l=r.onIgnoreTagAttr,u=r.safeAttrValue,f=r.escapeHtml,g=t.attributeWrapSign,p=t.cssFilter;r.stripBlankChar&&(e=I.stripBlankChar(e)),r.allowCommentTag||(e=I.stripCommentTag(e));var h=!1;r.stripIgnoreTagBody&&(h=I.StripTagBody(r.stripIgnoreTagBody,n),n=h.onIgnoreTag);var y=ro(e,function(k,W,E,x,Ce){var q={sourcePosition:k,position:W,isClosing:Ce,isWhite:Object.prototype.hasOwnProperty.call(o,E)},V=i(E,x,q);if(!me(V))return V;if(q.isWhite){if(q.isClosing)return"</"+E+">";var R=no(x),ke=o[E],Re=oo(R.html,function(J,H){var De=he.indexOf(ke,J)!==-1,ee=s(E,J,H,De);return me(ee)?De?(H=u(E,J,H,p),H?J+"="+g+H+g:J):(ee=l(E,J,H,De),me(ee)?void 0:ee):ee});return x="<"+E,Re&&(x+=" "+Re),R.closing&&(x+=" /"),x+=">",x}else return V=n(E,x,q),me(V)?f(x):V},f);return h&&(y=h.remove(y)),y};Pt.exports=Nt});var Kt=te((Y,Se)=>{"use strict";a();c();var Ut=Pe(),$t=Ue(),Ft=jt();function Gt(e,t){var r=new Ft(t);return r.process(e)}Y=Se.exports=Gt;Y.filterXSS=Gt;Y.FilterXSS=Ft;(function(){for(var e in Ut)Y[e]=Ut[e];for(var t in $t)Y[t]=$t[t]})();typeof window<"u"&&(window.filterXSS=Se.exports);function ao(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}ao()&&(self.filterXSS=Se.exports)});a();c();a();c();a();c();a();c();a();c();a();c();a();c();a();c();a();c();a();c();var wt=["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"];var re=_r(Kt()),we=re.default.getDefaultWhiteList(),co=re.default.escapeAttrValue,$e={};Object.keys(we).forEach(e=>{we[e]=we[e].concat(wt)});function lo(e){let r=(e?.mode||"escape")==="escape";return new re.default.FilterXSS({whiteList:we,onTagAttr(o,i,n,s){if(s&&o==="a"&&i==="href"&&(n.startsWith("okex://")||n.startsWith("okx://")||n.startsWith("okxtr://")))return`${i}="${n}"`},onIgnoreTagAttr(o,i,n){if(i.startsWith("data-")){let s=r?co(n):n.replace(/</g,"").replace(/>/g,"");return`${i}="${s}"`}},css:!1,escapeHtml:o=>r?re.default.escapeHtml(o):o.replace(/</g,"").replace(/>/g,""),...e})}function uo(e,t){let r=JSON.stringify(t);return $e[r]||($e[r]=lo(t)),$e[r].process(e)}var Xt=uo;a();c();var fo=["javascript:","view-source:","\\s*j\\s*a\\s*v\\s*a\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*:\\s*"],Fe={};function po(e,t){let r=`${[...e].join(",")}|${t.join(",")}`;if(!Fe[r]){let o=fo.concat(t).filter(n=>!e.has(n)),i=new RegExp(o.join("|"),"gi");Fe[r]=i}return Fe[r]}function go(e,t){let r=e,o="",i=new Set(t?.keywordsWhiteList||[]),n=t?.keywordsBlackList||[],s=po(i,n);do o=r,r=r.replace(s,"");while(r!==o);return r}var Bt=go;function Ge(e,t){let r=Xt(e,t);return r=Bt(r,t),r}function mo(e){let t,r=e,o=0;do t=r,r=decodeURIComponent(r),o++;while(r!==t&&o<5);return{decodeValue:r,count:o}}function ho(e,t){let r=1,o=e;do r++,o=encodeURIComponent(o);while(r!==t);return o}function So(e){try{let{decodeValue:t,count:r}=mo(e);return t===e?{isEncode:!1,count:0}:{isEncode:t,count:r}}catch{return{isEncode:!1,count:0}}}function U(e,t,r){let{enableXssPurify:o,mode:i}=t;if(!o)return r(e);let{isEncode:n,count:s}=So(e);if(n&&typeof n=="string"){let l=Ge(n,{mode:i});return r(l===n?e:ho(l,s))}return r(Ge(e,{mode:i}))}a();c();var m=()=>Boolean(typeof window>"u"||process.env.SSR_ENV);a();c();a();c();function O(...e){let t=e[0];for(let r=1;r<e.length;r++){let o=e[r];o&&Object.keys(o).forEach(n=>{t[n]=o[n]})}return t}a();c();var ve={read(e){let t=e;return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var wo=_(),Wt=typeof document>"u",M=class{constructor(t=ve,r={path:"/"}){this.converter=t,this.attributes=r,this.enableXssPurify=!0,this.mode="escape"}init(){return new M}closeXssPurify(){this.enableXssPurify=!1}setMode(t){this.mode=t}set(t,r,o){if(m()||Wt)return;let i=t,n={...o};n=O({},this.attributes,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),i=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);let s="";Object.keys(n).forEach(l=>{!n[l]||(s+=`; ${l}`,n[l]!==!0&&(s+=`=${n[l].split(";")[0]}`))}),U(r,{enableXssPurify:this.enableXssPurify,mode:this.mode},l=>document.cookie=`${i}=${this.converter.write(l,i)}${s}`)}get(t){if(arguments.length&&!t)return;if(m()){let n=wo?.ssrUtils?.cookies?.get(t);return n&&U(n,{enableXssPurify:this.enableXssPurify,mode:this.mode},s=>s)}if(Wt)return;let r=document.cookie?document.cookie.split("; "):[],o={};for(let n=0;n<r.length;n++){let s=r[n].split("="),l=s.slice(1).join("=");try{let u=decodeURIComponent(s[0]);if(o[u]=this.converter.read(l,u),t===u)break}catch(u){console.log(u)}}let i=t?o[t]:o;return!i||!t?i:U(i,{enableXssPurify:this.enableXssPurify,mode:this.mode},n=>n)}remove(t,r){this.set(t,"",O({},r,{expires:-1}))}withAttributes(t){return new M(this.converter,O({},this.attributes,t))}withConverter(t){return new M(O({},this.converter,t),this.attributes)}},Mt=new M;var vo=_(),zt=typeof document>"u";function Ke(e,t){function r(){return Mt.init()}function o(n,s,l){if(m()||zt)return;let u=n,f={...l};f=O({},t,f),typeof f.expires=="number"&&(f.expires=new Date(Date.now()+f.expires*864e5)),f.expires&&(f.expires=f.expires.toUTCString()),u=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);let g="";Object.keys(f).forEach(p=>{!f[p]||(g+=`; ${p}`,f[p]!==!0&&(g+=`=${f[p].split(";")[0]}`))}),U(s,{enableXssPurify:!0,mode:"escape"},p=>document.cookie=`${u}=${e.write(p,u)}${g}`)}function i(n){if(arguments.length&&!n)return;if(m()){let f=vo?.ssrUtils?.cookies?.get(n);return f&&U(f,{enableXssPurify:!0,mode:"escape"},g=>g)}if(zt)return;let s=document.cookie?document.cookie.split("; "):[],l={};for(let f=0;f<s.length;f++){let g=s[f].split("="),p=g.slice(1).join("=");try{let h=decodeURIComponent(g[0]);if(l[h]=e.read(p,h),n===h)break}catch(h){console.log(h)}}let u=n?l[n]:l;return!u||!n?u:U(u,{enableXssPurify:!0,mode:"escape"},f=>f)}return Object.create({set:o,get:i,init:r,remove(n,s){o(n,"",O({},s,{expires:-1}))},withAttributes(n){return Ke(this.converter,O({},this.attributes,n))},withConverter(n){return Ke(O({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var v=Ke(ve,{path:"/"});var Xe="ok_site_info",bo=_(),We=m(),Be=e=>e.split("").reverse().join(""),yo=e=>Be(We?d.Buffer.from(e).toString("base64"):window.btoa(e)),Eo=e=>{let t=Be(e);return We?d.Buffer.from(t,"base64").toString("utf-8"):window.atob(t)},Me=(e=!0)=>{let t=v.get(Xe);if(!t)return e?{}:"";try{return e?JSON.parse(Eo(t)):t}catch{}return{}},qt=e=>{let t=Me();Object.keys(e).forEach(o=>{t[o]=e[o]});let r=yo(JSON.stringify(t));We?bo?.ssrUtils?.cookies?.set(Xe,r):v.set(Xe,r)};var ze={};function _(){let e;if(typeof globalThis<"u")e=globalThis;else if(typeof window<"u")e=window;else if(typeof globalThis<"u")e=globalThis;else throw new Error("unable to locate global object");return e.addEventListener=e.addEventListener||function(){},e}var xo=new Proxy({_global_subscribe_list:{},_global_message_list:{},locale:"en_US"},{get(e,t,r){return t==="toJSON"?()=>({..._().okGlobal,..._()._okGlobal,...ze}):t==="toString"?()=>JSON.stringify(r.toJSON()):[ze,_()._okGlobal,_().okGlobal,{getSiteInfo:Me,setSiteInfo:qt}].find(n=>n&&Object.prototype.hasOwnProperty.call(n,t))?.[t]},set(e,t,r){return ze[t]=r,!0}}),S=xo;a();c();var To=m(),$=_(),b={debug(){},info(){},warn(){},error(){},timeStart(){},timeEnd(){},init(){}},Io=()=>{if($.ssrUtils&&$.ssrUtils.logger){let e=$.ssrUtils.logger;b.debug=(...t)=>e.debug?.(...t),b.info=(...t)=>e.info?.(...t),b.warn=(...t)=>e.warn?.(...t),b.error=(...t)=>e.error?.(...t),b.timeStart=(...t)=>e.timeStart?.(...t),b.timeEnd=(...t)=>e.timeEnd?.(...t)}},be=({message:e,level:t,data:r})=>{S.envSign!=="prod"&&console[t]?.(e,r);let o={};r instanceof Error?o={error:r}:o={message:e,...r};let i=Object.keys(o).find(s=>o[s]instanceof Error),n=o[i];if(n){delete o[i];let s=new Error;s.message=`${e} - ${n.message}`,s.name=n.name,s.stack=n.stack,$.Sentry?.captureException(s,{...o,message:e,contexts:{report:{info:JSON.stringify(o)}}});return}$.Sentry?.captureEvent({...o,message:e,level:t,contexts:{report:{info:JSON.stringify(o)}}})},_o=(e={})=>{let{dsn:t,version:r,traceId:o,injectableOptions:i={}}=$.__INIT_STATE__?.appContext||{},n=i?.reportOptions,s={};typeof n=="object"&&!Array.isArray(n)&&(s=n||{}),!(!t&&!e?.dsn&&!s.dsn)&&($.Sentry?.init({dsn:t,release:r,...e,...s},{debug:["dev","daily"].includes(S.envSign)}),$.Sentry?.setTag("traceId",o),b.debug=(l,u)=>be({message:l,level:"debug",data:u}),b.info=(l,u)=>be({message:l,level:"info",data:u}),b.warn=(l,u)=>be({message:l,level:"warn",data:u}),b.error=(l,u)=>be({message:l,level:"error",data:u}),b.timeStart=console.time,b.timeEnd=console.timeEnd)};b.init=To?Io:_o;b.init();a();c();a();c();a();c();a();c();var A="_expire",qe=class{constructor(t,r){T(this,"storageKey");T(this,"projectKey");this.storageKey=t,this.projectKey=r}isCorrectExpire(t){return typeof t<"u"&&Number.isInteger(Number(t))&&Number.isSafeInteger(t)&&t>new Date().getTime()}isCorrectExpireSeconds(t){return typeof t<"u"&&Number.isInteger(t)&&Number.isSafeInteger(t)&&t>0}getExpire(t){return new Date().getTime()+t*1e3}getProjectData(t){if(m())return{};let r=window[this.storageKey].getItem(this.projectKey),o={};try{o=JSON.parse(r||"{}")}catch{o={}}let i={[A]:{}},n=o[A]||{};return Object.keys(o).forEach(s=>{s!==A&&(n[s]===void 0||this.isCorrectExpire(n[s]))&&(i[s]=o[s],i[A][s]=n[s])}),t&&delete i[A],i}get(t){return t==null||t instanceof Function||t instanceof Array||t instanceof Object?void 0:this.getProjectData()[t]}set(t,r,o){if(m()||t==null||t instanceof Function||t instanceof Array||t===A)return!1;let i=this.getProjectData();return t instanceof Object?this.setAll(t,r):(i[t]=r,typeof o<"u"&&this.isCorrectExpireSeconds(o)?i[A][t]=this.getExpire(o):delete i[A][t],window[this.storageKey].setItem(this.projectKey,JSON.stringify(i)),!0)}setAll(t={},r={}){if(m())return!1;let o=this.getProjectData();return Object.entries(t).forEach(i=>{let n=i[0];if(n===A)return;let s=r[n];o[n]=i[1],this.isCorrectExpireSeconds(s)?o[A][n]=this.getExpire(s):delete o[A][n]}),window[this.storageKey].setItem(this.projectKey,JSON.stringify(o)),!0}remove(t){if(m()||t==null||t instanceof Function||t.constructor&&t.constructor===Object)return!1;let r=[];t instanceof Array?r=t:r.push(t);let o=this.getProjectData();return r.forEach(i=>{delete o[i],delete o[A][i]}),window[this.storageKey].setItem(this.projectKey,JSON.stringify(o)),!0}getAll(){return this.getProjectData(!0)}cleanAll(){m()||window[this.storageKey].setItem(this.projectKey,JSON.stringify({}))}},F=qe;var Jt="ok_",Vt=`${Jt}global`,Ve="localStorage",Je=class extends F{constructor(r){super(Ve,Jt+r);T(this,"global");T(this,"g");this.global=new F(Ve,Vt),this.g=new F(Ve,Vt)}},Ht=Je;a();c();var Qt="ok_",He="sessionStorage",Yt=`${Qt}global`,Ye=class extends F{constructor(r){super(He,Qt+r);T(this,"global");T(this,"g");this.global=new F(He,Yt),this.g=new F(He,Yt)}},Zt=Ye;var Qe=class{constructor(){T(this,"local");T(this,"session");this.local={},this.session={}}localProject(t,r=!1){if(!this.local[t]){if(r)return null;this.local[t]=new Ht(t)}return this.local[t]}sessionProject(t,r=!1){if(!this.session[t]){if(r)return null;this.session[t]=new Zt(t)}return this.session[t]}},oe=new Qe;var K="ok_",D="default",ae="global",ne="localStorage",ie="sessionStorage",se=K+D,Ze=K+ae,L="_expire";function Ao(e){return typeof e<"u"&&Number.isInteger(Number(e))&&Number.isSafeInteger(e)&&e>new Date().getTime()}function er(e){return typeof e<"u"&&Number.isInteger(e)&&Number.isSafeInteger(e)&&e>0}function tr(e){return new Date().getTime()+e*1e3}function G(e,t,r){if(m())return{};let o=window[e].getItem(t),i={};try{i=JSON.parse(o||"{}")}catch{i={}}let n={[L]:{}},s=i[L]||{};return Object.keys(i).forEach(l=>{l!==L&&(s[l]===void 0||Ao(s[l]))&&(n[l]=i[l],n[L][l]=s[l])}),r&&delete n[L],n}function Z(e,t){m()||window[e].setItem(t,JSON.stringify(G(e,t)))}var Q={get(e,t,r){return r==null||r instanceof Function||r instanceof Array||r instanceof Object?void 0:G(e,t)[r]},set(e,t,r,o,i){if(m()||r==null||r instanceof Function||r instanceof Array||r===L)return!1;let n=G(e,t);return r instanceof Object?Q.setAll(e,t,r,o):(n[r]=o,typeof i<"u"&&er(i)?n[L][r]=tr(i):delete n[L][r],window[e].setItem(t,JSON.stringify(n)),!0)},setAll(e,t,r={},o={}){if(m())return!1;let i=G(e,t);return Object.entries(r).forEach(n=>{let s=n[0];if(s===L)return;let l=o[s];i[s]=n[1],er(l)?i[L][s]=tr(l):delete i[L][s]}),window[e].setItem(t,JSON.stringify(i)),!0},remove(e,t,r){if(m()||r==null||r instanceof Function||r.constructor&&r.constructor===Object)return!1;let o=[];r instanceof Array?o=r:o.push(r);let i=G(e,t);return o.forEach(n=>{delete i[n],delete i[L][n]}),window[e].setItem(t,JSON.stringify(i)),!0},getAll(e,t){return G(e,t,!0)},cleanAll(e,t){m()||window[e].setItem(t,JSON.stringify({}))}};function ye({isLocal:e,isGlobal:t}){function r(){return e?ne:ie}function o(){return t?Ze:se}return{set(i,n,s){return Q.set(r(),o(),i,n,s)},get(i){return Q.get(r(),o(),i)},remove(i){return Q.remove(r(),o(),i)},getAll(){return Q.getAll(r(),o())},cleanAll(){return Q.cleanAll(r(),o())}}}var rr=(()=>{let e={...ye({isLocal:!0,isGlobal:!0})};return{...ye({isLocal:!0,isGlobal:!1}),getProjectStorage(t){return G(ne,K+t,!0)},global:e,g:e}})();function Lo({project:e}){let t=e===ae?D:e;return se=K+t,Z(ne,se),Z(ne,Ze),t!==D&&Z(ne,K+D),oe.localProject(t)}function Oo(e){let t=e===ae?D:e;return oe.localProject(t,!0)}function Co({project:e}){let t=e===ae?D:e;return se=K+t,Z(ie,se),Z(ie,Ze),t!==D&&Z(ie,K+D),oe.sessionProject(t)}function ko(e){let t=e===ae?D:e;return oe.sessionProject(t,!0)}var Ro=(()=>{let e={...ye({isLocal:!1,isGlobal:!0})};return{...ye({isLocal:!1,isGlobal:!1}),getProjectStorage(t){return G(ie,K+t,!0)},global:e,g:e,init:Co,getInstance:ko}})(),ce={getInstance:Oo,init:Lo,session:Ro,...rr,local:rr};a();c();a();c();var Do=["/support/","/docs/","/docs-v5/","/academy/"],No=["http","//","\\/","/\\","\\"];function Po(e){return No.some(t=>e.startsWith(t))}var jo=e=>{let t="";return Object.keys(e).forEach(r=>{e[r]||(t=r)}),t};function nr(e){return new URL(e,"https://tempurl.com").pathname}function Uo(e){let{localeMap:t,langPath:r,path:o,pathCorrection:i,defaultLocale:n}=e,s="";return Object.keys(t).forEach(l=>{if(l!==n){let u=`/${t[l]}`;o.startsWith(`${u}/`)&&r!==u?s=`${u}/`:o===u&&(s=`${u}`)}l===n&&Object.keys(i).forEach(u=>{let f=u.replace(/\//g,"");o.startsWith(`/${f}/`)?s=`/${f}/`:o===`/${f}`&&(s=`/${f}`)})}),s}function ir(e){return!!(!e||typeof e!="string"||Po(e)||!e.startsWith("/")||e.startsWith("/\\"))}function $o(e){let{okUtilsConfig:t={}}=S,{prefixLangPathFilter:r}=t;return ir(e)?!0:(r||Do).some(n=>e.startsWith(n))}function or(e){return nr(e)==="/"?e:e.replace(/\/(?=[\\?#]|$)/,"")}function Ee(e){if(!e||typeof e!="string")return e;try{let{langPath:t="",localeMap:r={},locale:o="",pathCorrection:i={}}=S,n=o?.toLowerCase()?.replace("-","_"),s=e,l=jo(r),u={localeMap:r,langPath:t,path:e,locale:n,pathCorrection:i,defaultLocale:l},f=!ir(e)&&Uo({...u,path:nr(e)});if(f&&(s=s.replace(f,"/")),$o(s)||!t&&n!==l)return or(e);let g=s.startsWith(`${t}/`)?s:`${t}${s}`;return or(g)}catch{return e}}a();c();Ar();a();c();var et=24*60*60*1e3,Xs=7*et,sr=2*365,N={TOKEN:"token",DEV_ID:"devId"},C={TOKEN:"token",DEV_ID:"devId",E_ID:"_eid"},ar={project:{id:206,token:"77d51bf92a0501485bb541a2ec96517e"}},P={ERR_CANCELED:"ERR_CANCELED",ERR_NETWORK:"ERR_NETWORK",ERR_TIMEOUT:"ERR_TIMEOUT"},cr=()=>S.envSign!=="prod";a();c();var tt={useNativeTokenInApp:!0,dexEnv:0,isBlocked:!1};function le(e){Object.keys(e).forEach(t=>{tt[t]!==void 0&&(tt[t]=e[t])})}var X=tt;var ue,rt="isLogin",Fo="1",Go=({token:e,expireTime:t})=>{v.set(N.TOKEN,e,{expires:t}),v.set(rt,Fo,{expires:t}),localStorage.setItem(C.TOKEN,e)},ot=(e={fromInner:!1})=>{if(ue!==void 0)return ue;cr()&&window?.jsbridge&&!e.fromInner&&console.warn("ont: please use 'ont.checkIsLogin()' to replace 'ont.isLogin()'");let t=Boolean(v.get(N.TOKEN)&&v.get(rt));return ue=t,t},Ko=()=>localStorage.getItem(C.TOKEN),Xo=async()=>{let{jsbridge:e}=window;if(e&&e.getToken)try{return await e.getToken()}catch{return}},lr=async(e=X)=>{let t;return S.isApp&&e.useNativeTokenInApp?(t=await Xo(),t):Ko()},ur=e=>{try{return St(e)}catch{return{}}},Bo=e=>{let t=e?ur(e).eid:void 0;t&&t!==S.getSiteInfo().entity&&(S.setSiteInfo({entity:t}),localStorage.setItem(C.E_ID,t))};var fr=()=>S.getSiteInfo().entity,Wo=({token:e,expireTime:t})=>{let r=Date.now(),o;if(t>r)localStorage.setItem("token_expire_time",t),o=t-r;else{let i=ur(e).exp*1e3;localStorage.setItem("token_expire_time",i),o=i-r}return o/et},xe=e=>{let r=typeof e=="object"?e:{token:e},{token:o,expireTime:i=0}=r;if(!o)return;let n=Wo({token:o,expireTime:i});Go({token:o,expireTime:n}),Bo(o),ue=!0},nt=()=>{localStorage.removeItem(C.TOKEN),localStorage.removeItem(C.E_ID),v.remove(N.TOKEN),localStorage.removeItem("token_expire_time"),v.remove(rt),ue=!1},dr=()=>S.isApp?window.jsbridge.isLogin():Promise.resolve(ot({fromInner:!0})),pr=()=>{let e=Date.now(),t=Number(localStorage.token_expire_time);return!t||t<e?0:t-e},Te=()=>{if(nt(),S?.site?.is?.oklink||!S.isApp){let{location:e}=window,{pathname:t,search:r,hash:o}=e,i=encodeURIComponent(`${t}${r}${o}`);e.href=Ee(`/account/login?logout=true&forward=${i}`)}};a();c();var Mo=()=>{let e=Date.now();if(!m()){let{performance:r}=window;typeof r<"u"&&typeof r.now=="function"&&(e+=r.now())}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{let o=(e+Math.random()*16)%16|0;return(r==="x"?o:o&3|8).toString(16)})},zo=()=>v.get(N.DEV_ID)||localStorage.getItem(C.DEV_ID),st=e=>{v.set(N.DEV_ID,e,{expires:sr}),localStorage.setItem(C.DEV_ID,e)},qo=e=>{let t=v.get(N.DEV_ID),r=localStorage.getItem(C.DEV_ID);(!t||!r||t!==r)&&st(e)},gr=()=>{let e=zo();return e?qo(e):(e=Mo(),st(e)),e},Vo=async()=>{let e=gr();return S.isApp&&window?.jsbridge&&(e=await window.jsbridge.getDeviceID()),e},fe={getDevId:Vo,getDeviceId:gr,setDeviceId:st};a();c();var Jo=0,mr=(e,t)=>{delete window[t],document.head.removeChild(e)};function hr(e){let{url:t,func:r}=e;return new Promise((o,i)=>{let n=document.createElement("script"),s="";r?s=r:s=`ont_jsonp_${++Jo}`,window[s]=f=>{o(f),mr(n,s)};let l=t.indexOf("?")>-1?"&":"?",u=`${t}${l}callback=${s}&t=${Date.now()}`;n.setAttribute("type","text/javascript"),n.setAttribute("src",u),n.addEventListener("error",()=>{i(new Error(`Fail to load: ${u}`)),mr(n,s)}),document.head.appendChild(n)})}a();c();a();c();a();c();a();c();a();c();a();c();var Ho={ar_EH:"\u0634\u0628\u0643\u0629 \u063A\u064A\u0631 \u0637\u0628\u064A\u0639\u064A\u0629 \u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u062D\u0642\u0642 \u0648\u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649",cs_CZ:"Neobvykl\xE1 s\xED\u0165, zkontrolujte a zkuste to pros\xEDm znovu",de_DE:"Netzwerk ist ungew\xF6hnlich, bitte \xFCberpr\xFCfen und erneut versuchen",en_US:"Network issue, please check and try again",en:"Network issue, please check and try again",es_419:"Red anormal, por favor verifique y vuelva a intentarlo",es_ES:"Red anormal, por favor verifique y vuelva a intentarlo",fr_FR:"R\xE9seau anormal, veuillez v\xE9rifier et r\xE9essayer",id_ID:"Jaringan tidak normal, silakan periksa dan coba lagi",it_IT:"Rete anomala, si prega di controllare e riprovare",nl_NL:"Netwerk is abnormaal, controleer en probeer opnieuw",pl_PL:"Sie\u0107 jest nieprawid\u0142owa, sprawd\u017A i spr\xF3buj ponownie",pt_BR:"Rede anormal, por favor verifique e tente novamente",pt_PT:"Rede anormal, por favor verifique e tente novamente",ro_RO:"Re\u021Bea anormal\u0103, v\u0103 rug\u0103m s\u0103 verifica\u021Bi \u0219i s\u0103 \xEEncerca\u021Bi din nou",ru_RU:"\u0421\u0435\u0442\u044C \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442 \u043D\u0435\u043D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u043E, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437",tr_TR:"A\u011F anormal, l\xFCtfen kontrol edin ve tekrar deneyin",uk_UA:"\u041C\u0435\u0440\u0435\u0436\u0430 \u043D\u0435\u043D\u043E\u0440\u043C\u0430\u043B\u044C\u043D\u0430, \u0431\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0442\u0430 \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437",vi_VN:"M\u1EA1ng kh\xF4ng b\xECnh th\u01B0\u1EDDng, vui l\xF2ng ki\u1EC3m tra v\xE0 th\u1EED l\u1EA1i",zh_CN:"\u7F51\u7EDC\u5F02\u5E38\uFF0C\u8BF7\u68C0\u67E5\u540E\u91CD\u8BD5",zh_TW:"\u7DB2\u8DEF\u7570\u5E38\uFF0C\u8ACB\u6AA2\u67E5\u5F8C\u91CD\u8A66"},at=Ho;a();c();var Yo={ar_EH:"\u0627\u0644\u062E\u0627\u062F\u0645 \u0645\u0634\u063A\u0648\u0644 \u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649 \u0644\u0627\u062D\u0642\u064B\u0627",cs_CZ:"Server je zanepr\xE1zdn\u011Bn\xFD, zkuste to pros\xEDm pozd\u011Bji",de_DE:"Server ist besch\xE4ftigt, bitte versuchen Sie es sp\xE4ter erneut",en_US:"Server is busy, please try again later",en:"Server is busy, please try again later",es_419:"El servidor est\xE1 ocupado, por favor intente de nuevo m\xE1s tarde",es_ES:"El servidor est\xE1 ocupado, por favor intente de nuevo m\xE1s tarde",fr_FR:"Le serveur est occup\xE9, veuillez r\xE9essayer plus tard",id_ID:"Server sibuk, silakan coba lagi nanti",it_IT:"Il server \xE8 occupato, si prega di riprovare pi\xF9 tardi",nl_NL:"Server is bezet, probeer het later opnieuw",pl_PL:"Serwer jest zaj\u0119ty, spr\xF3buj ponownie p\xF3\u017Aniej",pt_BR:"O servidor est\xE1 ocupado, por favor tente novamente mais tarde",pt_PT:"O servidor est\xE1 ocupado, por favor tente novamente mais tarde",ro_RO:"Serverul este ocupat, v\u0103 rug\u0103m s\u0103 \xEEncerca\u021Bi din nou mai t\xE2rziu",ru_RU:"\u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043D\u044F\u0442, \u043F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435",tr_TR:"Sunucu me\u015Fgul, l\xFCtfen daha sonra tekrar deneyin",uk_UA:"\u0421\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u0439\u043D\u044F\u0442\u0438\u0439, \u0431\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435",vi_VN:"M\xE1y ch\u1EE7 \u0111ang b\u1EADn, vui l\xF2ng th\u1EED l\u1EA1i sau",zh_CN:"\u670D\u52A1\u5668\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5",zh_TW:"\u4F3A\u670D\u5668\u5FD9\u788C\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66"},ct=Yo;a();c();var Qo=e=>{let t=e/1e3;return{ar_EH:`\u062A\u0648\u0642\u0641 \u0627\u0644\u0627\u062A\u0635\u0627\u0644 \u0628\u0627\u0644\u0634\u0628\u0643\u0629 \u060C \u0648\u0642\u062F \u062A\u062C\u0627\u0648\u0632 \u0648\u0642\u062A \u0627\u0644\u0627\u0646\u062A\u0638\u0627\u0631 ${t} \u062B\u0627\u0646\u064A\u0629`,cs_CZ:`P\u0159ipojen\xED k s\xEDti vypr\u0161elo, doba \u010Dek\xE1n\xED p\u0159ekro\u010Dila ${t} sekund`,de_DE:`Netzwerkverbindung abgelaufen, Wartezeit hat ${t} Sekunden \xFCberschritten`,en_US:`Network connection timed out, wait time has exceeded ${t} seconds`,en:`Network connection timed out, wait time has exceeded ${t} seconds`,es_419:`La conexi\xF3n de red ha expirado, el tiempo de espera ha superado los ${t} segundos`,es_ES:`La conexi\xF3n de red ha expirado, el tiempo de espera ha superado los ${t} segundos`,fr_FR:`La connexion r\xE9seau a expir\xE9, le temps d'attente a d\xE9pass\xE9 ${t} secondes`,id_ID:`Koneksi jaringan telah habis waktu, waktu tunggu telah melebihi ${t} detik`,it_IT:`La connessione di rete \xE8 scaduta, il tempo di attesa ha superato i ${t} secondi`,nl_NL:`Netwerkverbinding is verlopen, wachttijd heeft ${t} seconden overschreden`,pl_PL:`Po\u0142\u0105czenie sieciowe przekroczy\u0142o limit czasu, czas oczekiwania przekroczy\u0142 ${t} sekund`,pt_BR:`A conex\xE3o de rede expirou, o tempo de espera excedeu ${t} segundos`,pt_PT:`A conex\xE3o de rede expirou, o tempo de espera excedeu ${t} segundos`,ro_RO:`Conexiunea la re\u021Bea a expirat, timpul de a\u0219teptare a dep\u0103\u0219it ${t} secunde`,ru_RU:`\u0421\u0435\u0442\u0435\u0432\u043E\u0435 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u0438\u0441\u0442\u0435\u043A\u043B\u043E, \u0432\u0440\u0435\u043C\u044F \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u044F \u043F\u0440\u0435\u0432\u044B\u0441\u0438\u043B\u043E ${t} \u0441\u0435\u043A\u0443\u043D\u0434`,tr_TR:`A\u011F ba\u011Flant\u0131s\u0131 zaman a\u015F\u0131m\u0131na u\u011Frad\u0131, bekleme s\xFCresi ${t} saniyeyi a\u015Ft\u0131`,uk_UA:`\u0427\u0430\u0441 \u043E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F \u043D\u0430 \u0437'\u0454\u0434\u043D\u0430\u043D\u043D\u044F \u0437 \u043C\u0435\u0440\u0435\u0436\u0435\u044E \u0432\u0438\u0439\u0448\u043E\u0432, \u0447\u0430\u0441 \u043E\u0447\u0456\u043A\u0443\u0432\u0430\u043D\u043D\u044F \u043F\u0435\u0440\u0435\u0432\u0438\u0449\u0438\u0432 ${t} \u0441\u0435\u043A\u0443\u043D\u0434`,vi_VN:`K\u1EBFt n\u1ED1i m\u1EA1ng \u0111\xE3 h\u1EBFt h\u1EA1n, th\u1EDDi gian ch\u1EDD \u0111\xE3 v\u01B0\u1EE3t qu\xE1 ${t} gi\xE2y`,zh_CN:`\u7F51\u7EDC\u8FDE\u63A5\u8D85\u65F6\uFF0C\u7B49\u5F85\u65F6\u957F\u5DF2\u8D85\u8FC7${t}\u79D2`,zh_TW:`\u7DB2\u8DEF\u9023\u63A5\u903E\u6642\uFF0C\u7B49\u5F85\u6642\u9593\u5DF2\u8D85\u904E${t}\u79D2`}},Sr=Qo;function Ie(){return ct[S.locale]||ct.en}function wr(){return at[S.locale]||at.en}function vr(e=10*1e3){let t=Sr(e);return t[S.locale]||t.en}a();c();var Zo=e=>e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join("-"),br=e=>{if(e==null)return{};let t={};return Object.keys(e).forEach(r=>{let o=Zo(r);t[o]=e[r]}),t},_e=({msg:e,errInfo:t={}})=>{try{b.info(`ontLog: ${e}`,{...t,customConfig:ar})}catch{}};a();c();a();c();var yr=async({url:e,fetchConfig:t,timestampForTest:r,tokenForTest:o})=>{let i=()=>{let p="";return crypto.randomUUID?p=crypto.randomUUID():p=new Date().getTime(),p},n=async p=>{let h="",y=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(p)),W=Array.from(new Uint8Array(y)).map(R=>R.toString(16).padStart(2,"0")).join(""),E=Date.now(),x=r||Math.floor(E/1e3),Ce=Math.floor(x/600%32),q=Math.floor(x/3600%32);for(let R=0;R<32;R++){let ke=(Ce+(q+R)*R)%32;h+=W[ke]}return{key:await crypto.subtle.importKey("raw",new TextEncoder().encode(h),{name:"HMAC",hash:"SHA-256"},!1,["sign"]),timestamp:E}},s=()=>{let p=e.replace("?","");if(["post","put"].includes(t.method)){let h=e.split("?")[0],y=t.body;if(y instanceof FormData){let k=Array.from(y.entries()).map(([W,E])=>`${W}=${E}`).join(",");p=`${h}{${k}}`}else p=`${h}${t.body}`}return p},l=async p=>{let{key:h,timestamp:y}=await n(p),k=s(),W=await crypto.subtle.sign("HMAC",h,new TextEncoder().encode(k));return{signature:btoa(String.fromCharCode(...new Uint8Array(W))),timestamp:y}},u=o||i(),{timestamp:f,signature:g}=await l(u);return{token:u,timestamp:f,signature:g}};var lt="",en=()=>{let t=new Date().getTimezoneOffset()/60;return 0-t},Er=async({requestUrl:e,fetchConfig:t,ontConfig:r,requestNumber:o})=>{let i=en(),n={"App-Type":"web",Accept:"application/json","X-Utc":i,"X-Locale":S.locale,"X-Zkdex-Env":r.dexEnv,"X-Cdn":S.cdnBaseUrl};if(r.needSign){let l=e;if(window.inOKXExtension){let p=new URL(e);l=p.pathname+p.search}let{token:u,timestamp:f,signature:g}=await yr({url:l,fetchConfig:t});n["Ok-Verify-Token"]=u,n["Ok-Timestamp"]=f,n["Ok-Verify-Sign"]=g}if(!window.inOKXExtension){localStorage.simulatedTrading==="1"&&(n["X-Simulated-Trading"]=1);let l=await fe.getDevId();n.Devid=l;let u=await lr(r);u&&(n.Authorization=u);let f=S.getSiteInfo?S.getSiteInfo(!1):void 0;f&&(n["X-Site-Info"]=f),!window.inOKXExtension&&!m()&&!lt&&(lt=v.get("traceId")),n["X-Id-Group"]=`${lt}-c-${o}`}let s=br(r.headers);return{...n,...t.headers,...s}};a();c();var Ae=(e,t)=>{let r={};Object.keys(t).forEach(i=>{t[i]!==null&&t[i]!==void 0&&(r[i]=t[i])});let o=new URLSearchParams(r).toString();return`${e}?${o}`},xr=e=>{let t=Date.now(),r=e.indexOf("?")>-1?"&":"?";return`${e}${r}t=${t}`};a();c();var tn=async e=>{let t=e?.headers?.get("Content-Type")||"",r={};return t.includes("json")&&(r=await e.json()),r},rn=({newToken:e,ontConfig:t,result:r})=>{!m()&&!window.inOKXExtension&&(xe(e),t.onUpdateTokenDone&&t.onUpdateTokenDone(r))},Tr=async(e,t)=>{let{status:r}=e,i={data:await tn(e),status:r};switch(!0){case r===404:return i.data.msg=e.statusText,Promise.reject(i);case(r===401||r===403):return(t.customToLogin||Te)(i),Promise.reject(i);case r>=500:return i?.data?.msg||(i.data.msg=`${Ie()}.`),Promise.reject(i);case(r>=400&&r<500):return i?.data?.msg||(i.data.msg=Ie()),Promise.reject(i);case(r>=200&&r<300):{let n=e.headers.get("x-ok-token");return n&&rn({newToken:n,ontConfig:t,result:i}),i?.data?.code!=0&&!i?.data?.msg&&(i.data.msg=`${Ie()}.`),Promise.resolve(i)}default:return Promise.reject(i)}};var on=e=>{let t={data:{code:P.ERR_TIMEOUT,msg:vr(e.timeout)},status:P.ERR_TIMEOUT};return Promise.reject(t)},nn=()=>{let e={data:{code:P.ERR_CANCELED},status:P.ERR_CANCELED};return Promise.reject(e)},sn=()=>{let e={data:{code:P.ERR_NETWORK,msg:wr()},status:P.ERR_NETWORK};return Promise.reject(e)},Ir=0,z=async({url:e,fetchConfig:t,ontConfig:r,callbackWhenFinished:o})=>{if(r.isBlocked)return Promise.reject(new Error("switching to demo trading"));r.switchingDemoTrading&&le({isBlocked:!0});let i=e;r.withoutTimestamp||(i=xr(e));let n=r.signal,s={controller:null,timeoutId:null,isTriggered:!1};if(!n){s.controller=new AbortController;let u=10*1e3,f=r.timeout||u;s.timeoutId=setTimeout(()=>{s.isTriggered=!0,s.controller.abort()},f)}let l;i.includes("okex.com")&&_e({msg:"URL_includes_okex.com"});try{Ir++;let u=await Er({requestUrl:i,fetchConfig:t,ontConfig:r,requestNumber:Ir}),f=await fetch(i,{method:t.method,headers:u,body:t.body,signal:n||s.controller.signal});l=Tr(f,r)}catch(u){s.isTriggered?l=on(r):u.name==="AbortError"?l=nn():l=sn()}finally{s.timeoutId&&(clearTimeout(s.timeoutId),s={}),o&&typeof o=="function"&&o(l)}return l};var Le={},Oe=async({url:e,options:t={},method:r})=>{let o={method:r},i=e,n=t;n.params&&(i=Ae(e,t.params),delete n.params);let s={...X,...n};if(s.isolate)return z({url:i,fetchConfig:o,ontConfig:s});if(Le[i])return Le[i];let u=z({url:i,fetchConfig:o,ontConfig:s,callbackWhenFinished:()=>{delete Le[i]}});return Le[i]=u,u};var ut=async(e,t={})=>Oe({url:e,options:t,method:"get"});a();c();a();c();var B=({url:e,data:t,ontConfig:r,method:o})=>{let i={method:o,body:t};t instanceof FormData||(t instanceof Blob?i.headers={"Content-Type":t.type}:typeof t=="object"&&(i.body=JSON.stringify(t),i.headers={"Content-Type":"application/json"}));let n={...X,...r};return z({url:e,fetchConfig:i,ontConfig:n})};var ft=async(e,t={})=>{let r=t;if(r.data){let o=r.data;return delete r.data,B({url:e,data:o,ontConfig:r,method:"delete"})}return Oe({url:e,options:t,method:"delete"})};a();c();var an={method:"get"},dt="reqCaches",cn=60,pt=async(e,t={})=>{let r=e,o=t;o.cacheSeconds||(o.cacheSeconds=cn),o?.params&&(r=Ae(e,o.params),delete o.params);let i={...X,...o},n=ce.session.get(dt)||{};return n[r]?n[r]:z({url:r,fetchConfig:an,ontConfig:i,callbackWhenFinished:async u=>{let f;try{f=await u}catch(g){f=g}finally{let p={...ce.session.get(dt)||{},[r]:f};ce.session.set(dt,p,o.cacheSeconds)}}})};a();c();var gt=(e,t,r={})=>B({url:e,data:t,ontConfig:r,method:"post"});a();c();var mt=(e,t,r={})=>B({url:e,data:t,options:r,method:"put"});a();c();var ht=(e,t,r={})=>B({url:e,data:t,ontConfig:r,method:"patch"});var al={get:ut,getWithCache:pt,delete:ft,post:gt,put:mt,patch:ht,jsonp:hr,isLogin:ot,checkIsLogin:dr,toLogin:Te,saveLoginState:xe,clearLoginState:nt,getLoginRemainingTime:pr,getEid:fr,setOntConfig:e=>{_e({msg:"setOntConfig",errInfo:e}),le(e)},dangerouslySetOntConfig:le,getDeviceId:()=>(v.get("with-okfe-extension")&&console.warn("please use ont.getDevId to replace getDeviceId"),fe.getDeviceId()),getDevId:fe.getDevId,STATUS_CODE:P};export{al as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-FYE3XUPR.js.map
