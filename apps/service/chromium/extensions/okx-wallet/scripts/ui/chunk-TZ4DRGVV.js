import{a as Se}from"./chunk-WVLQP46O.js";import{a as Le}from"./chunk-EADI45MC.js";import{a as be}from"./chunk-KLQLZF6P.js";import{a as ve}from"./chunk-XZD4GKLJ.js";import{b as Ae}from"./chunk-QHPYMFK2.js";import{d as Lt,g as Ie}from"./chunk-F4XZWNG2.js";import{a as Ne}from"./chunk-G6PPKZHQ.js";import{a as Te}from"./chunk-2P7I7CKT.js";import{d as at}from"./chunk-4X3SKD2N.js";import{a as xe}from"./chunk-OGS4HURJ.js";import{h as St,i as Ce}from"./chunk-HZPID3WW.js";import{a as ge}from"./chunk-HZNY4MK4.js";import{f as ye}from"./chunk-74FNJDB7.js";import{a as he}from"./chunk-GOMM7VSE.js";import{a as Tt}from"./chunk-MZFOYMI4.js";import{b as R}from"./chunk-JRZXGORL.js";import{q as T}from"./chunk-IRNZUYU4.js";import{o as Pt}from"./chunk-AUURQ3HI.js";import{Cb as pe,Eb as fe,Fb as _e,cc as de,h as se}from"./chunk-B32MCU7F.js";import{t as me}from"./chunk-2BGRD7AD.js";import{c}from"./chunk-AIPMH74P.js";import{Ac as fo,Bc as ae,Cc as _o,Dc as le,Ec as ce,Hc as At,Ib as tt,Jb as Dt,Jc as ue,Rc as W,Y as gt,_a as xt,_c as yo,da as ee,hc as po,pa as oe,sa as re,yc as ie}from"./chunk-Q23SA7M6.js";import{A as Ot,K as It,Q as ne,c as Ct,o as ht,q as ot,r as kt}from"./chunk-E44TZGUB.js";import{A as Xt,B as Kt,F as Jt,oa as Mt}from"./chunk-KBQXBPIW.js";import{L as te,O as k,h as dt,l as D,w as I,x as yt}from"./chunk-364XNTHB.js";import{H as et,ca as F}from"./chunk-W7JONHX2.js";import{a as w}from"./chunk-PDSGFBX4.js";import{f as x,o,q as r}from"./chunk-FJHLV356.js";o();r();var S=x(w()),co=x(et());k();o();r();var lt=x(w()),bt=x(Pt());k();xt();o();r();var Ee={root:"_root_1n01c_1"};var go="HAS_CLOSED_REGISTER_PI_ALERT";function xo({coinId:t}){let e=Ae(),s=ge(re),[i,n]=(0,lt.useState)({needRegister:!1,alertMessage:"",url:""}),[a,l]=(0,bt.useSessionStorageState)(go,{defaultValue:!1}),m=()=>{l(!0)},{loading:p}=(0,bt.useRequest)(async()=>{let{coin:L,baseCoin:C}=await e(t,!0);if(!Se(C.coinId||t))return;let{status:O,alertMessage:M="",url:_}=await Le({chainId:L.chainId,address:s}),U=O===me.NOT_STARTED;n({needRegister:U,alertMessage:M,url:_})},{ready:!a}),g=()=>{te(i.url)};return!a&&!p&&i.needRegister&&lt.default.createElement(c.Box,{className:Ee.root},lt.default.createElement(Ct,{title:i.alertMessage,onClose:m,onConfirm:g,confirmText:I("wallet_extension_transfer_alertbanner_textbtn_pi_verify")}))}var Be=xo;o();r();o();r();var Nt=x(w()),Oe=x(et());o();r();var q=x(w()),$t=x(et());k();o();r();o();r();var we="";var Fe=we;o();r();var V=x(w());k();o();r();var Me=({symbol:t="",address:e="",tag:s="",aggregation:i=!1,message:n=""})=>{let a="receive-content";return V.default.createElement(c.FlexBox,{direction:c.DIRECTION.horizontal,className:`${a}__card__info`},V.default.createElement(c.FlexBox,{className:`${a}__card__title`,direction:c.DIRECTION.vertical},V.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:`${a}__card__text`},V.default.createElement(T.Text,{strong:700,ellipsis:{tooltip:!0},size:T.SIZE.lg},t),i&&V.default.createElement(ne,{className:`${a}__card__tag`},s)),V.default.createElement(T.Address,{forceWrap:!0,address:e,desensitize:!1,size:T.SIZE.sm,style:{color:"var(--okd-color-content-contrast)"},copyable:{className:`${a}__copy__button`,message:n,customButtonComponent:(0,V.useCallback)(l=>V.default.createElement(F,{...l,category:F.CATEGORY.fill,type:F.TYPE.primary,size:F.SIZE.xs},I("commonall_modal_btn_copy")),[])}})))};o();r();o();r();var Gt=x(w());var Co=({QRCodeAddress:t,coinLogo:e})=>Gt.default.createElement(c.FlexBox,{justify:"center"},Gt.default.createElement(It,{padding:"8px",text:t,level:It.LEVEL.L,type:It.TYPE.svg,size:224,cornersDotOptions:{type:"dot"},cornersSquareOptions:{type:"dot"},dotsOptions:{type:"dots"},imageSettings:{src:e,imageSize:.5}})),De=Co;var ke=De;function ho(t){let{title:e,symbol:s="",coinLogo:i="",chainName:n="",walletAddress:a="",aggregation:l=!1,QRCodeAddress:m="",children:p,cardClassName:g="",message:f="",tag:L=""}=t,C="receive-content";return q.default.createElement(c.Box,{className:(0,$t.default)(C,Fe)},q.default.createElement(c.Box,{className:(0,$t.default)(`${C}__qrcode__card`,g)},q.default.createElement(ke,{QRCodeAddress:m,coinLogo:i}),q.default.createElement(T.Text,{size:T.SIZE.sm,align:T.ALIGN.center,type:T.TYPE.secondary,style:{color:"var(--okd-color-content-contrast)",width:"100%",marginTop:"12px",marginBottom:"12px",fontWeight:"500"}},e||yt("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:q.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},n)})),p),q.default.createElement(Me,{symbol:s,tag:L,address:a,aggregation:l,message:f}))}var zt=ho;o();r();var Io=({children:t,className:e="",style:s,content:i={},navigator:n={},hideContent:a=!1,hideNavigator:l=!1,slot:m={}})=>{let p="receive-container",{top:g}=m;return Nt.default.createElement(c.Container,{className:(0,Oe.default)(p,e),style:s},!l&&Nt.default.createElement(he,{...n,className:`${p}__navigator`}),g,!a&&Nt.default.createElement(zt,{...i}),t)},Wt=Io;o();r();o();r();var X=x(w()),Ve=x(et());o();r();var Rt=x(w());o();r();Mt();k();o();r();var $="LEGAL",d="DIGITAL";var vt=t=>{typeof t!="string"&&(t=t.toString());let e=t?.length;return e<6?56:e>=6&&e<=7?48:e>=8&&e<=9?36:e>=10&&e<12?32:e===12?28:e>=13&&e<=15?24:e>=16&&e<=18?20:e>=19&&e<=24?16:12};var H=(t,e)=>{if(!e)return t;let s=D.pow(10,e);return D.div(Math.floor(D.mul(t,s)),s)},Ao=2,Et=(t,e,s,i)=>{let n=t===d?e:D.div(e,s),a=t===d?D.mul(e,s):e;return[i?H(n,i):n,H(a,Ao)]},Pe=t=>{if(typeof t=="object"){let{mode:e=d,value:s}=t,i=e||d,n=i===d?s?.[0]:s?.[1]||0;return{mode:i,value:n,thousandthValue:D.thousandFormat(n)}}return{mode:d,value:t||0,thousandthValue:D.thousandFormat(t||0)}},ct=(t,e=0)=>t?D.thousandFormat(H(t,e)):0;function Ge(t,e=16){let i=document.createElement("canvas").getContext("2d");i.font=`700 ${e}px ${be.fontFamily}`;let n=i.measureText(t),a=Math.abs(n.actualBoundingBoxLeft)+Math.abs(n.actualBoundingBoxRight);return Math.max(n.width,a)}var $e=t=>typeof t=="string"&&t.startsWith("0")&&!t.startsWith("0.")?t.slice(1):t,ze=t=>t?.split(".")?.[0]?.length>=30,We=(t,e)=>t?.split(".")?.[1]?.length>e;var ut=(t,e)=>t?.symbol&&Kt(t?.symbol)&&t?.symbol?.length>e?`${t?.symbol?.slice(0,e)}...`:t?.symbol;var To=({value:t,precision:e,symbol:s,autoSize:i})=>{let n=(0,Rt.useMemo)(()=>{if(!t)return"0";let a="(,|.)$",l=new RegExp(a).test(t);return`${ct(t,t.endsWith("0")?0:e)}${l?".":""}`},[t,e]);return(0,Rt.useMemo)(()=>{let a=ut({symbol:s},12),l=(i||vt)(`${n}${a}`),m=Ge(n,l);return[l,m]},[s,n])},Bt=To;o();r();var Re={input_symbol:"_input_symbol_15l00_1",inputSymbol:"_input_symbol_15l00_1"};var So=({symbol:t,decimals:e,value:s,autoSize:i,placeholder:n,style:a={},disabled:l=!1,onChange:m,symbolClassName:p="",max:g=Number.MAX_VALUE,justify:f="center",align:L=c.ALIGN.center,clickSymbolFocus:C=!1})=>{let[b,O]=Bt({value:s,precision:e,symbol:t,autoSize:i}),[M,_]=(0,X.useState)(null);return X.default.createElement(c.FlexBox,{justify:f,align:L,style:{fontSize:b,height:"74px",fontWeight:700,position:"relative",maxWidth:"100%",...a}},X.default.createElement(ot.Number,{onRef:_,min:0,autoFocus:!0,disabled:l,enableMinus:!1,max:g,precision:e,value:s,placeholder:n,onChange:m,style:{width:O},innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core"}),X.default.createElement(T.Text,{inherit:!0,className:(0,Ve.default)(Re.input_symbol,p),onClick:()=>{C&&M&&M.focus()}},t))},Lo=X.default.memo(So);o();r();var A=x(w()),pt=x(et());k();o();r();var N=x(w()),Ue=x(et());Mt();k();var bo=(t,e)=>{let{defaults:s,alls:i}=Xt(t,({currencyId:n})=>n===e?.currencyId?"defaults":"alls");return[{type:"default",options:s,title:I("wallet_extension_send_item_default")},{type:"all",options:i,title:I("wallet_extension_send_item_all")}]},No=({value:t,options:e,defaultCurrency:s,onChange:i})=>{let[n,a]=(0,N.useState)(""),l=(0,N.useCallback)(f=>{a(f.target.value)},[]),m=(0,N.useMemo)(()=>e.filter(f=>f.isoCode?.toUpperCase()?.indexOf(n?.toUpperCase())>-1),[n,e]),p=bo(e,s),g=I("wallet_extension_send_input_search_fiat");return N.default.createElement(c.Box,{className:"select-fiat-currency"},N.default.createElement(c.Box,{className:"select-fiat-currency__search"},N.default.createElement(ot.Search,{value:n,placeholder:g,onChange:l,alt:"search"})),n?N.default.createElement(at,{dataSource:m,emptyText:I("wallet_extension_text_noresults"),renderItem:f=>N.default.createElement(at.Cell,{title:f?.isoCode,className:"select-fiat-currency__item",onClick:()=>{i?.(f)}},f?.currencyId===t?.currencyId&&N.default.createElement(kt.Circle,{checked:f?.currencyId===t?.currencyId}))}):N.default.createElement(c.Box,{className:"select-fiat-currency__content"},p.map(({type:f,title:L,options:C})=>N.default.createElement(c.Box,{className:(0,Ue.default)("select-fiat-currency__group",`select-fiat-currency__group__${f}`)},N.default.createElement(T.Text,{size:T.SIZE.xs,className:"select-fiat-currency_title"},L),N.default.createElement(at,{dataSource:C,renderItem:b=>N.default.createElement(at.Cell,{title:b?.isoCode,className:"select-fiat-currency__item",onClick:()=>{i?.(b)}},b?.currencyId===t?.currencyId&&N.default.createElement(kt.Circle,{checked:b?.currencyId===t?.currencyId}))})))))},Qe=N.default.memo(No);o();r();o();r();var v=x(w());k();po();o();r();var Ze=x(Pt());fo();_o();var vo="usd",Eo=5e3,Bo=async t=>{let e={coinIds:[t]},s={headers:{currency:vo}},{data:i}=await ie(ae.postMarketUrl,e,s),{currencyAmount:n}=i[0]||{};return n},wo=t=>{let e=Lt(t,{withPrice:!0}),s=e?.usdPrice,{data:i}=(0,Ze.useRequest)(()=>Bo(t),{pollingInterval:Eo,ready:t!==void 0&&e?.coinId!==void 0&&!s});return{...e,coinPrice:s||i||"0"}},Ye=wo;o();r();o();r();var je=(t,e,s)=>{!t&&e&&s?.current?.input?.focus()};var qe=je;var mt=2,Fo=({coinId:t,decimals:e,visible:s,autoFocus:i,maximumMode:n,maximumAmount:a,initialValue:l,flatCurrency:m,onChange:p,switchDisabled:g,onModeChnage:f,onAmountChange:L})=>{let{mode:C,value:b,thousandthValue:O}=Pe(l),M=(0,v.useRef)(),[_,U]=(0,v.useState)(C),[h,P]=(0,v.useState)(b||"0"),[nt,J]=(0,v.useState)(O),[Y,j]=(0,v.useState)(!1),E=Ye(t),y=(0,v.useMemo)(()=>tt(m?.usdToThisRate,E.coinPrice),[m?.usdToThisRate,E.coinPrice]),z=(0,v.useCallback)(dt(async()=>{if(Number(y)&&!g){if(j(!0),await Ne(310),j(!1),_===d){let G=tt(h,y);P(G)}else{let G=Dt(h,y);P(G)}let B=_===$?d:$;U(B),f?.(B)}},300),[_,h,y,E,n,a]),st=(0,v.useCallback)((B,G)=>{h==="0"&&!B||ze(B)||(P(B||"0"),J($e(G?.target?.value||B)),L?.(Et(_,B,y),!0))},[_,h,y]),it=(0,v.useCallback)(()=>{qe(s,i,M)},[s,i]);(0,v.useEffect)(()=>{i&&M?.current?.input?.focus()},[i]),(0,v.useEffect)(()=>{s||M?.current?.input?.focus()},[s]);let _t=(0,v.useMemo)(()=>{let B=_!==d,G=_===d?E.symbol:m?.isoCode,Q=_===$?mt:e||(n?E.decimals:E.orderDecimalNum);return{symbol:G,switchFlatable:B,value:We(h,Q)?H(h,Q):h,precision:_===d?Q:mt,contrastValue:ct(h,_===$?mt:e||E?.vdecimalNum)}},[_,e,h,E,m,n]),Ft=(0,v.useMemo)(()=>{let B=_===d?m?.isoCode:E.symbol,G=_===d,Q;return n?Q=_===d?tt(h,y):a:Q=_===d?tt(h,y):Dt(h,y),{value:ct(Q,_===d?mt:e||E?.orderDecimalNum),symbol:B,switchFlatable:G}},[_,m,n,e,E,h,a,y]);return(0,v.useEffect)(()=>{!n||_===$&&!Number(y)||P(_===d?a:H(tt(a,y),mt))},[n,a,y]),(0,v.useEffect)(()=>{let B=Et(_,h,y);n&&(B=[a,H(D.mul(a,y),2)]),L?.(B),p?.({mode:_,coin:E,flatCurrency:m,flatCurrencyId:m?.currencyId,value:Et(_,h,y,E.vdecimalNum)})},[_,y,h,n,a]),[{inputRef:M,realInput:nt,inputEnter:_t,contrastEnter:Ft,switchAnimating:Y,switchModeable:!!Number(y)},{onInputBlur:it,onInputChange:st,onSwitchPricingMode:z}]},Vt=Fo;o();r();k();var Ut=x(de()),rt=x(w());var Mo=(t,e)=>{let{flatCurrencyId:s}=t||{},[i,n]=(0,rt.useState)(!1),a=(0,Ut.useSelector)(_e),l=(0,Ut.useSelector)(fe),m=s&&a.find(({currencyId:C})=>C===s),[p,g]=(0,rt.useState)(m||l),f=(0,rt.useCallback)(dt(C=>{n(typeof C=="boolean"?C:b=>!b)},300),[]),L=(0,rt.useCallback)(C=>{g(C),f(!1),e?.(C)},[]);return[{visible:i,options:a,flatCurrency:p,defaultCurrency:l},{onToggleVisible:f,onFlatCurrencyChange:L}]},Qt=Mo;o();r();var Zt=(0,A.forwardRef)(({coinId:t,onChange:e,precision:s,disabled:i=!1,autoFocus:n=!0,decimals:a,maximumMode:l,maximumAmount:m,onAmountChange:p,onModeChnage:g,onFlatChange:f,initialValue:L,className:C,...b},O)=>{let[{visible:M,options:_,flatCurrency:U,defaultCurrency:h},{onToggleVisible:P,onFlatCurrencyChange:nt}]=Qt(L,f),J=i&&typeof i=="boolean"?i:i?.input,Y=i&&typeof i=="boolean"?i:i?.switch,[{inputRef:j,realInput:E,inputEnter:y,contrastEnter:z,switchModeable:st,switchAnimating:it},{onInputChange:_t,onSwitchPricingMode:Ft,onInputBlur:B}]=Vt({coinId:t,visible:M,decimals:a,autoFocus:n,maximumMode:l,initialValue:L,maximumAmount:m,flatCurrency:U,onChange:e,switchDisabled:Y,onAmountChange:p,onModeChnage:g});(0,A.useImperativeHandle)(O,()=>({setInputAmount:_t}));let G=ut(y,12),Q=ut(z,6),[Ht,uo]=Bt(y),mo=(0,A.useMemo)(()=>vt(`${z.value}${z.symbol}`),[z.value,z.symbol]);return A.default.createElement(c.Box,{className:(0,pt.default)("coinAmount__input",C),...b},A.default.createElement(c.FlexBox,{className:"coinAmount__input__main-box",justify:"center",align:c.ALIGN.center,style:{fontSize:Ht}},A.default.createElement(Ot,{maxWidth:"280",title:Ht===12&&A.default.createElement(T.Text,{inherit:!0,wrap:!0},`${E} ${y.symbol}`)},A.default.createElement(c.FlexBox,{className:(0,pt.default)("coinAmount__input__input__enter",{coinAmount__input__input__enter__animation:it})},it?A.default.createElement(T.Text,{className:"coinAmount__input__input__enter__text",ellipsis:!0},y.contrastValue):A.default.createElement(ot.Number,{min:0,disabled:J,enableMinus:!1,autoFocus:!0,ref:j,max:Number.MAX_VALUE,precision:typeof s=="number"?s:y.precision,style:{width:uo},value:y.value,onChange:_t,innerClassName:"coinAmount__input__box",inputClassName:"coinAmount__input__core",onBlur:B}),A.default.createElement(c.Box,{className:"coinAmount__input__main__symbol",onClick:y.switchFlatable?P:()=>{j?.current?.input?.focus()}},G,y.switchFlatable&&A.default.createElement(R,{size:R.SIZE.sm,icon:"okx-wallet-plugin-select-unfold",className:"coinAmount__input__legal__icon"})))),A.default.createElement(R.IconButton,{hovered:!1,size:R.SIZE.lg,tooltip:!st||Y?{title:I("wallet_extension_receive_tooltip_not_support"),maxWidth:"350px",placement:Ot.DIRECTION.bottomLeft}:!1,className:(0,pt.default)("coinAmount__input__swtich__mode",{coinAmount__input__swtich__mode__disabled:Y||!st,coinAmount__input__swtich__mode__abled:st&&!Y}),icon:"okx-wallet-plugin-exchange",onClick:Ft})),A.default.createElement(c.FlexBox,{className:"coinAmount__input__sub__box",justify:"center",style:{fontSize:mo}},A.default.createElement(c.FlexBox,{align:c.ALIGN.center,className:(0,pt.default)("coinAmount__input__contrast__enter",{coinAmount__input__contrast__enter__animation:it}),onClick:z.switchFlatable?P:()=>{}},A.default.createElement(T.Text,{className:"coinAmount__input__contrast__enter__text",ellipsis:!0},z?.value),A.default.createElement(c.Box,{className:"coinAmount__input__sub__box__symbol"},Q,z.switchFlatable&&A.default.createElement(R,{className:"coinAmount__input__legal__icon",size:R.SIZE.sm,icon:"okx-wallet-plugin-select-unfold"})))),A.default.createElement(ht,{isFull:!0,noMargin:!0,noContentPadding:!0,visible:M,title:I("wallet_extension_send_title_select_fiat"),onClose:P},A.default.createElement(Qe,{value:U,options:_,defaultCurrency:h,onChange:nt})))});Zt.LEGALMODE=$;Zt.DIGITALMODE=d;var Yt=A.default.memo(Zt);yo();o();r();var Z=x(w());k();var Do=({coinId:t,visible:e,initialValue:s,onToggleVisible:i,onConfirm:n})=>{let[a,l]=(0,Z.useState)({});return Z.default.createElement(ht.Action,{zIndex:10003,titleCenter:!0,visible:e,containerClassName:"receive_amount__container",scrollBoxClassName:"receive_amount__scrollBox",title:I(s?.mode?"wallet_extension_receive_title_modify_amount":"wallet_extension_receive_title_set_amount"),className:"receive__set_receive_amount",onClose:i},Z.default.createElement("div",{className:"receive__set_receive_amount__body"},Z.default.createElement(Yt,{className:"receive__set_receive_amount__input",coinId:t,onChange:l,initialValue:s})),Z.default.createElement(Tt.FooterActions,{affixStyle:{position:"static"},style:{backgroundColor:"inherit"}},Z.default.createElement(F,{size:F.SIZE.lg,type:F.TYPE.highlight,category:F.CATEGORY.fill,disabled:!Number(a?.value?.[0]),onClick:()=>{n(a)}},I("wallet_extension_receive_btn_confirm"))))},He=Z.default.memo(Do);o();r();o();r();var ko=()=>null,Xe=ko;var Ke=Xe;o();r();ue();var Oo=(t,e)=>{let i=St(t)[e],n=At[i];return i&&n&&n===le.SEGWIT_TAPROOT},Je=Oo;o();r();var to=x(Pt());k();xt();ue();var Po=(t,e)=>{let s=Te(),i=s.get("coinId"),n=Lt(t||+i),a=St(gt),l=Ce(),[,m]=Ie(t||+i),p=s.get("addressType")||a[e]||l[e],g=xe(n?.localType),f=e||(p?a[p]||l[p]:g),L=p?I(ce[At[p]]):n?.chainName,C=p?!0:n?.aggregation,b=n?.image,O=n&&p?ve(I,p,m?.symbol):"";return(0,to.useCreation)(()=>n?.coinId?{...n,receiveAddress:f,coinLogo:b,aggregation:C,addressType:p,copyMessage:O,tag:L}:null,[p,C,L,n,b,O,f])},eo=Po;o();r();var jt=x(w());Mt();xt();o();r();var oo=(t={})=>Object.entries(t).filter(([,e])=>!!e).map(([e,s])=>`${e}=${s}`).join("&"),ro=t=>{typeof t!="string"&&(t=t.toString());let e=t?.length;return e<16?28:e>=17&&e<=21?22:e>=22&&e<=26?18:14};var Go=({baseCoinId:t,receiveState:e,walletAddress:s,address:i,localType:n,chainName:a})=>{let l=(0,jt.useMemo)(()=>{switch(n){case ee:case oe:return"";default:return`${a?.trim()?.toLowerCase()}:`}},[a,n]);return(0,jt.useMemo)(()=>{let{mode:p,value:g,flatCurrency:f}=e||{};if(Jt(g))return s;let C={token:t===0?!1:i,amount:g?.[0]||0,currency:p!==d?f?.isoCode:!1,valuation:p!==d?g?.[1]:!1},b=oo(C);return`${l}${s}?${b}`},[e,s,i,l])},no=Go;o();r();var wt=x(w()),so=x(de());k();xt();var $o=({localType:t,chainName:e})=>{let{keyringIdentityType:s}=(0,so.useSelector)(pe);return(0,wt.useMemo)(()=>t===gt&&ye(s)?I("extension_wallet_receive_text_supported_only"):yt("wallet_extension_toast_send_only_network_assets_tothis_address",{chain_name:wt.default.createElement("span",{style:{color:"var(--okd-color-content-primary)"}},e)}),[t,e])},io=$o;o();r();var K=x(w()),zo=()=>{let[t,e]=(0,K.useState)({}),[s,i]=(0,K.useState)(!1),n=(0,K.useCallback)(()=>{i(m=>!m)},[]),a=(0,K.useCallback)(m=>{n(),e(m)},[]),l=(0,K.useCallback)(()=>{e({})},[]);return[{visible:s,receiveState:t},{onConfirm:a,onClearState:l,onToggleVisible:n}]},ao=zo;o();r();o();r();var lo={"alert-container":"_alert-container_135n4_1",alertContainer:"_alert-container_135n4_1"};o();r();var ft=x(w());k();function qt({coin:t,address:e,className:s}){let i=t?.chainId&&se(t),[n,a]=(0,ft.useState)(window.sessionStorage.getItem("notTaprootReceiveTipClosed")),l=/^(bc1p)/.test(e);return!!i&&ft.default.createElement("div",{className:s},!l&&!n&&ft.default.createElement(Ct,{title:I("wallet_extension_cat_alertbanner_only_taproot",{contractName:I("wallet_extension_cat_icu_cat"),contractType:I("wallet_extension_cat_icu_taproot")}),onClose:()=>{a(!0),window.sessionStorage.setItem("notTaprootReceiveTipClosed",!0)}}))}var Wo=({mode:t,value:e,coin:s,flatCurrency:i,onClear:n})=>{let[a,l]=e||[],m=(0,S.useMemo)(()=>{let f=D.thousandFormat(t===d?a:l);return`${t===d?"":i.symbol}${f} ${t===d?s?.symbol:""}`},[t,a,l,i?.symbol,s?.symbol]),p=(0,S.useMemo)(()=>{let f=D.thousandFormat(t===d?l:a);return`${t===$?"":i.symbol}${f}`},[t,a,l,i?.symbol]),g=t===d?"":s?.symbol;return S.default.createElement(c.FlexBox,{direction:c.DIRECTION.vertical,align:c.ALIGN.center,className:"receive__state"},S.default.createElement(T.AdaptiveText,{className:"receive__state__maintitle",strong:700,fontSize:"28px",text:m,autoSize:ro},m),S.default.createElement(c.FlexBox,{justify:"center",align:c.ALIGN.center,className:"receive__state__subtitle"},S.default.createElement(T.Text,{className:"receive__state__subtitle__text",strong:!0,ellipsis:{tooltip:S.default.createElement(T.Text,{className:"receive__state__subtitle__tooltip",wrap:!0},`\u2248 ${p}`)}},`\u2248 ${p}`),g,S.default.createElement(R.IconButton,{hovered:!1,size:R.SIZE.sm,icon:"okds-fail-circle-fill",className:"receive__state__clear",onClick:n})))},Ro=({address:t,coinId:e,onBack:s,onClose:i,closeable:n=!0,hideNavigator:a})=>{let l=eo(e,t),{localType:m,symbol:p,receiveAddress:g,chainName:f,coinLogo:L,aggregation:C,copyMessage:b,tag:O}=l??{},M=Je(m,g),_=io({localType:m,chainName:f}),[{visible:U,receiveState:h},{onConfirm:P,onClearState:nt,onToggleVisible:J}]=ao(),Y=no({...l??{},receiveState:h,walletAddress:g}),j=!!h?.mode,E=l?.protocolId,y=[W.BRC_20,W.FRACTAL_BRC20,W.BRC_20S,W.SRC_20,W.ARC_20,W.RUNES,W.RUNEMAIN,W.FRACTAL_RUNES,W.CAT_20].includes(E);return l?S.default.createElement(Wt,{style:{overflow:U?"hidden":"auto"},navigator:{bordered:!1,onBack:s,onClose:i,closeable:n},content:{symbol:p,coinLogo:L,chainName:f,tag:O,aggregation:C,QRCodeAddress:Y,title:_,walletAddress:g,cardClassName:(0,co.default)({receive__qrcode__card__has__amount:j}),message:b,children:S.default.createElement(S.default.Fragment,null,j&&S.default.createElement(Wo,{...h,onClear:nt}))},hideNavigator:a,slot:{top:S.default.createElement(S.default.Fragment,null,S.default.createElement(Be,{coinId:l.coinId}),S.default.createElement(qt,{coin:l,address:g,className:lo.alertContainer}))}},S.default.createElement(Tt.FooterActions,{className:"receive__footer-action",affixStyle:{position:"absolute",bottom:0,left:"unset",transform:"unset",width:"100%",zIndex:2}},S.default.createElement(Ke,{...l??{},...h}),S.default.createElement(F,{size:F.SIZE.lg,type:F.TYPE.highlight,category:F.CATEGORY.fill,onClick:J,disabled:M||y},I(h?.mode?"wallet_extension_receive_btn_modify_amount":"wallet_extension_receive_btn_set_amount"))),S.default.createElement(He,{...l,visible:U,onConfirm:P,onToggleVisible:J,initialValue:h})):null},Fa=S.default.memo(Ro);export{Be as a,Wt as b,$ as c,Lo as d,Ye as e,Yt as f,qt as g,Fa as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-TZ4DRGVV.js.map
