import{a as pt}from"./chunk-SZ4UI522.js";import"./chunk-4WN6OBDI.js";import{a as xe}from"./chunk-GA4UQZOX.js";import"./chunk-M77US3Y3.js";import{a as j,d as mt,e as ct}from"./chunk-C7C6DGOY.js";import{b as lt}from"./chunk-NORQ4E6Q.js";import{a as at,b as Ie}from"./chunk-KLQ5LRUF.js";import{a as ut}from"./chunk-JRG4NOOA.js";import{c}from"./chunk-5NZYX7T6.js";import"./chunk-FYV4ZBAP.js";import{f as ve}from"./chunk-L7GCSSD7.js";import"./chunk-TXAI4LDH.js";import"./chunk-STJAOWLL.js";import"./chunk-QTWRPB4V.js";import"./chunk-V4H2MEPY.js";import{F as st,H as it}from"./chunk-WCLMZJ77.js";import"./chunk-BNJC2TPG.js";import{b as Me,c as me,l as nt}from"./chunk-DQ2IBJ6G.js";import{b as S,d as z}from"./chunk-IYVZOFWF.js";import{a as q,d as rt,f as we}from"./chunk-O43TNQSD.js";import{$a as et,U as Ze,V as K,W as Le,X as Qe,Za as Je,_a as Ke,ab as tt,wb as ot}from"./chunk-LUYLQDIU.js";import{l as v}from"./chunk-ZOUFDRHZ.js";import{n as _}from"./chunk-QZXD2Q4G.js";import"./chunk-ROB5HGLC.js";import{a as Xe}from"./chunk-VLKJDIZ5.js";import{A as Ge,c as J,d as $e,g as ae}from"./chunk-E44TZGUB.js";import{fa as Fe,j as Te,oa as Ae}from"./chunk-KBQXBPIW.js";import{O as to,l as De}from"./chunk-364XNTHB.js";import{Z as Pe,ca as U}from"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as x}from"./chunk-PDSGFBX4.js";import"./chunk-3CPUV3E7.js";import{f as d,o as n,q as s}from"./chunk-FJHLV356.js";n();s();var y=d(x()),eo=d(Xe()),Ve=d(z());n();s();var P=d(x());var oo=()=>{let{HeaderTip:e}=_.components,{walletContractStore:o,fromToStore:t,quoteStore:i}=c(),{noCurrentPathTipInfo:{visible:r,bridgeName:a}}=i,{gasInfo:m,gasLimitError:u,starknetRegisterStatus:l,setVisibleStarknetRegister:f,computedPriceUpdate:g,computedSolonaNativeTokenSufficientRent:T,solonaRent:w,gasFee:I,nativeCoin:h,compuletedGetNativeCoinError:E,compuletedGetNativeCoinLoading:C,computedTipsBtnProps:b}=o,{from:N}=t,{symbol:G}=h??{},F={type:J.TYPE.error,renderGasStation:!1},D=()=>P.default.createElement(e,{type:J.TYPE.warn,message:S("swaptrade_extension_cinteraction_insufficient_networkfee",{symbol:G}),actions:[b],renderGasStation:!1}),A=()=>P.default.createElement(e,{...F,message:S("swaptrade_extension_cinteraction_might_error")}),B=()=>P.default.createElement(e,{...F,type:J.TYPE.warn,message:S("swaptrade_xrouting_dialog_market_fluctuations_default",{value:a})}),R=()=>P.default.createElement(e,{...F,message:u}),$=()=>P.default.createElement(e,{...F,message:P.default.createElement(P.default.Fragment,null,P.default.createElement("p",null,S("swaptrade_extension_errortip_address_not_registered")),P.default.createElement(ae,{type:ae.TYPE.primary,weight:ae.WEIGHT.muted,size:ae.SIZE.xs,onClick:()=>{f(!0)}},S("swaptrade_extension_textbtn_registor_now")))}),X=()=>P.default.createElement(e,{...F,type:J.TYPE.warn,message:S("swaptrade_extension_errortip_chainname_address_registering",{chainName:N.chainName})}),Z=()=>P.default.createElement(e,{actions:[b],renderGasStation:!1,message:S("swaptrade_transfer_textarea_quote_expired")}),Q=()=>P.default.createElement(e,{actions:[b],type:J.TYPE.warn,renderGasStation:!1,message:S("swaptrade_extension_solana_insufficient_sol_balance",{number:we(q.BigNumber(w||0).plus(I).toFixed(9),{sigFigs:9})})});if(C)return null;if(E)return P.default.createElement(e,{...F,message:S("swaptrade_history_error_retrieve_balance_error")});if(l===_.global.RegisterLocalStatusEnum.NOT_STARTED)return $();if(l===_.global.RegisterLocalStatusEnum.PROCESSING)return X();if(u)return R();if(o.computedIsSufficientGas&&m?.gasLimitInfo?.queryGasLimitErrorUseDefault)return A();if(T)if(o.computedIsSufficientGas){if(r)return B();if(g)return Z()}else return D();else return Q();return null},ft=v(oo);n();s();var ce=d(x());n();s();var dt={gap:"_gap_lzws5_1"};var ro=()=>{let{commonStore:e}=c(),{currentTab:o}=e,t=o===ot.SWAP;return{image:{light:t?Je():et(),dark:t?Ke():tt()},title:{text:t?S("swaptrade_top_segmentedctl_swap"):S("swaptrade_bridge_order_title_bridge")}}},no=({fromList:e,toList:o})=>{let{components:{MultipleChangeSummary:t,TxTypeWithTools:i}}=_,r=ro();return ce.default.createElement(i,{txTypeInfo:{baseInfo:r}},ce.default.createElement("div",{className:dt.gap},ce.default.createElement(t,{title:S("swaptrade_orders_label_sell"),summaryList:e}),ce.default.createElement(t,{title:S("swaptrade_orders_label_receive"),summaryList:o})))},_t=v(no);n();s();var k=d(x()),We=d(z());n();s();var O=d(x()),gt=d(z());n();s();var W={"chain-logos":"_chain-logos_11m0k_1",chainLogos:"_chain-logos_11m0k_1","bridge-logo":"_bridge-logo_11m0k_2",bridgeLogo:"_bridge-logo_11m0k_2",w100:"_w100_11m0k_15","icon-color":"_icon-color_11m0k_18",iconColor:"_icon-color_11m0k_18",exchange:"_exchange_11m0k_26","increase-weight":"_increase-weight_11m0k_26",increaseWeight:"_increase-weight_11m0k_26",icon:"_icon_11m0k_18","show-data-icon":"_show-data-icon_11m0k_54",showDataIcon:"_show-data-icon_11m0k_54","visible-set":"_visible-set_11m0k_58",visibleSet:"_visible-set_11m0k_58",rotate:"_rotate_11m0k_1","call-data":"_call-data_11m0k_61",callData:"_call-data_11m0k_61"};var so=({bridge:e})=>{let o=(0,O.useRef)(null),[t,i]=(0,O.useState)(null);return(0,O.useEffect)(()=>{let r=o.current;if(r){let a=r.getBoundingClientRect().width;i(a)}},[e]),O.default.createElement("div",{ref:o,className:(0,gt.default)("flex align-items-center justify-content-start",W.w100)},O.default.createElement($e,{className:W.bridgeLogo,src:e?.bridgeLogoUrl,alt:e?.bridgeName,width:20,height:20}),O.default.createElement(j,{maxWidth:t,text:e?.bridgeName}))},St=so;n();s();var L=d(x()),Tt=d(z());var io=({networks:e})=>{let o=(0,L.useRef)(null),[t,i]=(0,L.useState)(null);return(0,L.useEffect)(()=>{let r=o.current;if(r){let a=r.getBoundingClientRect().width;i(a)}},[e]),L.default.createElement("div",{ref:o,className:(0,Tt.default)("flex align-items-center justify-content-start",W.w100)},L.default.createElement("div",{className:W.chainLogos},e.map(({chainName:r,chainLogoUrl:a})=>L.default.createElement("img",{src:a,alt:`${r}Logo`,key:r}))),L.default.createElement(j,{maxWidth:t,text:e.map(({chainName:r})=>r).join(` ${S("swaptrade_order_info_label_network_to")} `)}))},wt=io;n();s();var le=d(x()),vt=d(Xe());var It=()=>{let e=(0,vt.useLocation)(),{search:o}=e,{needUpdate:t,type:i}=ve(o);return(0,le.useMemo)(()=>({needUpdate:t===Ze.on,type:i}),[t,i])},ee=e=>{let{quoteStore:o,facetStore:t}=c(),i=o?.quote?.bestRoute||{},{fromToken:r,toToken:a,fromTokenAmount:m,receiveAmount:u}=i,{computedFacetOrderTokens:l}=t;return(0,le.useMemo)(()=>e===K.REDEEM?l:{fromToken:{...r,amount:m},toToken:{...a,amount:u}},[e,r,m,a,u,l])},ao=e=>{let{fromToken:o,toToken:t}=ee(e);return(0,le.useMemo)(()=>o.chainId!==t.chainId?[o,t]:[o],[o,t])},xt=e=>{let{quoteStore:o,fromToStore:t,facetStore:i,walletContractStore:r,accountStore:{walletConfig:a,address:m},slippageStore:u}=c(),l=e===K.REDEEM,f=e===K.INTENT_SWAP,{fromToken:g,toToken:T}=ee(e),w=ao(e),I=a?.walletId,{data:h}=r?.transactionPayload||{},{computedFacetOrderFromToRate:E,computedFacetOrderToFromRate:C,computedFacetOrderMinimumReceived:b}=i,{quote:N,computedIsUsingCentralizedBridge:G,enableQuoteAggregates:F}=o,D=N?.bestRoute?.bridge,A=o?.computedIsOfflineType,{name:B,logo:R,estimatedTime:$}=o?.quote?.bestRoute||{},{computedRate:X,computedToFromRate:Z,computedIsBridge:Q,computedIsEvmChain:ge,computedIsFromBtcCoin:V,computedIsCrossChain:Se}=t,{computedMinimumReceived:ze}=u;return(0,le.useMemo)(()=>{let je={walletId:I,address:m,networks:w,data:h,fromToken:g,toToken:T};return l?{rate:E,toFromRate:C,minimumReceived:b,isFromBtcCoin:!1,isEvmChain:!0,hideExchangeBtn:!1,...je}:{estimatedTime:(parseInt($||0,10)/60).toFixed(0)??"--",isIntentBridge:A,computedIsCrossChain:Se,rate:X,toFromRate:Z,minimumReceived:ze,isFromBtcCoin:V,hideExchangeBtn:Q||G,isEvmChain:ge,isIntentSwap:f,bridge:D,enableQuoteAggregates:F,name:B,logo:R,...je}},[I,m,w,h,l,X,Z,ze,V,Q,ge,G,D,E,C,b,g,T,f,F,B,R,$,A,Se])};var mo=({type:e})=>{let{rate:o,toFromRate:t,minimumReceived:i,isFromBtcCoin:r,isEvmChain:a,data:m,walletId:u,address:l,networks:f,bridge:g,hideExchangeBtn:T,fromToken:w,toToken:I,isIntentSwap:h,name:E,logo:C,enableQuoteAggregates:b,estimatedTime:N,computedIsCrossChain:G}=xt(e),{components:{SectionWrap:F,InteractiveAddress:D,ModuleWrap:A,ViewData:B}}=_;return k.default.createElement(k.default.Fragment,null,k.default.createElement(F,null,k.default.createElement(D,{title:S("swaptrade_transfer_textarea_wallet_used"),address:l,walletId:u})),k.default.createElement(F,{bordered:!1},b&&E&&C&&k.default.createElement(A,{title:S("swaptrade_mid_dialog_title_provider")},k.default.createElement("div",{className:"flex"},k.default.createElement(ut,{size:20,logo:C,name:E,className:"ml-8 content-primary font-14"}))),g?.bridgeName&&k.default.createElement(A,{title:S("swaptrade_xrouting_single_chain_routes")},k.default.createElement(St,{bridge:g})),!r&&k.default.createElement(A,{title:S("swaptrade_extension_cinteraction_reference")},k.default.createElement(mt,{contentClassName:(0,We.default)("truncate font-14 font-400"),maxWidth:240,from:w.tokenSymbol,to:I.tokenSymbol,rate:o,toFromRate:t,hideExchangeBtn:T,className:(0,We.default)(W.exchange,W.increaseWeight),iconClassName:W.icon,wrapContentClassName:"justify-start"})),G&&k.default.createElement(A,{title:S("swaptrade_bridge_select_label_est_time")},k.default.createElement(j,{text:S("swaptrade_xrouting_tag_mins",{value:N})})),!r&&k.default.createElement(A,{title:S("swaptrade_card_swap_label3_minimum_receive")},k.default.createElement(j,{text:i})),k.default.createElement(A,{title:S("swaptrade_extension_cinteraction_network")},k.default.createElement(wt,{networks:f})),a&&!h&&m&&k.default.createElement(B,{copyable:{hideDesc:!0},data:m})))},ht=v(mo);n();s();var Y=d(x()),Oe=d(z());n();s();var ue={footer:"_footer_1s2g9_1","button-groups":"_button-groups_1s2g9_4",buttonGroups:"_button-groups_1s2g9_4","button-style":"_button-style_1s2g9_10",buttonStyle:"_button-style_1s2g9_10"};var co=({onChangeHeight:e,type:o})=>{let t=(0,Y.useRef)(null),{walletContractStore:i}=c(),{computedConfirmBtnProps:r,computedCancelBtnProps:a}=i;return(0,Y.useEffect)(()=>{let m=l=>{e&&e(l.offsetHeight)},u=new MutationObserver(l=>{m(l[0]?.target)});return t.current&&(m(t.current),u.observe(t.current,{childList:!0})),()=>{u.disconnect()}},[e]),Y.default.createElement("div",{ref:t,className:(0,Oe.default)(ue.footer)},Y.default.createElement("div",{className:(0,Oe.default)(ue.buttonGroups)},Y.default.createElement(U,{block:!0,circle:!1,className:ue.buttonStyle,size:U.SIZE.lg,category:U.CATEGORY.outline,type:U.TYPE.primary,loading:a.loading,loadingText:a.btnText,disabled:a.disabled,onClick:a.onClick},a.btnText),Y.default.createElement(U,{block:!0,circle:!1,className:ue.buttonStyle,size:U.SIZE.lg,type:U.TYPE.highlight,category:U.CATEGORY.fill,loading:r.loading,loadingText:r.btnText,disabled:r.disabled,onClick:()=>{r.onClick(o)}},r.btnText)))},Et=v(co);n();s();var he=d(x());n();s();var Ct={mev:"_mev_c6yzz_1"};var lo=()=>{let{components:{Mev:e}}=_,{quoteStore:{quote:o},mevStore:t,fromToStore:i,walletContractStore:r}=c(),{bestRoute:a}=o||{},{preExecutionResult:m}=r,{computedIsEvmChain:u}=i,l=a?.isEnableMev,{computedIsMevOpen:f,setMevUserSwitchOpen:g,setMevInfo:T,setWalletMevControl:w,walletMevControl:I}=t,h=!f&&Number(l)===Qe.ON;return(0,he.useEffect)(()=>()=>{w(!1)},[w]),!u||m&&!m.mevInfo?null:he.default.createElement(e,{serverMevInfo:m.mevInfo||{},className:Ct.mev,isMev:I||f,needTooltip:!1,isShowBlockSwapMevTooltip:h,onMevChange:(E,C)=>{Ie.info(at.USER_ON_OR_OFF_MEV_IN_WALLET,{isMev:E}),w(E),g(E?Le.USER_ON:Le.USER_OFF),T(C)}})},bt=v(lo);n();s();var ye=d(x());n();s();var kt=d(x());var uo=e=>{let{walletContractStore:o}=c(),t=pt(e);return(0,kt.useEffect)(()=>{nt(e)&&o.setNativeCoin(t)},[t,e]),{coin:t}},yt=uo;n();s();var Gt=d(x());n();s();var H=d(x());n();s();var pe=d(x()),Ft=d(z());n();s();var Nt={"network-fee-title":"_network-fee-title_16onq_1",networkFeeTitle:"_network-fee-title_16onq_1","tooltip-icon":"_tooltip-icon_16onq_4",tooltipIcon:"_tooltip-icon_16onq_4","gas-type":"_gas-type_16onq_8",gasType:"_gas-type_16onq_8"};var po=({chainName:e,coinSymbol:o})=>{let{quoteStore:t,commonStore:i,fromToStore:r}=c(),{currencyConversion:a,computedNowCurrencySymbol:m}=i,{computedIsCrossChain:u}=r,{estimateBridgeFeeAmount:l,estimateBridgeFeeAmountUsd:f}=t?.quote?.bestRoute?.bridge||{},g=(0,pe.useMemo)(()=>u?S("swaptrade_intro_dialog_desc_cross_fee_notice",{value:S("swaptrade_modal_desc_crosschain_valuediff_variavle",{price:l?rt(a(f).toString(),m):"--",fee:l?`${we(l)} ${o}`:"--"})}):S("swaptrade_extension_tooltip_mining_fee"),[o,u,m,a,l,f]);return pe.default.createElement(Ge,{rebirthPopper:!0,popupProps:{className:"text-center"},maxWidth:200,placement:Ge.DIRECTION.topRight,title:g},pe.default.createElement("span",{className:(0,Ft.default)("font-12 content-contrast",Nt.networkFeeTitle)},S("swaptrade_history_card_text_destination_chain_fee",{chainName:e})))},te=v(po);n();s();var Ce=d(x());var Ee={SLOW:"slow",STANDARD:"standard",FAST:"fast",CUSTOM:"custom"};function fo(){let{useSignInfo:e,useUtxoEstimateFee:o}=_.hooks,{walletContractStore:t,accountStore:i,fromToStore:r}=c(),{nativeCoin:a,transactionPayload:m}=t,{from:u,to:l,value:f,...g}=m||{},T=a?.coinId,{decimals:w,availableBalance:I}=r.from,[h,E]=(0,Ce.useState)(null),C=e({address:i.address,coinId:T}),b=h?.level||Ee.STANDARD,N=(0,Ce.useMemo)(()=>{let R={[Ee.SLOW]:"min",[Ee.STANDARD]:"normal",[Ee.FAST]:"max"};return C?.[R[b]]||h?.satBytes||0},[C,b,h?.satBytes]),G=me(f,w),F=me(I,w),[,D,A]=o({coinId:T,fromAddr:u,toAddr:l,satBytes:N,networkFee:"0",coinAmount:G,canTransferAmount:F,...g});return{loading:q.lte(D,"0")&&!A,error:A,signInfo:C,option:{level:b,satBytes:N},estimatedFee:D,setOption:E}}var At=fo;n();s();var fe=d(x());n();s();var be=d(x());Ae();var oe=({estimatedGasFeeInt:e,maxGasFeeInt:o,decimals:t})=>{let{quoteStore:i}=c(),r=Te(i,"quote.bestRoute.bridge.estimateBridgeFeeAmount");return(0,be.useMemo)(()=>{let a=Me(o,t),m=Me(e,t);return r&&(m=q.add(m,r,{returnString:!0}),a=q.add(a,r,{returnString:!0})),{maxGasFee:a,estimatedGasFee:m}},[o,t,e,r])},re=e=>{let{walletContractStore:o}=c();(0,be.useEffect)(()=>{o.setGasFee(e)},[e])};function _o(e){let{loading:o,estimatedFee:t,error:i}=e,{fromToStore:r,walletContractStore:a}=c(),{setGasFeeLoading:m,setGasLimitError:u}=a,{decimals:l}=r.from,{maxGasFee:f}=oe({maxGasFeeInt:t,estimatedGasFeeInt:t,decimals:l});re(f),(0,fe.useEffect)(()=>{m(o)},[o,m]),(0,fe.useEffect)(()=>{u(i)},[i,u])}function go(e){let{signInfo:o,estimatedFee:t,option:i}=e,{useUtxoListFn:r,useUtxoCheckBeforePublishFn:a}=_.hooks,{walletContractStore:m,accountStore:u,fromToStore:l}=c(),{setPreDataForSendBtc:f,nativeCoin:g,transactionPayload:T}=m,{from:w,value:I}=T||{},{decimals:h}=l.from,E=me(I,h),C=r({coinId:g?.coinId,walletId:u.computedAccountId,address:w}),b=a({address:w,coinId:g?.coinId}),{satBytes:N}=i;(0,fe.useEffect)(()=>{f({satBytes:N,coinAmount:E,dustSize:o?.minOutput,serviceCharge:t,checkUtxoBeforePublish:G=>b(G,()=>{}),fetchUtxoList:()=>C(E,t)})},[f,N,o?.minOutput,C,b,E,t]),(0,fe.useEffect)(()=>()=>{f(null)},[f])}function So(e){_o(e),go(e)}var Dt=So;function To(){let{UtxoNetworkFeePanel:e,NetworkFeeEnter:o,SectionWrap:t}=_.components,[i,r]=(0,H.useState)(!1),{walletContractStore:a,commonStore:m}=c(),u=At();Dt(u);let{loading:l,signInfo:f,estimatedFee:g,option:T,setOption:w,error:I}=u,{nativeCoin:h}=a,{chainName:E,symbol:C,coinId:b}=h||{},N=m.nowCurrencyUnit;return H.default.createElement(H.default.Fragment,null,H.default.createElement(t,null,H.default.createElement(o,{title:H.default.createElement(te,{chainName:E,coinSymbol:C}),coinId:b,loading:l,networkFee:g,estimateFailed:I,onClick:()=>{r(!0)}})),H.default.createElement(e,{visible:i,coinId:b,currencyId:N.currencyId,signInfo:f,value:T,estimatedFee:g,onChange:w,onToggleVisible:()=>{r(!1)}}))}var Pt=v(To);function wo(){let{walletContractStore:e}=c(),{nativeCoin:o}=e;return xe(o?.chainId)?Gt.default.createElement(Pt,null):null}var Lt=v(wo);n();s();var ke=d(x());n();s();var Mt=d(x());var vo=e=>{let{useFeeDisplay:o}=_.hooks,{walletContractStore:t}=c(),{transactionPayload:i}=t,{coinAmount:r,coinSymbol:a,estimatedGasFeeInt:m,maxGasFeeInt:u,decimals:l,loading:f}=o(e,{calldata:i}),{maxGasFee:g,estimatedGasFee:T}=oe({maxGasFeeInt:u,estimatedGasFeeInt:m,decimals:l});return re(g),(0,Mt.useEffect)(()=>{t.setGasFeeLoading(f)},[f,t]),{maxGasFee:g,estimatedGasFee:T,coinAmount:r,coinSymbol:a,feeLoading:f}},Wt=vo;var Io=({chainId:e})=>{let{NetworkFeeEnter:o,SectionWrap:t}=_.components,{estimatedGasFee:i,feeLoading:r,coinSymbol:a}=Wt(e),{walletContractStore:m}=c(),{nativeCoin:u}=m;return ke.default.createElement(t,null,ke.default.createElement(o,{title:ke.default.createElement(te,{chainName:u?.chainName,coinSymbol:a}),coinId:u?.coinId,loading:r,networkFee:i,useMinPrecision:!1}))},Ot=v(Io);n();s();var M=d(x());Ae();n();s();var Be=d(x());n();s();n();s();var ne={SLOW:"SLOW",MODERATE:"MODERATE",FAST:"FAST",CUSTOM:"CUSTOM"},Bt={[ne.SLOW]:"slow",[ne.MODERATE]:"standard",[ne.FAST]:"fast",[ne.CUSTOM]:"custom"};var xo=()=>({initialGasType:Bt[ne.MODERATE]}),Ut=xo;var ho=(e,o)=>{let{useFeeDisplay:t}=_.hooks,{walletContractStore:i}=c(),r=Ut(),a=t(o,{gasInfo:e,calldata:i.transactionPayload}),{coinAmount:m,coinSymbol:u,estimatedGasFeeInt:l,maxGasFeeInt:f,decimals:g,loading:T,error:w}=a,{maxGasFee:I,estimatedGasFee:h}=oe({maxGasFeeInt:f,estimatedGasFeeInt:l,decimals:g});return re(I),(0,Be.useEffect)(()=>{i.setGasFeeLoading(T)},[T,i]),(0,Be.useEffect)(()=>{i.setGasLimitError(w)},[w,i]),{txInitGasInfo:r,coinAmount:m,coinSymbol:u,maxGasFee:I,estimatedGasFee:h,gasType:e.gasType,feeLoading:a.loading,error:w}},qt=ho;n();s();var Yt=e=>q.div(e,10**18).toString();var Co=({chainId:e})=>{let{EthereumNetworkFee:o,NetworkFeeEnter:t,SectionWrap:i}=_.components,{useGasReturnActivity:r}=_.hooks,[a,m]=(0,M.useState)(!1),{walletContractStore:u,accountStore:l,mevStore:f}=c(),{gasInfo:g,transactionPayload:T,setGasInfo:w,nativeCoin:I,setActivityId:h}=u,{computedIsMevOpen:E,mevInfo:C}=f,{to:b,from:N,data:G,value:F}=T||{},{coinId:D,chainName:A}=I||{},{txInitGasInfo:B,coinSymbol:R,gasType:$,estimatedGasFee:X,maxGasFee:Z,feeLoading:Q,error:ge}=qt(g,e),V=r({coinId:D,fromAddress:Fe(N),toAddress:Fe(b),unavailable:g.gasType==="custom",disabled:!b||!N||!D,gasInfo:g,txType:2,fee:Yt(g.networkFee||0)}),Se=()=>{m(!1)};return(0,M.useEffect)(()=>{h(V?.activityId)},[V,h]),M.default.createElement(M.default.Fragment,null,M.default.createElement(i,null,M.default.createElement(t,{level:$,title:M.default.createElement(te,{chainName:A,coinSymbol:R}),coinId:D,loading:Q,networkFee:X,maxNetworkFee:Z,gasReturn:V,estimateFailed:ge,onClick:()=>{st({wallet_address:l.address,button_name:"network_fee"}),m(!0)},useMinPrecision:!1})),D&&M.default.createElement(o,{visible:a,coinId:D,address:N,inputData:G,tokenAddress:b,value:F,onBack:Se,onClose:_.goHome,onGasChange:w,initialGasData:B,gasReturn:V,isMev:E,mevInfo:C}))},Ht=v(Co);var bo=({type:e})=>{let{fromToStore:o,walletContractStore:t}=c(),{isEvmChain:i}=o,{fromToken:r}=ee(e);return yt(r.chainId),t.computedIsIntentSwap?null:xe(r.chainId)?r.isNativeToken?ye.default.createElement(Lt,null):null:i(r.chainId)?ye.default.createElement(Ht,{chainId:r.chainId}):ye.default.createElement(Ot,{chainId:r.chainId})},Rt=v(bo);n();s();var de=d(x());Ae();n();s();var Ne={box:"_box_r55yw_1",label:"_label_r55yw_1",fee:"_fee_r55yw_7"};var ko=()=>{let{SectionWrap:e}=_.components,{commonStore:o,quoteStore:t}=c(),i=Te(t,"quote.bestRoute.serviceFeeInfo",{}),{isDisplayServiceFee:r,label:a,tooltip:m,serviceFee:u}=lt({...i,formatServiceFeeUsd:o.currencyConversionWithSymbol});return r?de.default.createElement(e,null,de.default.createElement("div",{className:Ne.box},de.default.createElement(ct,{className:Ne.label,label:a,tooltip:m}),de.default.createElement("div",{className:Ne.fee},u))):null},Vt=v(ko);n();s();var _e=d(x());n();s();var jt=d(x()),$t=d(z());n();s();var zt={"drawer-mask":"_drawer-mask_jl4xy_1",drawerMask:"_drawer-mask_jl4xy_1","box-padding":"_box-padding_jl4xy_4",boxPadding:"_box-padding_jl4xy_4"};var yo=({visible:e,children:o})=>{let{Layout:t}=_.components;return e?jt.default.createElement(t.Portal,{className:(0,$t.default)(zt.drawerMask)},o):null},Xt=yo;n();s();var Zt={drawer:"_drawer_kg0sg_1"};var No=()=>{let{hooks:{useRegisterStatus:e},components:{StarknetRegister:o}}=_,{walletContractStore:t}=c(),{registerStatus:i}=e();return(0,_e.useEffect)(()=>{t.setStarknetRegisterStatus(i)},[i,t]),_e.default.createElement(Xt,{className:Zt.drawer,visible:t.visibleStarknetRegister},_e.default.createElement(o,{onBack:()=>{t.setVisibleStarknetRegister(!1)},registerStatus:i}))},Qt=v(No);n();s();var se=d(x());var Jt=()=>{let{global:{preExecTransaction:e,EvmRequestEnum:o,decimalToHex:t}}=_,{quoteStore:{quote:i},walletContractStore:r,fromToStore:a}=c(),{transactionPayload:m,setPreExecutionResult:u}=r,{bestRoute:l}=i||{},{fromToken:f}=l||{},{computedIsEvmChain:g}=a,T=(0,se.useMemo)(()=>{let{data:I,from:h,to:E,value:C}=m||{};return{data:I,from:h,to:E,value:C?t(C):0}},[t,m]),w=(0,se.useCallback)(async()=>{try{let I=await e({from:T.from,chainIndex:f?.chainId,dappData:JSON.stringify(T),method:o.SIGN_TRANSACTION,dappInfo:{}});u(I)}catch(I){Ie.error(I)}},[o.SIGN_TRANSACTION,f?.chainId,e,u,T]);(0,se.useEffect)(()=>{g&&T.data&&w()},[g,w,T.data])};n();s();var Ye=d(x());to();var Ue=(e,o,t)=>`${e}${De.mul(o||0,De.pow(10,t||0))}`,qe=e=>{let{useCoin:o}=_.hooks;return o(e?.chainId,e.isNativeToken?"":e.tokenContractAddress)},Fo=()=>{let{fromToStore:e,gasDropStore:o}=c(),{to:t}=e,i=qe({chainId:t.chainId}),{computedGasDropSelected:r,gasDropConfig:a}=o||{},{gasDrop:m}=a||{};return(0,Ye.useMemo)(()=>r?{coinId:i?.coinId,assetChange:Ue("+",m,i?.decimals),useMinPrecision:!1,displayEstimate:!1,desc:S("swaptrade_transfer_text_for_gas")}:null,[r,m,i])};function He(e){let{fromToken:o,toToken:t}=ee(e),i=Fo(),r=qe(o),a=qe(t);return(0,Ye.useMemo)(()=>({fromList:[{coinId:r?.coinId,assetChange:Ue("-",o?.amount,r?.decimals),useMinPrecision:!1}],toList:[{coinId:a?.coinId,assetChange:Ue("+",t?.amount,a?.decimals),useMinPrecision:!1},i].filter(Boolean)}),[r?.coinId,r?.decimals,o?.amount,a?.coinId,a?.decimals,t?.amount,i])}n();s();var ie={container:"_container_wvaui_1",loading:"_loading_wvaui_5",wrap:"_wrap_wvaui_10",scroll:"_scroll_wvaui_13"};n();s();var Kt=d(x());function Re(e=!0){let{walletContractStore:o}=c(),{startCountdown:t,clearTimer:i,initCountDown:r}=o;(0,Kt.useEffect)(()=>(e&&t(),()=>{i(),r()}),[i,r,t,e])}var Ao=()=>{let{fromToStore:e,walletContractStore:o}=c(),{computedIsStarknetChain:t}=e,{loading:i,reset:r}=o,[a,m]=(0,y.useState)(80),{needUpdate:u,type:l}=It(),{fromList:f,toList:g}=He(l),{search:T}=(0,eo.useLocation)(),{type:w}=ve(T),I=w!==K.INTENT_SWAP;return(0,y.useEffect)(()=>{o.setSwapType(l)},[l]),(0,y.useEffect)(()=>{it()},[]),Re(u),Jt(),(0,y.useEffect)(()=>r,[r]),i?y.default.createElement("div",{className:(0,Ve.default)(ie.container,ie.loading)},y.default.createElement(Pe,{size:Pe.SIZE.lg})):y.default.createElement("div",{className:ie.container},y.default.createElement("div",{style:{height:`calc(100% - ${a}px)`},className:(0,Ve.default)(ie.wrap)},y.default.createElement("div",{className:ie.scroll,id:"wallet_scroll"},y.default.createElement(ft,null),y.default.createElement(_t,{fromList:f,toList:g}),I?y.default.createElement(bt,null):null,y.default.createElement(Rt,{type:l}),y.default.createElement(Vt,null),y.default.createElement(ht,{type:l}))),y.default.createElement(Et,{onChangeHeight:m,type:l}),t&&y.default.createElement(Qt,null))},ja=v(Ao);export{ja as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Contract-GF3I5CYA.js.map
