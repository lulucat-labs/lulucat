import{a as y,b as z}from"./chunk-HVQTUZKT.js";import{c as q}from"./chunk-7YQLUBDN.js";import{a as J}from"./chunk-KOPPPKVA.js";import{d as $}from"./chunk-HZPID3WW.js";import{cc as ee,vb as x}from"./chunk-B32MCU7F.js";import{r as f}from"./chunk-2BGRD7AD.js";import{$ as R,Xa as U,Y as h,Ya as M,Z as F,_ as b,_a as K,ca as D,pb as j,yb as v}from"./chunk-Q23SA7M6.js";import{G}from"./chunk-E44TZGUB.js";import{A as S,N as w,fa as a,oa as W}from"./chunk-KBQXBPIW.js";import{O as Z,w as _}from"./chunk-364XNTHB.js";import{a as Y}from"./chunk-PDSGFBX4.js";import{f as E,o as O,q as L}from"./chunk-FJHLV356.js";O();L();var B=E(Y()),I=E(ee());W();Z();K();O();L();W();v();K();function k(t,e){return!e||!t||!t.length?null:t.find(o=>a(o.address)===a(e))||null}function H(t,e,i){let r,o=k(t,i);return o&&o.networks.indexOf(e)!==-1&&(r=o.name),r}function P(t,e,i){let r,o=j({localType:e});if(o){let d=t.find(g=>{let A=a(g.account[o.chain]),u=a(i),m=!1;if(e===h||e===D||e===F||e===b||e===R){let l=M(e),c=g.accountsMap[l];if(c){let N=Object.values(c).map(p=>p.address);m=N.find(p=>a(p)===A)&&N.find(p=>a(p)===u),m=Boolean(m)}}return A===u||m});d&&(r=`${d.keyringName} - ${d.walletName}`)}return r}function re(t){let{baseCoinId:e,network:i,name:r}=t||{},o=q({coinId:e}),d=(0,I.useSelector)(y),g=J(),A=i||o?.localType;return(0,B.useMemo)(()=>{let u=d||[];r&&(u=u.filter(({name:l,address:c})=>l.indexOf(r)!==-1||c.indexOf(r)!==-1)),A&&(u=u.filter(({networks:l})=>l.indexOf(A)!==-1));let m=w(g,"localType");return u.map(l=>({...l,networks:l.networks.map(c=>{let N=m[c];return{name:c,iconUrl:N?.image}})}))},[d,g,r,A])}function Q(t){let e=(0,I.useSelector)(y);return(0,B.useCallback)((i,r)=>H(e,r??t,i),[e])}function V(t){let e=(0,I.useSelector)(x);return(0,B.useCallback)((i,r)=>P(e,r??t,i),[e])}function ne(t){let e=Q(t),i=V(t);return(0,B.useCallback)((r,o)=>{let d=e(r,o);return d?{name:d,address:r,type:f.ADDRESS_BOOK}:(d=i(r,o),d?{name:d,address:r,type:f.WALLET_ACCOUNT}:null)},[e,i])}function se(t){return(0,I.useSelector)(z)[t]||[]}function Le(t){let e=(0,I.useSelector)(y);return k(e,t)}function _e(t,e){let i=[],r=[],o=[],d=[],g=ne(t),A=Q(t),u=V(t),m=se(t),l=re({network:t}),c=(0,I.useSelector)(x),N=$();return(0,B.useMemo)(()=>{m?.length&&(r=m.map(({type:n,name:s,address:T})=>{if(n===f.ADDRESS_BOOK)s=A(T);else if(n===f.WALLET_ACCOUNT)s=u(T);else if(n===f.DIRECT){let C=g(T);C&&(s=C.name)}return{type:n,address:T,name:s}}),r=r.filter(({address:n})=>a(n)!==a(e)),r?.length&&i.push({group:_("wallet_extension_send_dropdown_recent_address"),list:r}));let p;if(U.includes(t))p=[],c.forEach(n=>{N(h,n.walletId)?.forEach((s,T)=>{a(s.address)!==a(e)&&p.push({address:s.address,group:n.keyringName,name:n.walletName,type:f.WALLET_ACCOUNT,addressType:s.addressType,hideName:T!==0,walletId:n.walletId})})});else{let n=c.filter(s=>{let T=s.needBackup!==1,C=a(s.account[t]),X=a(e);return T&&C!==X&&!!C});n?.length&&(p=n.map(s=>({address:s.account[t],group:s.keyringName,name:s.walletName,type:f.WALLET_ACCOUNT,walletId:s.walletId})))}return d=Object.entries(S(p,"group")),d.forEach(([n,s])=>{i.push({group:n,list:s})}),l?.length&&(o=l.map(({address:n,name:s})=>({address:n,name:s,type:f.ADDRESS_BOOK})),o=o.filter(({address:n})=>a(n)!==a(e)),o?.length&&i.push({group:_("wallet_extension_send_dropdown_address_book"),list:o})),i},[e,m,l,c])}function he(t){let e=(0,I.useSelector)(y);return()=>{e&&e?.length>=200?G.error({title:_("wallet_extension_addressbook_toast_address_limit_reached")}):t&&t()}}export{re as a,ne as b,Le as c,_e as d,he as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-52ESRIYZ.js.map
