import{a as A}from"./chunk-RJDGREGT.js";import{ib as p,z as f}from"./chunk-WSXZYUQ4.js";import{a as W}from"./chunk-VLKJDIZ5.js";import{H as R,o as d}from"./chunk-E44TZGUB.js";import{O as M,w as t}from"./chunk-364XNTHB.js";import{f as L,o as e,q as o}from"./chunk-FJHLV356.js";e();o();var I=L(W());M();e();o();var r={OVER_LIMIT_ACCOUNT_NUMBER:"OVER_LIMIT_ACCOUNT_NUMBER",SERVER_ERROR:"SERVER_ERROR",NOT_SUPPORT_SYNC:"NOT_SUPPORT_SYNC",UNKNOWN_ERROR:"UNKNOWN_ERROR",PASSWORD_ERROR:"PASSWORD_ERROR",DOWNLOAD_ERROR:"DOWNLOAD_ERROR",UPLOAD_ERROR:"UPLOAD_ERROR",DATA_ERROR:"DATA_ERROR",HAS_CLOUD_UPDATE:"HAS_CLOUD_UPDATE",CLOUD_DATA_RESET:"CLOUD_DATA_RESET",EXCEED_MAXIMUM_ITEMS_LIMIt:"EXCEED_MAXIMUM_ITEMS_LIMIt",DATA_INVALID:"DATA_INVALID",NO_META_DATA:"NO_META_DATA"};e();o();e();o();e();o();var T={idle:"idle",syncing:"syncing",completed:"completed",failed:"failed"};var g=()=>{let l=async()=>{},_=async()=>{},i=async()=>{};return{isSyncSupported:!1,hasSyncEnabled:!1,hasUpdateOnCloud:!1,hasWalletDataOnCloud:!1,syncStatus:T.idle,syncError:null,manualSync:l,closeSync:_,hasCheckedCloudSyncInfo:!0,checkedCloudSyncInfoError:null,startSync:i}},m=g;var D=m;var w=()=>{let{isSyncSupported:l,hasSyncEnabled:_,hasUpdateOnCloud:i,hasWalletDataOnCloud:U,manualSync:S,closeSync:u,hasCheckedCloudSyncInfo:y,checkedCloudSyncInfoError:E}=D(),{cloudResetTip:h}=A(),O=(0,I.useHistory)();return{isSyncSupported:l,hasSyncEnabled:_,hasUpdateOnCloud:i,hasWalletDataOnCloud:U,manualSync:S,manualSyncWithCatch:async n=>{let s={success:!0,error:void 0};try{await S(n)}catch(C){s.success=!1,s.error=C;let c=C?.message;if(c===r.OVER_LIMIT_ACCOUNT_NUMBER){let N=d.tip({infoType:d.Tip.INFO_TYPE.default,title:t("wallet_extension_tgsync_dialog_title_reach_limit"),children:t("wallet_extension_tgsync_notification_failed"),confirmText:t("commonall_text_btn_ok_passive"),btnFull:!1,onConfirm:()=>{u(),N.destroy(),O.replace(f)}})}else c===r.HAS_CLOUD_UPDATE?O.replace(p):c===r.CLOUD_DATA_RESET?h():R.warn({title:c===r.PASSWORD_ERROR?t("wallet_tgsync_error_wrong_password"):t("wallet_extension_tgsync_notification_failed")})}return s},closeSync:u,closeSyncWithCatch:async()=>{let n={success:!0,error:void 0};try{await u()}catch(s){n.success=!1,n.error=s,R.warn({title:t("wallet_home_toast_network_error")})}return n},hasCheckedCloudSyncInfo:y,checkedCloudSyncInfoError:E,isDataValidated:y&&!E}},te=w;export{te as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-LVFFHQXT.js.map
