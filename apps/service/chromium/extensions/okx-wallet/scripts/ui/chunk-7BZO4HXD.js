import{e as b}from"./chunk-55XCE2ZH.js";import{a as q}from"./chunk-OGS4HURJ.js";import{h as R}from"./chunk-HZPID3WW.js";import{m as N}from"./chunk-IRNZUYU4.js";import{o as G}from"./chunk-AUURQ3HI.js";import{cc as z,r as y,tb as x}from"./chunk-B32MCU7F.js";import{d as O,f as j}from"./chunk-TKFT6XV3.js";import{u as F}from"./chunk-2BGRD7AD.js";import{Ac as V,Bc as I,Cc as W,Y as h,_a as v,yc as A}from"./chunk-Q23SA7M6.js";import{O as P,l as g}from"./chunk-364XNTHB.js";import{a as H}from"./chunk-PDSGFBX4.js";import{f as T,o as k,q as M}from"./chunk-FJHLV356.js";k();M();var i=T(H()),C=T(z()),w=T(G());P();j();v();W();V();function J(t={},e,m=!1){let s=(0,C.useSelector)(x),u=R(h)[e],a=q(h),c=e?u:a;return async()=>{let o=await O().getRequestHeaders({walletId:s,needSign:!0,currency:"usd"}),n={coinId:t?.coinId,utxoRequests:[{address:c,utxoType:12}]};try{let{data:r=[]}=await A(I.getBTCUTXO,n,{headers:o});return m?r?.map(p=>({...p,utxoList:p?.utxoList?.filter(d=>d.utxoStatusType===2)})):r}catch{return[]}}}function it(t={},e,m=!1){let s=J(t,e,m),{coinAmountInt:l=0}=b(t?.coinId,e),[u,{setTrue:a,setFalse:c}]=(0,w.useBoolean)(!1),[o,{setTrue:n}]=(0,w.useBoolean)(!1),[r,p]=(0,i.useState)(""),{coinId:d,decimals:U}=t||{};return(0,i.useEffect)(()=>{y(t)?s().then((X=[])=>{X.some((f={})=>f.utxoList?.length>0)?a():c();let B=X?.reduce((f,D)=>{let E=D?.utxoList?.reduce((S,L)=>L?.utxoStatusType===2?g.add(S,L?.coinAmount):S,0);return g.add(f,E)},0);if(B){let f=N(B,{decimals:U});p(f)}n()}).catch(()=>{n(),c()}):(n(),c())},[d,U,l,n,a]),{showManageUTXO:u,NFTAmountDisplay:r,isCheckFinished:o}}function at(t,e){let[m,s]=(0,i.useState)(0),[l,u]=(0,i.useState)([]),a=(0,C.useSelector)(x),c=async()=>{let o=await O().getRequestHeaders({walletId:a,needSign:!0,currency:"usd"}),n={coinId:e.coinId,utxoRequests:[{address:t,utxoType:F.Occupy}]};try{let{data:r}=await A(I.getBTCUTXO,n,{headers:o});return r[0]||null}catch{return null}};return(0,i.useEffect)(()=>{y(e)?c().then(o=>{s(o?.lockAmount||0),u(o?.utxoList||[])}).catch(()=>{s(0),u([])}):(s(0),u([]))},[t,e]),{lockedAmount:m,UTXOList:l}}export{it as a,at as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-7BZO4HXD.js.map
