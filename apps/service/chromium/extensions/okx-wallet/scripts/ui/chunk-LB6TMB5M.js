import{b as me}from"./chunk-TKZ7N5JX.js";import{c as f,o as a,p as d,q as c}from"./chunk-FJHLV356.js";var yi=f(un=>{"use strict";a();c();Object.defineProperty(un,"__esModule",{value:!0});un.config=void 0;var Pd={network:{layer1:"placeholder"},logLevel:"debug"};un.config=Pd});var Ro=f(_=>{"use strict";a();c();Object.defineProperty(_,"__esModule",{value:!0});_.PreconditionFailedError=_.PayloadTooLargeError=_.ValidationError=_.BadPathError=_.NotEnoughProofError=_.ConflictError=_.DoesNotExist=_.GaiaHubError=_.NoSessionDataError=_.InvalidStateError=_.FailedDecryptionError=_.SignatureVerificationError=_.LoginFailedError=_.InvalidAmountError=_.NotEnoughFundsError=_.InvalidDIDError=_.MissingParameterError=_.InvalidParameterError=_.BlockstackError=_.ERROR_CODES=void 0;_.ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(_.ERROR_CODES);var ve=class extends Error{constructor(t){super();let r=t.message,n=`Error Code: ${t.code}`,i=this.stack;if(i)n+=`Stack Trace:
${i}`;else try{throw new Error}catch(s){i=s.stack}r+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${n}`,this.message=r,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}};_.BlockstackError=ve;var gi=class extends ve{constructor(t,r=""){super({code:_.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};_.InvalidParameterError=gi;var hi=class extends ve{constructor(t,r=""){super({code:_.ERROR_CODES.MISSING_PARAMETER,message:r,parameter:t}),this.name="MissingParametersError"}};_.MissingParameterError=hi;var Si=class extends ve{constructor(t=""){super({code:_.ERROR_CODES.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}};_.InvalidDIDError=Si;var Ti=class extends ve{constructor(t){let r=`Not enough UTXOs to fund. Left to fund: ${t}`;super({code:_.ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message:r}),this.leftToFund=t,this.name="NotEnoughFundsError",this.message=r}};_.NotEnoughFundsError=Ti;var Ci=class extends ve{constructor(t,r){let n=`Not enough coin to fund fees transaction fees. Fees would be ${t}, specified spend is  ${r}`;super({code:_.ERROR_CODES.INVALID_AMOUNT_ERROR,message:n}),this.specifiedAmount=r,this.fees=t,this.name="InvalidAmountError",this.message=n}};_.InvalidAmountError=Ci;var _i=class extends ve{constructor(t){let r=`Failed to login: ${t}`;super({code:_.ERROR_CODES.LOGIN_FAILED_ERROR,message:r}),this.message=r,this.name="LoginFailedError"}};_.LoginFailedError=_i;var Pi=class extends ve{constructor(t){let r=`Failed to verify signature: ${t}`;super({code:_.ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message:r}),this.message=r,this.name="SignatureVerificationError"}};_.SignatureVerificationError=Pi;var Ei=class extends ve{constructor(t="Unable to decrypt cipher object."){super({code:_.ERROR_CODES.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}};_.FailedDecryptionError=Ei;var mi=class extends ve{constructor(t){super({code:_.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}};_.InvalidStateError=mi;var bi=class extends ve{constructor(t){super({code:_.ERROR_CODES.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}};_.NoSessionDataError=bi;var tt=class extends ve{constructor(t,r){super(t),r&&(this.hubError={statusCode:r.status,statusText:r.statusText},typeof r.body=="string"?this.hubError.message=r.body:typeof r.body=="object"&&Object.assign(this.hubError,r.body))}};_.GaiaHubError=tt;var Ai=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.DOES_NOT_EXIST},r),this.name="DoesNotExist"}};_.DoesNotExist=Ai;var Ii=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.CONFLICT_ERROR},r),this.name="ConflictError"}};_.ConflictError=Ii;var wi=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},r),this.name="NotEnoughProofError"}};_.NotEnoughProofError=wi;var Oi=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.BAD_PATH_ERROR},r),this.name="BadPathError"}};_.BadPathError=Oi;var vi=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.VALIDATION_ERROR},r),this.name="ValidationError"}};_.ValidationError=vi;var Ni=class extends tt{constructor(t,r,n){super({message:t,code:_.ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},r),this.name="PayloadTooLargeError",this.maxUploadByteSize=n}};_.PayloadTooLargeError=Ni;var Ri=class extends tt{constructor(t,r){super({message:t,code:_.ERROR_CODES.PRECONDITION_FAILED_ERROR},r),this.name="PreconditionFailedError"}};_.PreconditionFailedError=Ri});var Bo=f(dn=>{"use strict";a();c();Object.defineProperty(dn,"__esModule",{value:!0});dn.Logger=void 0;var Ed=yi(),Mo=["debug","info","warn","error","none"],Mi={},md={};for(let e=0;e<Mo.length;e++){let t=Mo[e];Mi[t]=e,md[e]=t}var Bi=class{static error(t){!this.shouldLog("error")||console.error(this.logMessage("error",t))}static warn(t){!this.shouldLog("warn")||console.warn(this.logMessage("warn",t))}static info(t){!this.shouldLog("info")||console.log(this.logMessage("info",t))}static debug(t){!this.shouldLog("debug")||console.log(this.logMessage("debug",t))}static logMessage(t,r){return`[${t.toUpperCase()}] ${r}`}static shouldLog(t){return Mi[Ed.config.logLevel]<=Mi[t]}};dn.Logger=Bi});var ln=f(O=>{"use strict";a();c();Object.defineProperty(O,"__esModule",{value:!0});O.isInstance=O.concatArray=O.concatBytes=O.toBytes=O.octetsToBytes=O.bytesToAscii=O.asciiToBytes=O.bytesToUtf8=O.utf8ToBytes=O.hexToBytes=O.bytesToHex=O.fromTwos=O.toTwos=O.bigIntToBytes=O.hexToInt=O.intToHex=O.hexToBigInt=O.with0x=O.intToBigInt=O.intToBytes=void 0;function bd(e,t,r){return Vo(Di(e,t),r)}O.intToBytes=bd;function Di(e,t){let r=e;if(typeof r=="number"){if(!Number.isInteger(r))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");return BigInt(r)}if(typeof r=="string")if(r.toLowerCase().startsWith("0x")){let n=r.slice(2);n=n.padStart(n.length+n.length%2,"0"),r=Ki(n)}else try{return BigInt(r)}catch(n){if(n instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${r}' is not finite.`)}if(typeof r=="bigint")return r;if(r instanceof Uint8Array)if(t){let n=Do(BigInt(`0x${xi(r)}`),BigInt(r.byteLength*8));return BigInt(n.toString())}else return BigInt(`0x${xi(r)}`);if(r!=null&&typeof r=="object"&&r.constructor.name==="BN")return BigInt(r.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}O.intToBigInt=Di;function Ad(e){return e.startsWith("0x")?e:`0x${e}`}O.with0x=Ad;function Id(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}O.hexToBigInt=Id;function xo(e,t=8){return(typeof e=="bigint"?e:Di(e,!1)).toString(16).padStart(t*2,"0")}O.intToHex=xo;function wd(e){return parseInt(e,16)}O.hexToInt=wd;function Vo(e,t=16){let r=xo(e,t);return Ki(r)}O.bigIntToBytes=Vo;function Od(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}O.toTwos=Od;function vd(e,t){return e&BigInt(1)<<t}function Do(e,t){return vd(e,t-BigInt(1))?e-(BigInt(1)<<t):e}O.fromTwos=Do;var Nd=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xi(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r of e)t+=Nd[r];return t}O.bytesToHex=xi;function Ki(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);let t=e.length%2?`0${e}`:e,r=new Uint8Array(t.length/2);for(let n=0;n<r.length;n++){let i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}O.hexToBytes=Ki;function Ko(e){return new TextEncoder().encode(e)}O.utf8ToBytes=Ko;function Rd(e){return new TextDecoder().decode(e)}O.bytesToUtf8=Rd;function Md(e){let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r)&255);return new Uint8Array(t)}O.asciiToBytes=Md;function Bd(e){return String.fromCharCode.apply(null,e)}O.bytesToAscii=Bd;function xd(e){return!Number.isInteger(e)||e<0||e>255}function Vi(e){if(e.some(xd))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}O.octetsToBytes=Vi;function Vd(e){if(typeof e=="string")return Ko(e);if(e instanceof Uint8Array)return e;throw new TypeError(`Expected input type is (Uint8Array | string) but got (${typeof e})`)}O.toBytes=Vd;function Ho(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}O.concatBytes=Ho;function Dd(e){return Ho(...e.map(t=>typeof t=="number"?Vi([t]):t instanceof Array?Vi(t):t))}O.concatArray=Dd;function Kd(e,t){return e instanceof t||e?.constructor?.name?.toLowerCase()===t.name}O.isInstance=Kd});var Lo=f(Ne=>{"use strict";a();c();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.BLOCKSTACK_DEFAULT_GAIA_HUB_URL=Ne.PRIVATE_KEY_UNCOMPRESSED_LENGTH=Ne.PRIVATE_KEY_COMPRESSED_LENGTH=Ne.TransactionVersion=Ne.ChainID=void 0;var Hd;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Hd=Ne.ChainID||(Ne.ChainID={}));var Ld;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Ld=Ne.TransactionVersion||(Ne.TransactionVersion={}));Ne.PRIVATE_KEY_COMPRESSED_LENGTH=33;Ne.PRIVATE_KEY_UNCOMPRESSED_LENGTH=32;Ne.BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"});var ko=f(_t=>{"use strict";a();c();Object.defineProperty(_t,"__esModule",{value:!0});_t.signatureRsvToVrs=_t.signatureVrsToRsv=_t.parseRecoverableSignatureVrs=void 0;var kd=ln(),Hi=32;function Ud(e){if(e.length<Hi*2*2+1)throw new Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,2+Hi*2),n=e.slice(2+Hi*2);return{recoveryId:(0,kd.hexToInt)(t),r,s:n}}_t.parseRecoverableSignatureVrs=Ud;function Fd(e){return e.slice(2)+e.slice(0,2)}_t.signatureVrsToRsv=Fd;function zd(e){return e.slice(-2)+e.slice(0,-2)}_t.signatureRsvToVrs=zd});var Uo=f(fn=>{"use strict";a();c();Object.defineProperty(fn,"__esModule",{value:!0});fn.privateKeyToBytes=void 0;var qd=ln();function jd(e){let t=typeof e=="string"?(0,qd.hexToBytes)(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}fn.privateKeyToBytes=jd});var Fo=f(j=>{"use strict";a();c();Object.defineProperty(j,"__esModule",{value:!0});j.writeUInt32LE=j.readUInt32LE=j.writeUInt32BE=j.readUInt32BE=j.writeUInt16LE=j.readUInt16LE=j.writeUInt8=j.readUInt8=j.writeUInt16BE=j.readUInt16BE=j.alloc=j.equals=void 0;function Gd(e,t){if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}j.equals=Gd;function $d(e,t){let r=new Uint8Array(e);for(let n=0;n<e;n++)r[n]=t;return r}j.alloc=$d;function Wd(e,t){return(e[t+0]<<8|e[t+1])>>>0}j.readUInt16BE=Wd;function Xd(e,t,r){e[r+0]=t>>>8,e[r+1]=t>>>0}j.writeUInt16BE=Xd;function Yd(e,t){return e[t]}j.readUInt8=Yd;function Jd(e,t,r){e[r]=t}j.writeUInt8=Jd;function Zd(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0}j.readUInt16LE=Zd;function Qd(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255}j.writeUInt16LE=Qd;function el(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}j.readUInt32BE=el;function tl(e,t,r){e[r+3]=t,t>>>=8,e[r+2]=t,t>>>=8,e[r+1]=t,t>>>=8,e[r]=t}j.writeUInt32BE=tl;function rl(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0|e[t+2]<<16>>>0|e[t+3]<<24>>>0}j.readUInt32LE=rl;function nl(e,t,r){e[r+0]=t&255,t>>>=8,e[r+1]=t&255,t>>>=8,e[r+2]=t&255,t>>>=8,e[r+3]=t&255}j.writeUInt32LE=nl});var H=f(Re=>{"use strict";a();c();var il=Re&&Re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pt=Re&&Re.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&il(t,e,r)};Object.defineProperty(Re,"__esModule",{value:!0});Pt(yi(),Re);Pt(Ro(),Re);Pt(Bo(),Re);Pt(ln(),Re);Pt(Lo(),Re);Pt(ko(),Re);Pt(Uo(),Re);Pt(Fo(),Re)});var Se=f(C=>{"use strict";a();c();Object.defineProperty(C,"__esModule",{value:!0});C.TxRejectedReason=C.AssetType=C.NonFungibleConditionCode=C.FungibleConditionCode=C.PubKeyEncoding=C.AddressVersion=C.AddressHashMode=C.AuthType=C.PostConditionPrincipalID=C.PostConditionType=C.PostConditionMode=C.TransactionVersion=C.anchorModeFromNameOrValue=C.AnchorModeNames=C.AnchorMode=C.ClarityVersion=C.PayloadType=C.StacksMessageType=C.ChainID=C.DEFAULT_CORE_NODE_API_URL=C.MEMO_MAX_LENGTH_BYTES=C.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=C.COMPRESSED_PUBKEY_LENGTH_BYTES=C.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=C.DEFAULT_TRANSACTION_VERSION=C.DEFAULT_CHAIN_ID=C.COINBASE_BYTES_LENGTH=C.CLARITY_INT_BYTE_SIZE=C.CLARITY_INT_SIZE=C.MAX_STRING_LENGTH_BYTES=C.whenMessageType=void 0;var pn;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(pn||(pn={}));C.ChainID=pn;var sl=pn.Mainnet;C.DEFAULT_CHAIN_ID=sl;var ol=128;C.MAX_STRING_LENGTH_BYTES=ol;var al=128;C.CLARITY_INT_SIZE=al;var cl=16;C.CLARITY_INT_BYTE_SIZE=cl;var ul=32;C.COINBASE_BYTES_LENGTH=ul;var dl=65;C.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=dl;var ll=32;C.COMPRESSED_PUBKEY_LENGTH_BYTES=ll;var fl=64;C.UNCOMPRESSED_PUBKEY_LENGTH_BYTES=fl;var pl=34;C.MEMO_MAX_LENGTH_BYTES=pl;var yl="https://stacks-node-api.mainnet.stacks.co";C.DEFAULT_CORE_NODE_API_URL=yl;var Li;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Li||(Li={}));C.StacksMessageType=Li;function gl(e){return t=>t[e]}C.whenMessageType=gl;var ki;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient"})(ki||(ki={}));C.PayloadType=ki;var Ui;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2"})(Ui||(Ui={}));C.ClarityVersion=Ui;var ze;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(ze||(ze={}));C.AnchorMode=ze;var Kr=["onChainOnly","offChainOnly","any"];C.AnchorModeNames=Kr;var zo={[Kr[0]]:ze.OnChainOnly,[Kr[1]]:ze.OffChainOnly,[Kr[2]]:ze.Any,[ze.OnChainOnly]:ze.OnChainOnly,[ze.OffChainOnly]:ze.OffChainOnly,[ze.Any]:ze.Any};function hl(e){if(e in zo)return zo[e];throw new Error(`Invalid anchor mode "${e}", must be one of: ${Kr.join(", ")}`)}C.anchorModeFromNameOrValue=hl;var yn;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(yn||(yn={}));C.TransactionVersion=yn;var Sl=yn.Mainnet;C.DEFAULT_TRANSACTION_VERSION=Sl;var Fi;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(Fi||(Fi={}));C.PostConditionMode=Fi;var zi;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(zi||(zi={}));C.PostConditionType=zi;var qi;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(qi||(qi={}));C.AuthType=qi;var ji;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH"})(ji||(ji={}));C.AddressHashMode=ji;var Gi;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(Gi||(Gi={}));C.AddressVersion=Gi;var $i;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})($i||($i={}));C.PubKeyEncoding=$i;var Wi;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(Wi||(Wi={}));C.FungibleConditionCode=Wi;var Xi;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Xi||(Xi={}));C.NonFungibleConditionCode=Xi;var Yi;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Yi||(Yi={}));C.PostConditionPrincipalID=Yi;var Ji;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(Ji||(Ji={}));C.AssetType=Ji;var Zi;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(Zi||(Zi={}));C.TxRejectedReason=Zi});var Qi=f(Te=>{"use strict";a();c();Object.defineProperty(Te,"__esModule",{value:!0});Te.c32decode=Te.c32normalize=Te.c32encode=Te.c32=void 0;var Tl=H();Te.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";var Hr="0123456789abcdef";function Cl(e,t){if(!e.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");e.length%2!==0&&(e=`0${e}`),e=e.toLowerCase();let r=[],n=0;for(let u=e.length-1;u>=0;u--)if(n<4){let l=Hr.indexOf(e[u])>>n,h=0;u!==0&&(h=Hr.indexOf(e[u-1]));let x=1+n,U=h%(1<<x)<<5-x,ee=Te.c32[l+U];n=x,r.unshift(ee)}else n=0;let i=0;for(let u=0;u<r.length&&r[u]==="0";u++)i++;r=r.slice(i);let s=new TextDecoder().decode((0,Tl.hexToBytes)(e)).match(/^\u0000*/),o=s?s[0].length:0;for(let u=0;u<o;u++)r.unshift(Te.c32[0]);if(t){let u=t-r.length;for(let l=0;l<u;l++)r.unshift(Te.c32[0])}return r.join("")}Te.c32encode=Cl;function qo(e){return e.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}Te.c32normalize=qo;function _l(e,t){if(e=qo(e),!e.match(`^[${Te.c32}]*$`))throw new Error("Not a c32-encoded string");let r=e.match(`^${Te.c32[0]}*`),n=r?r[0].length:0,i=[],s=0,o=0;for(let h=e.length-1;h>=0;h--){o===4&&(i.unshift(Hr[s]),o=0,s=0);let U=(Te.c32.indexOf(e[h])<<o)+s,ee=Hr[U%16];if(o+=1,s=U>>4,s>1<<o)throw new Error("Panic error in decoding.");i.unshift(ee)}i.unshift(Hr[s]),i.length%2===1&&i.unshift("0");let u=0;for(let h=0;h<i.length&&i[h]==="0";h++)u++;i=i.slice(u-u%2);let l=i.join("");for(let h=0;h<n;h++)l=`00${l}`;if(t){let h=t*2-l.length;for(let x=0;x<h;x+=2)l=`00${l}`}return l}Te.c32decode=_l});var es=f(Zt=>{"use strict";a();c();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.c32checkDecode=Zt.c32checkEncode=void 0;var jo=me(),Go=H(),Lr=Qi();function $o(e){let t=jo.base.sha256(jo.base.sha256((0,Go.hexToBytes)(e)));return(0,Go.bytesToHex)(t.slice(0,4))}function Pl(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let r=e.toString(16);r.length===1&&(r=`0${r}`);let n=$o(`${r}${t}`),i=(0,Lr.c32encode)(`${t}${n}`);return`${Lr.c32[e]}${i}`}Zt.c32checkEncode=Pl;function El(e){e=(0,Lr.c32normalize)(e);let t=(0,Lr.c32decode)(e.slice(1)),r=e[0],n=Lr.c32.indexOf(r),i=t.slice(-8),s=n.toString(16);if(s.length===1&&(s=`0${s}`),$o(`${s}${t.substring(0,t.length-8)}`)!==i)throw new Error("Invalid c32check string: checksum mismatch");return[n,t.substring(0,t.length-8)]}Zt.c32checkDecode=El});var Xo=f((MT,Wo)=>{"use strict";a();c();function ml(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(t[s]!==255)throw new TypeError(i+" is ambiguous");t[s]=n}var o=e.length,u=e.charAt(0),l=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function x(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var X=0,ie=0,se=0,he=N.length;se!==he&&N[se]===0;)se++,X++;for(var le=(he-se)*h+1>>>0,Ve=new Uint8Array(le);se!==he;){for(var Fe=N[se],et=0,De=le-1;(Fe!==0||et<ie)&&De!==-1;De--,et++)Fe+=256*Ve[De]>>>0,Ve[De]=Fe%o>>>0,Fe=Fe/o>>>0;if(Fe!==0)throw new Error("Non-zero carry");ie=et,se++}for(var dt=le-ie;dt!==le&&Ve[dt]===0;)dt++;for(var cn=u.repeat(X);dt<le;++dt)cn+=e.charAt(Ve[dt]);return cn}function U(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;for(var X=0,ie=0,se=0;N[X]===u;)ie++,X++;for(var he=(N.length-X)*l+1>>>0,le=new Uint8Array(he);N[X];){var Ve=t[N.charCodeAt(X)];if(Ve===255)return;for(var Fe=0,et=he-1;(Ve!==0||Fe<se)&&et!==-1;et--,Fe++)Ve+=o*le[et]>>>0,le[et]=Ve%256>>>0,Ve=Ve/256>>>0;if(Ve!==0)throw new Error("Non-zero carry");se=Fe,X++}for(var De=he-se;De!==he&&le[De]===0;)De++;for(var dt=new Uint8Array(ie+(he-De)),cn=ie;De!==he;)dt[cn++]=le[De++];return dt}function ee(N){var X=U(N);if(X)return X;throw new Error("Non-base"+o+" character")}return{encode:x,decodeUnsafe:U,decode:ee}}Wo.exports=ml});var Qo=f(Et=>{"use strict";a();c();var bl=Et&&Et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Et,"__esModule",{value:!0});Et.decode=Et.encode=void 0;var gn=me(),Yo=H(),Jo=bl(Xo()),Zo="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function Al(e,t="00"){let r=typeof e=="string"?(0,Yo.hexToBytes)(e):e,n=typeof t=="string"?(0,Yo.hexToBytes)(t):e;if(!(r instanceof Uint8Array)||!(n instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");let i=gn.base.sha256(gn.base.sha256(new Uint8Array([...n,...r])));return(0,Jo.default)(Zo).encode([...n,...r,...i.slice(0,4)])}Et.encode=Al;function Il(e){let t=(0,Jo.default)(Zo).decode(e),r=t.slice(0,1),n=t.slice(1,-4),i=gn.base.sha256(gn.base.sha256(new Uint8Array([...r,...n])));return t.slice(-4).forEach((s,o)=>{if(s!==i[o])throw new Error("Invalid checksum")}),{prefix:r,data:n}}Et.decode=Il});var sa=f(G=>{"use strict";a();c();var wl=G&&G.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ol=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vl=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&wl(t,e,r);return Ol(t,e),t};Object.defineProperty(G,"__esModule",{value:!0});G.c32ToB58=G.b58ToC32=G.c32addressDecode=G.c32address=G.versions=void 0;var ta=es(),ra=vl(Qo()),ea=H();G.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};var Qt={};Qt[0]=G.versions.mainnet.p2pkh;Qt[5]=G.versions.mainnet.p2sh;Qt[111]=G.versions.testnet.p2pkh;Qt[196]=G.versions.testnet.p2sh;var er={};er[G.versions.mainnet.p2pkh]=0;er[G.versions.mainnet.p2sh]=5;er[G.versions.testnet.p2pkh]=111;er[G.versions.testnet.p2sh]=196;function na(e,t){if(!t.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,ta.c32checkEncode)(e,t)}`}G.c32address=na;function ia(e){if(e.length<=5)throw new Error("Invalid c32 address: invalid length");if(e[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,ta.c32checkDecode)(e.slice(1))}G.c32addressDecode=ia;function Nl(e,t=-1){let r=ra.decode(e),n=(0,ea.bytesToHex)(r.data),i=parseInt((0,ea.bytesToHex)(r.prefix),16),s;return t<0?(s=i,Qt[i]!==void 0&&(s=Qt[i])):s=t,na(s,n)}G.b58ToC32=Nl;function Rl(e,t=-1){let r=ia(e),n=r[0],i=r[1],s;t<0?(s=n,er[n]!==void 0&&(s=er[n])):s=t;let o=s.toString(16);return o.length===1&&(o=`0${o}`),ra.encode(i,o)}G.c32ToB58=Rl});var tr=f(oe=>{"use strict";a();c();Object.defineProperty(oe,"__esModule",{value:!0});oe.b58ToC32=oe.c32ToB58=oe.versions=oe.c32normalize=oe.c32addressDecode=oe.c32address=oe.c32checkDecode=oe.c32checkEncode=oe.c32decode=oe.c32encode=void 0;var ts=Qi();Object.defineProperty(oe,"c32encode",{enumerable:!0,get:function(){return ts.c32encode}});Object.defineProperty(oe,"c32decode",{enumerable:!0,get:function(){return ts.c32decode}});Object.defineProperty(oe,"c32normalize",{enumerable:!0,get:function(){return ts.c32normalize}});var oa=es();Object.defineProperty(oe,"c32checkEncode",{enumerable:!0,get:function(){return oa.c32checkEncode}});Object.defineProperty(oe,"c32checkDecode",{enumerable:!0,get:function(){return oa.c32checkDecode}});var kr=sa();Object.defineProperty(oe,"c32address",{enumerable:!0,get:function(){return kr.c32address}});Object.defineProperty(oe,"c32addressDecode",{enumerable:!0,get:function(){return kr.c32addressDecode}});Object.defineProperty(oe,"c32ToB58",{enumerable:!0,get:function(){return kr.c32ToB58}});Object.defineProperty(oe,"b58ToC32",{enumerable:!0,get:function(){return kr.b58ToC32}});Object.defineProperty(oe,"versions",{enumerable:!0,get:function(){return kr.versions}})});var Wa=f((Ur,rr)=>{"use strict";a();c();var Ml=200,Ta="__lodash_hash_undefined__",Ca=9007199254740991,us="[object Arguments]",Bl="[object Array]",_a="[object Boolean]",Pa="[object Date]",xl="[object Error]",ds="[object Function]",Ea="[object GeneratorFunction]",hn="[object Map]",ma="[object Number]",ls="[object Object]",aa="[object Promise]",ba="[object RegExp]",Sn="[object Set]",Aa="[object String]",Ia="[object Symbol]",ns="[object WeakMap]",wa="[object ArrayBuffer]",Tn="[object DataView]",Oa="[object Float32Array]",va="[object Float64Array]",Na="[object Int8Array]",Ra="[object Int16Array]",Ma="[object Int32Array]",Ba="[object Uint8Array]",xa="[object Uint8ClampedArray]",Va="[object Uint16Array]",Da="[object Uint32Array]",Vl=/[\\^$.*+?()[\]{}|]/g,Dl=/\w*$/,Kl=/^\[object .+?Constructor\]$/,Hl=/^(?:0|[1-9]\d*)$/,$={};$[us]=$[Bl]=$[wa]=$[Tn]=$[_a]=$[Pa]=$[Oa]=$[va]=$[Na]=$[Ra]=$[Ma]=$[hn]=$[ma]=$[ls]=$[ba]=$[Sn]=$[Aa]=$[Ia]=$[Ba]=$[xa]=$[Va]=$[Da]=!0;$[xl]=$[ds]=$[ns]=!1;var Ll=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,kl=typeof self=="object"&&self&&self.Object===Object&&self,lt=Ll||kl||Function("return this")(),Ka=typeof Ur=="object"&&Ur&&!Ur.nodeType&&Ur,ca=Ka&&typeof rr=="object"&&rr&&!rr.nodeType&&rr,Ul=ca&&ca.exports===Ka;function Fl(e,t){return e.set(t[0],t[1]),e}function zl(e,t){return e.add(t),e}function ql(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function jl(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ha(e,t,r,n){var i=-1,s=e?e.length:0;for(n&&s&&(r=e[++i]);++i<s;)r=t(r,e[i],i,e);return r}function Gl(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function $l(e,t){return e?.[t]}function La(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function ua(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function fs(e,t){return function(r){return e(t(r))}}function da(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Wl=Array.prototype,Xl=Function.prototype,Cn=Object.prototype,rs=lt["__core-js_shared__"],la=function(){var e=/[^.]+$/.exec(rs&&rs.keys&&rs.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ka=Xl.toString,mt=Cn.hasOwnProperty,_n=Cn.toString,Yl=RegExp("^"+ka.call(mt).replace(Vl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fa=Ul?lt.Buffer:void 0,pa=lt.Symbol,ya=lt.Uint8Array,Jl=fs(Object.getPrototypeOf,Object),Zl=Object.create,Ql=Cn.propertyIsEnumerable,ef=Wl.splice,ga=Object.getOwnPropertySymbols,tf=fa?fa.isBuffer:void 0,rf=fs(Object.keys,Object),is=sr(lt,"DataView"),Fr=sr(lt,"Map"),ss=sr(lt,"Promise"),os=sr(lt,"Set"),as=sr(lt,"WeakMap"),zr=sr(Object,"create"),nf=zt(is),sf=zt(Fr),of=zt(ss),af=zt(os),cf=zt(as),ha=pa?pa.prototype:void 0,Sa=ha?ha.valueOf:void 0;function Ft(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function uf(){this.__data__=zr?zr(null):{}}function df(e){return this.has(e)&&delete this.__data__[e]}function lf(e){var t=this.__data__;if(zr){var r=t[e];return r===Ta?void 0:r}return mt.call(t,e)?t[e]:void 0}function ff(e){var t=this.__data__;return zr?t[e]!==void 0:mt.call(t,e)}function pf(e,t){var r=this.__data__;return r[e]=zr&&t===void 0?Ta:t,this}Ft.prototype.clear=uf;Ft.prototype.delete=df;Ft.prototype.get=lf;Ft.prototype.has=ff;Ft.prototype.set=pf;function ft(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function yf(){this.__data__=[]}function gf(e){var t=this.__data__,r=Pn(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ef.call(t,r,1),!0}function hf(e){var t=this.__data__,r=Pn(t,e);return r<0?void 0:t[r][1]}function Sf(e){return Pn(this.__data__,e)>-1}function Tf(e,t){var r=this.__data__,n=Pn(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}ft.prototype.clear=yf;ft.prototype.delete=gf;ft.prototype.get=hf;ft.prototype.has=Sf;ft.prototype.set=Tf;function nr(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Cf(){this.__data__={hash:new Ft,map:new(Fr||ft),string:new Ft}}function _f(e){return En(this,e).delete(e)}function Pf(e){return En(this,e).get(e)}function Ef(e){return En(this,e).has(e)}function mf(e,t){return En(this,e).set(e,t),this}nr.prototype.clear=Cf;nr.prototype.delete=_f;nr.prototype.get=Pf;nr.prototype.has=Ef;nr.prototype.set=mf;function ir(e){this.__data__=new ft(e)}function bf(){this.__data__=new ft}function Af(e){return this.__data__.delete(e)}function If(e){return this.__data__.get(e)}function wf(e){return this.__data__.has(e)}function Of(e,t){var r=this.__data__;if(r instanceof ft){var n=r.__data__;if(!Fr||n.length<Ml-1)return n.push([e,t]),this;r=this.__data__=new nr(n)}return r.set(e,t),this}ir.prototype.clear=bf;ir.prototype.delete=Af;ir.prototype.get=If;ir.prototype.has=wf;ir.prototype.set=Of;function vf(e,t){var r=ys(e)||Qf(e)?Gl(e.length,String):[],n=r.length,i=!!n;for(var s in e)(t||mt.call(e,s))&&!(i&&(s=="length"||Xf(s,n)))&&r.push(s);return r}function Ua(e,t,r){var n=e[t];(!(mt.call(e,t)&&ja(n,r))||r===void 0&&!(t in e))&&(e[t]=r)}function Pn(e,t){for(var r=e.length;r--;)if(ja(e[r][0],t))return r;return-1}function Nf(e,t){return e&&Fa(t,gs(t),e)}function cs(e,t,r,n,i,s,o){var u;if(n&&(u=s?n(e,i,s,o):n(e)),u!==void 0)return u;if(!mn(e))return e;var l=ys(e);if(l){if(u=Gf(e),!t)return zf(e,u)}else{var h=Ut(e),x=h==ds||h==Ea;if(tp(e))return Df(e,t);if(h==ls||h==us||x&&!s){if(La(e))return s?e:{};if(u=$f(x?{}:e),!t)return qf(e,Nf(u,e))}else{if(!$[h])return s?e:{};u=Wf(e,h,cs,t)}}o||(o=new ir);var U=o.get(e);if(U)return U;if(o.set(e,u),!l)var ee=r?jf(e):gs(e);return ql(ee||e,function(N,X){ee&&(X=N,N=e[X]),Ua(u,X,cs(N,t,r,n,X,e,o))}),u}function Rf(e){return mn(e)?Zl(e):{}}function Mf(e,t,r){var n=t(e);return ys(e)?n:jl(n,r(e))}function Bf(e){return _n.call(e)}function xf(e){if(!mn(e)||Jf(e))return!1;var t=$a(e)||La(e)?Yl:Kl;return t.test(zt(e))}function Vf(e){if(!qa(e))return rf(e);var t=[];for(var r in Object(e))mt.call(e,r)&&r!="constructor"&&t.push(r);return t}function Df(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}function ps(e){var t=new e.constructor(e.byteLength);return new ya(t).set(new ya(e)),t}function Kf(e,t){var r=t?ps(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Hf(e,t,r){var n=t?r(ua(e),!0):ua(e);return Ha(n,Fl,new e.constructor)}function Lf(e){var t=new e.constructor(e.source,Dl.exec(e));return t.lastIndex=e.lastIndex,t}function kf(e,t,r){var n=t?r(da(e),!0):da(e);return Ha(n,zl,new e.constructor)}function Uf(e){return Sa?Object(Sa.call(e)):{}}function Ff(e,t){var r=t?ps(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function zf(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function Fa(e,t,r,n){r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],u=n?n(r[o],e[o],o,r,e):void 0;Ua(r,o,u===void 0?e[o]:u)}return r}function qf(e,t){return Fa(e,za(e),t)}function jf(e){return Mf(e,gs,za)}function En(e,t){var r=e.__data__;return Yf(t)?r[typeof t=="string"?"string":"hash"]:r.map}function sr(e,t){var r=$l(e,t);return xf(r)?r:void 0}var za=ga?fs(ga,Object):ip,Ut=Bf;(is&&Ut(new is(new ArrayBuffer(1)))!=Tn||Fr&&Ut(new Fr)!=hn||ss&&Ut(ss.resolve())!=aa||os&&Ut(new os)!=Sn||as&&Ut(new as)!=ns)&&(Ut=function(e){var t=_n.call(e),r=t==ls?e.constructor:void 0,n=r?zt(r):void 0;if(n)switch(n){case nf:return Tn;case sf:return hn;case of:return aa;case af:return Sn;case cf:return ns}return t});function Gf(e){var t=e.length,r=e.constructor(t);return t&&typeof e[0]=="string"&&mt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function $f(e){return typeof e.constructor=="function"&&!qa(e)?Rf(Jl(e)):{}}function Wf(e,t,r,n){var i=e.constructor;switch(t){case wa:return ps(e);case _a:case Pa:return new i(+e);case Tn:return Kf(e,n);case Oa:case va:case Na:case Ra:case Ma:case Ba:case xa:case Va:case Da:return Ff(e,n);case hn:return Hf(e,n,r);case ma:case Aa:return new i(e);case ba:return Lf(e);case Sn:return kf(e,n,r);case Ia:return Uf(e)}}function Xf(e,t){return t=t??Ca,!!t&&(typeof e=="number"||Hl.test(e))&&e>-1&&e%1==0&&e<t}function Yf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Jf(e){return!!la&&la in e}function qa(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Cn;return e===r}function zt(e){if(e!=null){try{return ka.call(e)}catch{}try{return e+""}catch{}}return""}function Zf(e){return cs(e,!0,!0)}function ja(e,t){return e===t||e!==e&&t!==t}function Qf(e){return ep(e)&&mt.call(e,"callee")&&(!Ql.call(e,"callee")||_n.call(e)==us)}var ys=Array.isArray;function Ga(e){return e!=null&&rp(e.length)&&!$a(e)}function ep(e){return np(e)&&Ga(e)}var tp=tf||sp;function $a(e){var t=mn(e)?_n.call(e):"";return t==ds||t==Ea}function rp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ca}function mn(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function np(e){return!!e&&typeof e=="object"}function gs(e){return Ga(e)?vf(e):Vf(e)}function ip(){return[]}function sp(){return!1}rr.exports=Zf});var or=f(rt=>{"use strict";a();c();Object.defineProperty(rt,"__esModule",{value:!0});rt.addressToString=rt.addressFromVersionHash=rt.addressHashModeToVersion=rt.createMessageSignature=void 0;var be=Se(),op=tr(),ap=H();function cp(e){if((0,ap.hexToBytes)(e).byteLength!=be.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:be.StacksMessageType.MessageSignature,data:e}}rt.createMessageSignature=cp;function up(e,t){switch(e){case be.AddressHashMode.SerializeP2PKH:switch(t){case be.TransactionVersion.Mainnet:return be.AddressVersion.MainnetSingleSig;case be.TransactionVersion.Testnet:return be.AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}case be.AddressHashMode.SerializeP2SH:case be.AddressHashMode.SerializeP2WPKH:case be.AddressHashMode.SerializeP2WSH:switch(t){case be.TransactionVersion.Mainnet:return be.AddressVersion.MainnetMultiSig;case be.TransactionVersion.Testnet:return be.AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(t)} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(e)}`)}}rt.addressHashModeToVersion=up;function dp(e,t){return{type:be.StacksMessageType.Address,version:e,hash160:t}}rt.addressFromVersionHash=dp;function lp(e){return(0,op.c32address)(e.version,e.hash160)}rt.addressToString=lp});var pt=f(Ce=>{"use strict";a();c();Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createStandardPrincipal=Ce.createContractPrincipal=Ce.parsePrincipalString=Ce.createAddress=Ce.createAssetInfo=Ce.createLPString=Ce.parseAssetInfoString=void 0;var bt=Se(),fp=tr(),pp=Xe();function yp(e){let[t,r,n]=e.split(/\.|::/);return Xa(t,r,n)}Ce.parseAssetInfoString=yp;function bn(e,t,r){let n=t||1,i=r||bt.MAX_STRING_LENGTH_BYTES;if((0,pp.exceedsMaxLengthBytes)(e,i))throw new Error(`String length exceeds maximum bytes ${i}`);return{type:bt.StacksMessageType.LengthPrefixedString,content:e,lengthPrefixBytes:n,maxLengthBytes:i}}Ce.createLPString=bn;function Xa(e,t,r){return{type:bt.StacksMessageType.AssetInfo,address:An(e),contractName:bn(t),assetName:bn(r)}}Ce.createAssetInfo=Xa;function An(e){let t=(0,fp.c32addressDecode)(e);return{type:bt.StacksMessageType.Address,version:t[0],hash160:t[1]}}Ce.createAddress=An;function gp(e){if(e.includes(".")){let[t,r]=e.split(".");return Ya(t,r)}else return Ja(e)}Ce.parsePrincipalString=gp;function Ya(e,t){let r=An(e),n=bn(t);return{type:bt.StacksMessageType.Principal,prefix:bt.PostConditionPrincipalID.Contract,address:r,contractName:n}}Ce.createContractPrincipal=Ya;function Ja(e){let t=An(e);return{type:bt.StacksMessageType.Principal,prefix:bt.PostConditionPrincipalID.Standard,address:t}}Ce.createStandardPrincipal=Ja});var Ke=f(qr=>{"use strict";a();c();Object.defineProperty(qr,"__esModule",{value:!0});qr.ClarityType=void 0;var hp;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(hp=qr.ClarityType||(qr.ClarityType={}))});var wn=f(_e=>{"use strict";a();c();Object.defineProperty(_e,"__esModule",{value:!0});_e.contractPrincipalCVFromStandard=_e.contractPrincipalCVFromAddress=_e.contractPrincipalCV=_e.standardPrincipalCVFromAddress=_e.standardPrincipalCV=_e.principalToString=_e.principalCV=void 0;var Sp=H(),Za=or(),In=pt(),ar=Ke();function Tp(e){if(e.type===ar.ClarityType.PrincipalStandard)return(0,Za.addressToString)(e.address);if(e.type===ar.ClarityType.PrincipalContract)return`${(0,Za.addressToString)(e.address)}.${e.contractName.content}`;throw new Error(`Unexpected principal data: ${JSON.stringify(e)}`)}_e.principalToString=Tp;function Cp(e){if(e.includes(".")){let[t,r]=e.split(".");return ec(t,r)}else return Qa(e)}_e.principalCV=Cp;function Qa(e){let t=(0,In.createAddress)(e);return{type:ar.ClarityType.PrincipalStandard,address:t}}_e.standardPrincipalCV=Qa;function _p(e){return{type:ar.ClarityType.PrincipalStandard,address:e}}_e.standardPrincipalCVFromAddress=_p;function ec(e,t){let r=(0,In.createAddress)(e),n=(0,In.createLPString)(t);return tc(r,n)}_e.contractPrincipalCV=ec;function tc(e,t){if((0,Sp.utf8ToBytes)(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:ar.ClarityType.PrincipalContract,address:e,contractName:t}}_e.contractPrincipalCVFromAddress=tc;function Pp(e,t){let r=(0,In.createLPString)(t);return{type:ar.ClarityType.PrincipalContract,address:e.address,contractName:r}}_e.contractPrincipalCVFromStandard=Pp});var nc=f(nt=>{"use strict";a();c();Object.defineProperty(nt,"__esModule",{value:!0});nt.getCVTypeString=nt.cvToJSON=nt.cvToValue=nt.cvToString=void 0;var rc=wn(),A=Ke(),jr=H();function cr(e,t="hex"){switch(e.type){case A.ClarityType.BoolTrue:return"true";case A.ClarityType.BoolFalse:return"false";case A.ClarityType.Int:return e.value.toString();case A.ClarityType.UInt:return`u${e.value.toString()}`;case A.ClarityType.Buffer:if(t==="tryAscii"){let r=(0,jr.bytesToAscii)(e.buffer);if(/[ -~]/.test(r))return JSON.stringify(r)}return`0x${(0,jr.bytesToHex)(e.buffer)}`;case A.ClarityType.OptionalNone:return"none";case A.ClarityType.OptionalSome:return`(some ${cr(e.value,t)})`;case A.ClarityType.ResponseErr:return`(err ${cr(e.value,t)})`;case A.ClarityType.ResponseOk:return`(ok ${cr(e.value,t)})`;case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return(0,rc.principalToString)(e);case A.ClarityType.List:return`(list ${e.list.map(r=>cr(r,t)).join(" ")})`;case A.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(r=>`(${r} ${cr(e.data[r],t)})`).join(" ")})`;case A.ClarityType.StringASCII:return`"${e.data}"`;case A.ClarityType.StringUTF8:return`u"${e.data}"`}}nt.cvToString=cr;function On(e,t=!1){switch(e.type){case A.ClarityType.BoolTrue:return!0;case A.ClarityType.BoolFalse:return!1;case A.ClarityType.Int:case A.ClarityType.UInt:return t?e.value.toString():e.value;case A.ClarityType.Buffer:return`0x${(0,jr.bytesToHex)(e.buffer)}`;case A.ClarityType.OptionalNone:return null;case A.ClarityType.OptionalSome:return ur(e.value);case A.ClarityType.ResponseErr:return ur(e.value);case A.ClarityType.ResponseOk:return ur(e.value);case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return(0,rc.principalToString)(e);case A.ClarityType.List:return e.list.map(n=>ur(n));case A.ClarityType.Tuple:let r={};return Object.keys(e.data).forEach(n=>{r[n]=ur(e.data[n])}),r;case A.ClarityType.StringASCII:return e.data;case A.ClarityType.StringUTF8:return e.data}}nt.cvToValue=On;function ur(e){switch(e.type){case A.ClarityType.ResponseErr:return{type:yt(e),value:On(e,!0),success:!1};case A.ClarityType.ResponseOk:return{type:yt(e),value:On(e,!0),success:!0};default:return{type:yt(e),value:On(e,!0)}}}nt.cvToJSON=ur;function yt(e){switch(e.type){case A.ClarityType.BoolTrue:case A.ClarityType.BoolFalse:return"bool";case A.ClarityType.Int:return"int";case A.ClarityType.UInt:return"uint";case A.ClarityType.Buffer:return`(buff ${e.buffer.length})`;case A.ClarityType.OptionalNone:return"(optional none)";case A.ClarityType.OptionalSome:return`(optional ${yt(e.value)})`;case A.ClarityType.ResponseErr:return`(response UnknownType ${yt(e.value)})`;case A.ClarityType.ResponseOk:return`(response ${yt(e.value)} UnknownType)`;case A.ClarityType.PrincipalStandard:case A.ClarityType.PrincipalContract:return"principal";case A.ClarityType.List:return`(list ${e.list.length} ${e.list.length?yt(e.list[0]):"UnknownType"})`;case A.ClarityType.Tuple:return`(tuple ${Object.keys(e.data).map(t=>`(${t} ${yt(e.data[t])})`).join(" ")})`;case A.ClarityType.StringASCII:return`(string-ascii ${(0,jr.asciiToBytes)(e.data).length})`;case A.ClarityType.StringUTF8:return`(string-utf8 ${(0,jr.utf8ToBytes)(e.data).length})`}}nt.getCVTypeString=yt});var ac=f(At=>{"use strict";a();c();Object.defineProperty(At,"__esModule",{value:!0});At.falseCV=At.trueCV=At.boolCV=void 0;var ic=Ke(),sc=()=>({type:ic.ClarityType.BoolTrue});At.trueCV=sc;var oc=()=>({type:ic.ClarityType.BoolFalse});At.falseCV=oc;var Ep=e=>e?sc():oc();At.boolCV=Ep});var pc=f(dr=>{"use strict";a();c();Object.defineProperty(dr,"__esModule",{value:!0});dr.uintCV=dr.intCV=void 0;var lc=H(),fc=Ke(),cc=BigInt("0xffffffffffffffffffffffffffffffff"),mp=BigInt(0),uc=BigInt("0x7fffffffffffffffffffffffffffffff"),dc=BigInt("-170141183460469231731687303715884105728"),bp=e=>{let t=(0,lc.intToBigInt)(e,!0);if(t>uc)throw new RangeError(`Cannot construct clarity integer from value greater than ${uc}`);if(t<dc)throw new RangeError(`Cannot construct clarity integer form value less than ${dc}`);return{type:fc.ClarityType.Int,value:t}};dr.intCV=bp;var Ap=e=>{let t=(0,lc.intToBigInt)(e,!1);if(t<mp)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>cc)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${cc}`);return{type:fc.ClarityType.UInt,value:t}};dr.uintCV=Ap});var gc=f(lr=>{"use strict";a();c();Object.defineProperty(lr,"__esModule",{value:!0});lr.bufferCVFromString=lr.bufferCV=void 0;var Ip=H(),wp=Ke(),yc=e=>{if(e.length>1e6)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:wp.ClarityType.Buffer,buffer:e}};lr.bufferCV=yc;var Op=e=>yc((0,Ip.utf8ToBytes)(e));lr.bufferCVFromString=Op});var Cc=f(It=>{"use strict";a();c();Object.defineProperty(It,"__esModule",{value:!0});It.optionalCVOf=It.someCV=It.noneCV=void 0;var hc=Ke();function Sc(){return{type:hc.ClarityType.OptionalNone}}It.noneCV=Sc;function Tc(e){return{type:hc.ClarityType.OptionalSome,value:e}}It.someCV=Tc;function vp(e){return e?Tc(e):Sc()}It.optionalCVOf=vp});var Pc=f(fr=>{"use strict";a();c();Object.defineProperty(fr,"__esModule",{value:!0});fr.responseOkCV=fr.responseErrorCV=void 0;var _c=Ke();function Np(e){return{type:_c.ClarityType.ResponseErr,value:e}}fr.responseErrorCV=Np;function Rp(e){return{type:_c.ClarityType.ResponseOk,value:e}}fr.responseOkCV=Rp});var Ec=f(vn=>{"use strict";a();c();Object.defineProperty(vn,"__esModule",{value:!0});vn.listCV=void 0;var Mp=Ke();function Bp(e){return{type:Mp.ClarityType.List,list:e}}vn.listCV=Bp});var mc=f(Nn=>{"use strict";a();c();Object.defineProperty(Nn,"__esModule",{value:!0});Nn.tupleCV=void 0;var xp=Ke(),Vp=Xe();function Dp(e){for(let t in e)if(!(0,Vp.isClarityName)(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:xp.ClarityType.Tuple,data:e}}Nn.tupleCV=Dp});var Rn=f(wt=>{"use strict";a();c();Object.defineProperty(wt,"__esModule",{value:!0});wt.stringCV=wt.stringUtf8CV=wt.stringAsciiCV=void 0;var bc=Ke(),Ac=e=>({type:bc.ClarityType.StringASCII,data:e});wt.stringAsciiCV=Ac;var Ic=e=>({type:bc.ClarityType.StringUTF8,data:e});wt.stringUtf8CV=Ic;var Kp=(e,t)=>{switch(t){case"ascii":return Ac(e);case"utf8":return Ic(e)}};wt.stringCV=Kp});var Ot=f(R=>{"use strict";a();c();Object.defineProperty(R,"__esModule",{value:!0});R.publicKeyToAddress=R.privateKeyToString=R.getPublicKey=R.signMessageHashRsv=R.signWithKey=R.makeRandomPrivKey=R.createStacksPrivateKey=R.deserializePublicKey=R.compressPublicKey=R.pubKeyfromPrivKey=R.serializePublicKey=R.publicKeyToString=R.isCompressed=R.publicKeyFromBytes=R.publicKeyFromSignatureRsv=R.publicKeyFromSignatureVrs=R.createStacksPublicKey=R.getAddressFromPublicKey=R.getAddressFromPrivateKey=void 0;var qt=me(),Hp=qt.secp256k1.getPublicKey,wc=qt.secp256k1.Point,Oc=qt.secp256k1.Signature,Lp=qt.secp256k1.signSync,vc=qt.secp256k1.utils,ye=H(),kp=tr(),Mn=or(),it=Se(),Nc=Xe();vc.hmacSha256Sync=(e,...t)=>{let r=qt.base.hmac.create(qt.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function Up(e,t=it.TransactionVersion.Mainnet){let r=Ss(e);return Rc(r.data,t)}R.getAddressFromPrivateKey=Up;function Rc(e,t=it.TransactionVersion.Mainnet){e=typeof e=="string"?e:(0,ye.bytesToHex)(e);let r=(0,Mn.addressHashModeToVersion)(it.AddressHashMode.SerializeP2PKH,t),n=(0,Mn.addressFromVersionHash)(r,(0,Nc.hashP2PKH)((0,ye.hexToBytes)(e)));return(0,Mn.addressToString)(n)}R.getAddressFromPublicKey=Rc;function hs(e){return{type:it.StacksMessageType.PublicKey,data:(0,ye.hexToBytes)(e)}}R.createStacksPublicKey=hs;function Mc(e,t,r=it.PubKeyEncoding.Compressed){let n=(0,ye.parseRecoverableSignatureVrs)(t.data),i=new Oc((0,ye.hexToBigInt)(n.r),(0,ye.hexToBigInt)(n.s)),s=wc.fromSignature(e,i,n.recoveryId),o=r===it.PubKeyEncoding.Compressed;return s.toHex(o)}R.publicKeyFromSignatureVrs=Mc;function Fp(e,t,r=it.PubKeyEncoding.Compressed){return Mc(e,{...t,data:(0,ye.signatureRsvToVrs)(t.data)},r)}R.publicKeyFromSignatureRsv=Fp;function Bc(e){return{type:it.StacksMessageType.PublicKey,data:e}}R.publicKeyFromBytes=Bc;function zp(e){return!(0,ye.bytesToHex)(e.data).startsWith("04")}R.isCompressed=zp;function qp(e){return(0,ye.bytesToHex)(e.data)}R.publicKeyToString=qp;function jp(e){return e.data.slice()}R.serializePublicKey=jp;function Ss(e){let t=Ts(e),r=Hp(t.data.slice(0,32),t.compressed);return hs((0,ye.bytesToHex)(r))}R.pubKeyfromPrivKey=Ss;function Gp(e){let t=typeof e=="string"?e:(0,ye.bytesToHex)(e),r=wc.fromHex(t).toHex(!0);return hs(r)}R.compressPublicKey=Gp;function $p(e){let t=e.readUInt8(),r=t!==4?it.COMPRESSED_PUBKEY_LENGTH_BYTES:it.UNCOMPRESSED_PUBKEY_LENGTH_BYTES;return Bc((0,ye.concatArray)([t,e.readBytes(r)]))}R.deserializePublicKey=$p;function Ts(e){if(e==null||null||e.length==0)throw new Error("invalid key");let t=(0,ye.privateKeyToBytes)(e);if(t.every(n=>n===0))throw new Error("invalid key");let r=t.length==ye.PRIVATE_KEY_COMPRESSED_LENGTH;return{data:t,compressed:r}}R.createStacksPrivateKey=Ts;function Wp(){return Ts(vc.randomPrivateKey())}R.makeRandomPrivKey=Wp;function xc(e,t){let[r,n]=Lp(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(n==null)throw new Error("No signature recoveryId received");let s=(0,ye.intToHex)(n,1)+Oc.fromHex(r).toCompactHex();return(0,Mn.createMessageSignature)(s)}R.signWithKey=xc;function Xp({messageHash:e,privateKey:t}){let r=xc(t,e);return{...r,data:(0,ye.signatureVrsToRsv)(r.data)}}R.signMessageHashRsv=Xp;function Yp(e){return Ss(e.data)}R.getPublicKey=Yp;function Jp(e){return(0,ye.bytesToHex)(e.data)}R.privateKeyToString=Jp;function Zp(e,t){return(0,kp.c32address)(e,(0,ye.bytesToHex)((0,Nc.hash160)(t.data)))}R.publicKeyToAddress=Zp});var yr=f(W=>{"use strict";a();c();Object.defineProperty(W,"__esModule",{value:!0});W.deserializePayload=W.serializePayload=W.createCoinbasePayload=W.createPoisonPayload=W.createSmartContractPayload=W.createContractCallPayload=W.createTokenTransferPayload=W.isCoinbasePayload=W.isPoisonPayload=W.isSmartContractPayload=W.isContractCallPayload=W.isTokenTransferPayload=void 0;var Gr=H(),B=Se(),pr=gt(),Qp=wn(),Bn=pt(),fe=vt();function ey(e){return e.payloadType===B.PayloadType.TokenTransfer}W.isTokenTransferPayload=ey;function ty(e){return e.payloadType===B.PayloadType.ContractCall}W.isContractCallPayload=ty;function ry(e){return e.payloadType===B.PayloadType.SmartContract}W.isSmartContractPayload=ry;function ny(e){return e.payloadType===B.PayloadType.PoisonMicroblock}W.isPoisonPayload=ny;function iy(e){return e.payloadType===B.PayloadType.Coinbase}W.isCoinbasePayload=iy;function Vc(e,t,r){return typeof e=="string"&&(e=(0,Qp.principalCV)(e)),typeof r=="string"&&(r=(0,fe.createMemoString)(r)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.TokenTransfer,recipient:e,amount:(0,Gr.intToBigInt)(t,!1),memo:r??(0,fe.createMemoString)("")}}W.createTokenTransferPayload=Vc;function Dc(e,t,r,n){return typeof e=="string"&&(e=(0,Bn.createAddress)(e)),typeof t=="string"&&(t=(0,Bn.createLPString)(t)),typeof r=="string"&&(r=(0,Bn.createLPString)(r)),{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.ContractCall,contractAddress:e,contractName:t,functionName:r,functionArgs:n}}W.createContractCallPayload=Dc;function Cs(e,t,r){return typeof e=="string"&&(e=(0,Bn.createLPString)(e)),typeof t=="string"&&(t=(0,fe.codeBodyString)(t)),typeof r=="number"?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.VersionedSmartContract,clarityVersion:r,contractName:e,codeBody:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.SmartContract,contractName:e,codeBody:t}}W.createSmartContractPayload=Cs;function Kc(){return{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.PoisonMicroblock}}W.createPoisonPayload=Kc;function _s(e,t){if(e.byteLength!=B.COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${B.COINBASE_BYTES_LENGTH} bytes`);return t!=null?{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:B.StacksMessageType.Payload,payloadType:B.PayloadType.Coinbase,coinbaseBytes:e}}W.createCoinbasePayload=_s;function sy(e){let t=[];switch(t.push(e.payloadType),e.payloadType){case B.PayloadType.TokenTransfer:t.push((0,pr.serializeCV)(e.recipient)),t.push((0,Gr.intToBytes)(e.amount,!1,8)),t.push((0,fe.serializeStacksMessage)(e.memo));break;case B.PayloadType.ContractCall:t.push((0,fe.serializeStacksMessage)(e.contractAddress)),t.push((0,fe.serializeStacksMessage)(e.contractName)),t.push((0,fe.serializeStacksMessage)(e.functionName));let r=new Uint8Array(4);(0,Gr.writeUInt32BE)(r,e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(n=>{t.push((0,pr.serializeCV)(n))});break;case B.PayloadType.SmartContract:t.push((0,fe.serializeStacksMessage)(e.contractName)),t.push((0,fe.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.VersionedSmartContract:t.push(e.clarityVersion),t.push((0,fe.serializeStacksMessage)(e.contractName)),t.push((0,fe.serializeStacksMessage)(e.codeBody));break;case B.PayloadType.PoisonMicroblock:break;case B.PayloadType.Coinbase:t.push(e.coinbaseBytes);break;case B.PayloadType.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push((0,pr.serializeCV)(e.recipient));break}return(0,Gr.concatArray)(t)}W.serializePayload=sy;function oy(e){switch(e.readUInt8Enum(B.PayloadType,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case B.PayloadType.TokenTransfer:let r=(0,pr.deserializeCV)(e),n=(0,Gr.intToBigInt)(e.readBytes(8),!1),i=(0,fe.deserializeMemoString)(e);return Vc(r,n,i);case B.PayloadType.ContractCall:let s=(0,fe.deserializeAddress)(e),o=(0,fe.deserializeLPString)(e),u=(0,fe.deserializeLPString)(e),l=[],h=e.readUInt32BE();for(let ie=0;ie<h;ie++){let se=(0,pr.deserializeCV)(e);l.push(se)}return Dc(s,o,u,l);case B.PayloadType.SmartContract:let x=(0,fe.deserializeLPString)(e),U=(0,fe.deserializeLPString)(e,4,1e5);return Cs(x,U);case B.PayloadType.VersionedSmartContract:{let ie=e.readUInt8Enum(B.ClarityVersion,le=>{throw new Error(`Cannot recognize ClarityVersion: ${le}`)}),se=(0,fe.deserializeLPString)(e),he=(0,fe.deserializeLPString)(e,4,1e5);return Cs(se,he,ie)}case B.PayloadType.PoisonMicroblock:return Kc();case B.PayloadType.Coinbase:let ee=e.readBytes(B.COINBASE_BYTES_LENGTH);return _s(ee);case B.PayloadType.CoinbaseToAltRecipient:let N=e.readBytes(B.COINBASE_BYTES_LENGTH),X=(0,pr.deserializeCV)(e);return _s(N,X)}}W.deserializePayload=oy});var ht=f(Me=>{"use strict";a();c();Object.defineProperty(Me,"__esModule",{value:!0});Me.VerificationError=Me.SigningError=Me.NotImplementedError=Me.NoEstimateAvailableError=Me.DeserializationError=Me.SerializationError=void 0;var Nt=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Ps=class extends Nt{constructor(t){super(t)}};Me.SerializationError=Ps;var Es=class extends Nt{constructor(t){super(t)}};Me.DeserializationError=Es;var ms=class extends Nt{constructor(t){super(t)}};Me.NoEstimateAvailableError=ms;var bs=class extends Nt{constructor(t){super(t)}};Me.NotImplementedError=bs;var As=class extends Nt{constructor(t){super(t)}};Me.SigningError=As;var Is=class extends Nt{constructor(t){super(t)}};Me.VerificationError=Is});var Xr=f(Ae=>{"use strict";a();c();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.serializeTransactionAuthField=Ae.serializeMessageSignature=Ae.deserializeTransactionAuthField=Ae.createTransactionAuthField=Ae.deserializeMessageSignature=Ae.AuthFieldType=void 0;var ay=ht(),ot=Se(),Wr=Ot(),cy=or(),Os=H(),st;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(st=Ae.AuthFieldType||(Ae.AuthFieldType={}));function ws(e){return(0,cy.createMessageSignature)((0,Os.bytesToHex)(e.readBytes(ot.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}Ae.deserializeMessageSignature=ws;function $r(e,t){return{pubKeyEncoding:e,type:ot.StacksMessageType.TransactionAuthField,contents:t}}Ae.createTransactionAuthField=$r;function uy(e){let t=e.readUInt8Enum(st,r=>{throw new ay.DeserializationError(`Could not read ${r} as AuthFieldType`)});switch(t){case st.PublicKeyCompressed:return $r(ot.PubKeyEncoding.Compressed,(0,Wr.deserializePublicKey)(e));case st.PublicKeyUncompressed:return $r(ot.PubKeyEncoding.Uncompressed,(0,Wr.deserializePublicKey)(e));case st.SignatureCompressed:return $r(ot.PubKeyEncoding.Compressed,ws(e));case st.SignatureUncompressed:return $r(ot.PubKeyEncoding.Uncompressed,ws(e));default:throw new Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}Ae.deserializeTransactionAuthField=uy;function Hc(e){return(0,Os.hexToBytes)(e.data)}Ae.serializeMessageSignature=Hc;function dy(e){let t=[];switch(e.contents.type){case ot.StacksMessageType.PublicKey:e.pubKeyEncoding==ot.PubKeyEncoding.Compressed?(t.push(st.PublicKeyCompressed),t.push((0,Wr.serializePublicKey)(e.contents))):(t.push(st.PublicKeyUncompressed),t.push((0,Wr.serializePublicKey)((0,Wr.compressPublicKey)(e.contents.data))));break;case ot.StacksMessageType.MessageSignature:e.pubKeyEncoding==ot.PubKeyEncoding.Compressed?t.push(st.SignatureCompressed):t.push(st.SignatureUncompressed),t.push(Hc(e.contents));break}return(0,Os.concatArray)(t)}Ae.serializeTransactionAuthField=dy});var vt=f(I=>{"use strict";a();c();Object.defineProperty(I,"__esModule",{value:!0});I.deserializePostCondition=I.serializePostCondition=I.deserializeLPList=I.serializeLPList=I.createLPList=I.deserializeAssetInfo=I.serializeAssetInfo=I.deserializeMemoString=I.serializeMemoString=I.createMemoString=I.codeBodyString=I.deserializeLPString=I.serializeLPString=I.deserializePrincipal=I.serializePrincipal=I.deserializeAddress=I.serializeAddress=I.addressFromPublicKeys=I.addressFromHashMode=I.createEmptyAddress=I.deserializeStacksMessage=I.serializeStacksMessage=void 0;var F=H(),y=Se(),Tr=Ot(),gr=Xe(),Lc=pt(),kc=yr(),hr=ht(),xn=Xr(),Sr=or(),Uc=gt();function Fc(e){switch(e.type){case y.StacksMessageType.Address:return Vn(e);case y.StacksMessageType.Principal:return vs(e);case y.StacksMessageType.LengthPrefixedString:return Yr(e);case y.StacksMessageType.MemoString:return zc(e);case y.StacksMessageType.AssetInfo:return Ms(e);case y.StacksMessageType.PostCondition:return $c(e);case y.StacksMessageType.PublicKey:return(0,Tr.serializePublicKey)(e);case y.StacksMessageType.LengthPrefixedList:return jc(e);case y.StacksMessageType.Payload:return(0,kc.serializePayload)(e);case y.StacksMessageType.TransactionAuthField:return(0,xn.serializeTransactionAuthField)(e);case y.StacksMessageType.MessageSignature:return(0,xn.serializeMessageSignature)(e)}}I.serializeStacksMessage=Fc;function ly(e,t,r){switch(t){case y.StacksMessageType.Address:return Zr(e);case y.StacksMessageType.Principal:return Ns(e);case y.StacksMessageType.LengthPrefixedString:return Cr(e);case y.StacksMessageType.MemoString:return Rs(e);case y.StacksMessageType.AssetInfo:return Jr(e);case y.StacksMessageType.PostCondition:return Bs(e);case y.StacksMessageType.PublicKey:return(0,Tr.deserializePublicKey)(e);case y.StacksMessageType.Payload:return(0,kc.deserializePayload)(e);case y.StacksMessageType.LengthPrefixedList:if(!r)throw new hr.DeserializationError("No List Type specified");return Gc(e,r);case y.StacksMessageType.MessageSignature:return(0,xn.deserializeMessageSignature)(e);default:throw new Error("Could not recognize StacksMessageType")}}I.deserializeStacksMessage=ly;function fy(){return{type:y.StacksMessageType.Address,version:y.AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}I.createEmptyAddress=fy;function py(e,t,r){let n=(0,Sr.addressHashModeToVersion)(e,t);return(0,Sr.addressFromVersionHash)(n,r)}I.addressFromHashMode=py;function yy(e,t,r,n){if(n.length===0)throw Error("Invalid number of public keys");if((t===y.AddressHashMode.SerializeP2PKH||t===y.AddressHashMode.SerializeP2WPKH)&&(n.length!==1||r!==1))throw Error("Invalid number of public keys or signatures");if(t===y.AddressHashMode.SerializeP2WPKH||t===y.AddressHashMode.SerializeP2WSH){for(let i=0;i<n.length;i++)if(!(0,Tr.isCompressed)(n[i]))throw Error("Public keys must be compressed for segwit")}switch(t){case y.AddressHashMode.SerializeP2PKH:return(0,Sr.addressFromVersionHash)(e,(0,gr.hashP2PKH)(n[0].data));case y.AddressHashMode.SerializeP2WPKH:return(0,Sr.addressFromVersionHash)(e,(0,gr.hashP2WPKH)(n[0].data));case y.AddressHashMode.SerializeP2SH:return(0,Sr.addressFromVersionHash)(e,(0,gr.hashP2SH)(r,n.map(Tr.serializePublicKey)));case y.AddressHashMode.SerializeP2WSH:return(0,Sr.addressFromVersionHash)(e,(0,gr.hashP2WSH)(r,n.map(Tr.serializePublicKey)))}}I.addressFromPublicKeys=yy;function Vn(e){let t=[];return t.push((0,F.hexToBytes)((0,F.intToHex)(e.version,1))),t.push((0,F.hexToBytes)(e.hash160)),(0,F.concatArray)(t)}I.serializeAddress=Vn;function Zr(e){let t=(0,F.hexToInt)((0,F.bytesToHex)(e.readBytes(1))),r=(0,F.bytesToHex)(e.readBytes(20));return{type:y.StacksMessageType.Address,version:t,hash160:r}}I.deserializeAddress=Zr;function vs(e){let t=[];return t.push(e.prefix),t.push(Vn(e.address)),e.prefix===y.PostConditionPrincipalID.Contract&&t.push(Yr(e.contractName)),(0,F.concatArray)(t)}I.serializePrincipal=vs;function Ns(e){let t=e.readUInt8Enum(y.PostConditionPrincipalID,i=>{throw new hr.DeserializationError(`Unexpected Principal payload type: ${i}`)}),r=Zr(e);if(t===y.PostConditionPrincipalID.Standard)return{type:y.StacksMessageType.Principal,prefix:t,address:r};let n=Cr(e);return{type:y.StacksMessageType.Principal,prefix:t,address:r,contractName:n}}I.deserializePrincipal=Ns;function Yr(e){let t=[],r=(0,F.utf8ToBytes)(e.content),n=r.byteLength;return t.push((0,F.hexToBytes)((0,F.intToHex)(n,e.lengthPrefixBytes))),t.push(r),(0,F.concatArray)(t)}I.serializeLPString=Yr;function Cr(e,t,r){t=t||1;let n=(0,F.hexToInt)((0,F.bytesToHex)(e.readBytes(t))),i=(0,F.bytesToUtf8)(e.readBytes(n));return(0,Lc.createLPString)(i,t,r??128)}I.deserializeLPString=Cr;function gy(e){return(0,Lc.createLPString)(e,4,1e5)}I.codeBodyString=gy;function hy(e){if(e&&(0,gr.exceedsMaxLengthBytes)(e,y.MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${y.MEMO_MAX_LENGTH_BYTES} bytes`);return{type:y.StacksMessageType.MemoString,content:e}}I.createMemoString=hy;function zc(e){let t=[],r=(0,F.utf8ToBytes)(e.content),n=(0,gr.rightPadHexToLength)((0,F.bytesToHex)(r),y.MEMO_MAX_LENGTH_BYTES*2);return t.push((0,F.hexToBytes)(n)),(0,F.concatArray)(t)}I.serializeMemoString=zc;function Rs(e){let t=(0,F.bytesToUtf8)(e.readBytes(y.MEMO_MAX_LENGTH_BYTES));return{type:y.StacksMessageType.MemoString,content:t}}I.deserializeMemoString=Rs;function Ms(e){let t=[];return t.push(Vn(e.address)),t.push(Yr(e.contractName)),t.push(Yr(e.assetName)),(0,F.concatArray)(t)}I.serializeAssetInfo=Ms;function Jr(e){return{type:y.StacksMessageType.AssetInfo,address:Zr(e),contractName:Cr(e),assetName:Cr(e)}}I.deserializeAssetInfo=Jr;function qc(e,t){return{type:y.StacksMessageType.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}I.createLPList=qc;function jc(e){let t=e.values,r=[];r.push((0,F.hexToBytes)((0,F.intToHex)(t.length,e.lengthPrefixBytes)));for(let n of t)r.push(Fc(n));return(0,F.concatArray)(r)}I.serializeLPList=jc;function Gc(e,t,r){let n=(0,F.hexToInt)((0,F.bytesToHex)(e.readBytes(r||4))),i=[];for(let s=0;s<n;s++)switch(t){case y.StacksMessageType.Address:i.push(Zr(e));break;case y.StacksMessageType.LengthPrefixedString:i.push(Cr(e));break;case y.StacksMessageType.MemoString:i.push(Rs(e));break;case y.StacksMessageType.AssetInfo:i.push(Jr(e));break;case y.StacksMessageType.PostCondition:i.push(Bs(e));break;case y.StacksMessageType.PublicKey:i.push((0,Tr.deserializePublicKey)(e));break;case y.StacksMessageType.TransactionAuthField:i.push((0,xn.deserializeTransactionAuthField)(e));break}return qc(i,r)}I.deserializeLPList=Gc;function $c(e){let t=[];return t.push(e.conditionType),t.push(vs(e.principal)),(e.conditionType===y.PostConditionType.Fungible||e.conditionType===y.PostConditionType.NonFungible)&&t.push(Ms(e.assetInfo)),e.conditionType===y.PostConditionType.NonFungible&&t.push((0,Uc.serializeCV)(e.assetName)),t.push(e.conditionCode),(e.conditionType===y.PostConditionType.STX||e.conditionType===y.PostConditionType.Fungible)&&t.push((0,F.intToBytes)(e.amount,!1,8)),(0,F.concatArray)(t)}I.serializePostCondition=$c;function Bs(e){let t=e.readUInt8Enum(y.PostConditionType,o=>{throw new hr.DeserializationError(`Could not read ${o} as PostConditionType`)}),r=Ns(e),n,i,s;switch(t){case y.PostConditionType.STX:return n=e.readUInt8Enum(y.FungibleConditionCode,u=>{throw new hr.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),s=BigInt(`0x${(0,F.bytesToHex)(e.readBytes(8))}`),{type:y.StacksMessageType.PostCondition,conditionType:y.PostConditionType.STX,principal:r,conditionCode:n,amount:s};case y.PostConditionType.Fungible:return i=Jr(e),n=e.readUInt8Enum(y.FungibleConditionCode,u=>{throw new hr.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),s=BigInt(`0x${(0,F.bytesToHex)(e.readBytes(8))}`),{type:y.StacksMessageType.PostCondition,conditionType:y.PostConditionType.Fungible,principal:r,conditionCode:n,amount:s,assetInfo:i};case y.PostConditionType.NonFungible:i=Jr(e);let o=(0,Uc.deserializeCV)(e);return n=e.readUInt8Enum(y.NonFungibleConditionCode,u=>{throw new hr.DeserializationError(`Could not read ${u} as FungibleConditionCode`)}),{type:y.StacksMessageType.PostCondition,conditionType:y.PostConditionType.NonFungible,principal:r,conditionCode:n,assetInfo:i,assetName:o}}}I.deserializePostCondition=Bs});var Xc=f(Kn=>{"use strict";a();c();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.serializeCV=void 0;var Ie=H(),Dn=vt(),Sy=pt(),Pe=Ke(),Ty=ht(),xs=Se();function at(e,t){return(0,Ie.concatArray)([e,t])}function Cy(e){return new Uint8Array([e.type])}function _y(e){return e.type===Pe.ClarityType.OptionalNone?new Uint8Array([e.type]):at(e.type,Qr(e.value))}function Py(e){let t=new Uint8Array(4);return(0,Ie.writeUInt32BE)(t,e.buffer.length,0),at(e.type,(0,Ie.concatBytes)(t,e.buffer))}function Ey(e){let t=(0,Ie.bigIntToBytes)((0,Ie.toTwos)(e.value,BigInt(xs.CLARITY_INT_SIZE)),xs.CLARITY_INT_BYTE_SIZE);return at(e.type,t)}function my(e){let t=(0,Ie.bigIntToBytes)(e.value,xs.CLARITY_INT_BYTE_SIZE);return at(e.type,t)}function by(e){return at(e.type,(0,Dn.serializeAddress)(e.address))}function Ay(e){return at(e.type,(0,Ie.concatBytes)((0,Dn.serializeAddress)(e.address),(0,Dn.serializeLPString)(e.contractName)))}function Iy(e){return at(e.type,Qr(e.value))}function wy(e){let t=[],r=new Uint8Array(4);(0,Ie.writeUInt32BE)(r,e.list.length,0),t.push(r);for(let n of e.list){let i=Qr(n);t.push(i)}return at(e.type,(0,Ie.concatArray)(t))}function Oy(e){let t=[],r=new Uint8Array(4);(0,Ie.writeUInt32BE)(r,Object.keys(e.data).length,0),t.push(r);let n=Object.keys(e.data).sort((i,s)=>i.localeCompare(s));for(let i of n){let s=(0,Sy.createLPString)(i);t.push((0,Dn.serializeLPString)(s));let o=Qr(e.data[i]);t.push(o)}return at(e.type,(0,Ie.concatArray)(t))}function Wc(e,t){let r=[],n=t=="ascii"?(0,Ie.asciiToBytes)(e.data):(0,Ie.utf8ToBytes)(e.data),i=new Uint8Array(4);return(0,Ie.writeUInt32BE)(i,n.length,0),r.push(i),r.push(n),at(e.type,(0,Ie.concatArray)(r))}function vy(e){return Wc(e,"ascii")}function Ny(e){return Wc(e,"utf8")}function Qr(e){switch(e.type){case Pe.ClarityType.BoolTrue:case Pe.ClarityType.BoolFalse:return Cy(e);case Pe.ClarityType.OptionalNone:case Pe.ClarityType.OptionalSome:return _y(e);case Pe.ClarityType.Buffer:return Py(e);case Pe.ClarityType.UInt:return my(e);case Pe.ClarityType.Int:return Ey(e);case Pe.ClarityType.PrincipalStandard:return by(e);case Pe.ClarityType.PrincipalContract:return Ay(e);case Pe.ClarityType.ResponseOk:case Pe.ClarityType.ResponseErr:return Iy(e);case Pe.ClarityType.List:return wy(e);case Pe.ClarityType.Tuple:return Oy(e);case Pe.ClarityType.StringASCII:return vy(e);case Pe.ClarityType.StringUTF8:return Ny(e);default:throw new Ty.SerializationError("Unable to serialize. Invalid Clarity Value.")}}Kn.serializeCV=Qr});var Hn=f(_r=>{"use strict";a();c();Object.defineProperty(_r,"__esModule",{value:!0});_r.BytesReader=_r.isEnum=void 0;var en=H();function Ry(e){let t=Object.values(e).filter(n=>typeof n=="number"),r=new Set(t);return n=>r.has(n)}var Yc=new Map;function Ds(e,t){let r=Yc.get(e);if(r!==void 0)return r(t);let n=Ry(e);return Yc.set(e,n),Ds(e,t)}_r.isEnum=Ds;var Vs=class{constructor(t){this.consumed=0,this.source=t}readBytes(t){let r=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,r}readUInt32BE(){return(0,en.readUInt32BE)(this.readBytes(4),0)}readUInt8(){return(0,en.readUInt8)(this.readBytes(1),0)}readUInt16BE(){return(0,en.readUInt16BE)(this.readBytes(2),0)}readBigUIntLE(t){let r=this.readBytes(t).slice().reverse(),n=(0,en.bytesToHex)(r);return BigInt(`0x${n}`)}readBigUIntBE(t){let r=this.readBytes(t),n=(0,en.bytesToHex)(r);return BigInt(`0x${n}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,r){let n=this.readUInt8();if(Ds(t,n))return n;throw r(n)}};_r.BytesReader=Vs});var Qc=f(Ls=>{"use strict";a();c();Object.defineProperty(Ls,"__esModule",{value:!0});var z=gt(),Jc=Hn(),Ln=vt(),Ks=ht(),Zc=Rn(),Hs=H();function Pr(e){let t;if(typeof e=="string"){let n=e.slice(0,2).toLowerCase()==="0x";t=new Jc.BytesReader((0,Hs.hexToBytes)(n?e.slice(2):e))}else e instanceof Uint8Array?t=new Jc.BytesReader(e):t=e;switch(t.readUInt8Enum(z.ClarityType,n=>{throw new Ks.DeserializationError(`Cannot recognize Clarity Type: ${n}`)})){case z.ClarityType.Int:return(0,z.intCV)(t.readBytes(16));case z.ClarityType.UInt:return(0,z.uintCV)(t.readBytes(16));case z.ClarityType.Buffer:let n=t.readUInt32BE();return(0,z.bufferCV)(t.readBytes(n));case z.ClarityType.BoolTrue:return(0,z.trueCV)();case z.ClarityType.BoolFalse:return(0,z.falseCV)();case z.ClarityType.PrincipalStandard:let i=(0,Ln.deserializeAddress)(t);return(0,z.standardPrincipalCVFromAddress)(i);case z.ClarityType.PrincipalContract:let s=(0,Ln.deserializeAddress)(t),o=(0,Ln.deserializeLPString)(t);return(0,z.contractPrincipalCVFromAddress)(s,o);case z.ClarityType.ResponseOk:return(0,z.responseOkCV)(Pr(t));case z.ClarityType.ResponseErr:return(0,z.responseErrorCV)(Pr(t));case z.ClarityType.OptionalNone:return(0,z.noneCV)();case z.ClarityType.OptionalSome:return(0,z.someCV)(Pr(t));case z.ClarityType.List:let u=t.readUInt32BE(),l=[];for(let ie=0;ie<u;ie++)l.push(Pr(t));return(0,z.listCV)(l);case z.ClarityType.Tuple:let h=t.readUInt32BE(),x={};for(let ie=0;ie<h;ie++){let se=(0,Ln.deserializeLPString)(t).content;if(se===void 0)throw new Ks.DeserializationError('"content" is undefined');x[se]=Pr(t)}return(0,z.tupleCV)(x);case z.ClarityType.StringASCII:let U=t.readUInt32BE(),ee=(0,Hs.bytesToAscii)(t.readBytes(U));return(0,Zc.stringAsciiCV)(ee);case z.ClarityType.StringUTF8:let N=t.readUInt32BE(),X=(0,Hs.bytesToUtf8)(t.readBytes(N));return(0,Zc.stringUtf8CV)(X);default:throw new Ks.DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}Ls.default=Pr});var gt=f(S=>{"use strict";a();c();var My=S&&S.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0});S.principalToString=S.cvToValue=S.cvToJSON=S.cvToString=S.deserializeCV=S.serializeCV=S.getCVTypeString=S.stringUtf8CV=S.stringAsciiCV=S.stringCV=S.tupleCV=S.listCV=S.contractPrincipalCVFromStandard=S.contractPrincipalCVFromAddress=S.contractPrincipalCV=S.standardPrincipalCVFromAddress=S.standardPrincipalCV=S.principalCV=S.responseErrorCV=S.responseOkCV=S.optionalCVOf=S.someCV=S.noneCV=S.bufferCVFromString=S.bufferCV=S.uintCV=S.intCV=S.falseCV=S.trueCV=S.boolCV=S.ClarityType=void 0;var kn=nc();Object.defineProperty(S,"getCVTypeString",{enumerable:!0,get:function(){return kn.getCVTypeString}});Object.defineProperty(S,"cvToString",{enumerable:!0,get:function(){return kn.cvToString}});Object.defineProperty(S,"cvToJSON",{enumerable:!0,get:function(){return kn.cvToJSON}});Object.defineProperty(S,"cvToValue",{enumerable:!0,get:function(){return kn.cvToValue}});var By=Ke();Object.defineProperty(S,"ClarityType",{enumerable:!0,get:function(){return By.ClarityType}});var ks=ac();Object.defineProperty(S,"trueCV",{enumerable:!0,get:function(){return ks.trueCV}});Object.defineProperty(S,"falseCV",{enumerable:!0,get:function(){return ks.falseCV}});Object.defineProperty(S,"boolCV",{enumerable:!0,get:function(){return ks.boolCV}});var eu=pc();Object.defineProperty(S,"intCV",{enumerable:!0,get:function(){return eu.intCV}});Object.defineProperty(S,"uintCV",{enumerable:!0,get:function(){return eu.uintCV}});var tu=gc();Object.defineProperty(S,"bufferCV",{enumerable:!0,get:function(){return tu.bufferCV}});Object.defineProperty(S,"bufferCVFromString",{enumerable:!0,get:function(){return tu.bufferCVFromString}});var Us=Cc();Object.defineProperty(S,"noneCV",{enumerable:!0,get:function(){return Us.noneCV}});Object.defineProperty(S,"someCV",{enumerable:!0,get:function(){return Us.someCV}});Object.defineProperty(S,"optionalCVOf",{enumerable:!0,get:function(){return Us.optionalCVOf}});var ru=Pc();Object.defineProperty(S,"responseOkCV",{enumerable:!0,get:function(){return ru.responseOkCV}});Object.defineProperty(S,"responseErrorCV",{enumerable:!0,get:function(){return ru.responseErrorCV}});var jt=wn();Object.defineProperty(S,"standardPrincipalCV",{enumerable:!0,get:function(){return jt.standardPrincipalCV}});Object.defineProperty(S,"contractPrincipalCV",{enumerable:!0,get:function(){return jt.contractPrincipalCV}});Object.defineProperty(S,"standardPrincipalCVFromAddress",{enumerable:!0,get:function(){return jt.standardPrincipalCVFromAddress}});Object.defineProperty(S,"contractPrincipalCVFromAddress",{enumerable:!0,get:function(){return jt.contractPrincipalCVFromAddress}});Object.defineProperty(S,"contractPrincipalCVFromStandard",{enumerable:!0,get:function(){return jt.contractPrincipalCVFromStandard}});Object.defineProperty(S,"principalCV",{enumerable:!0,get:function(){return jt.principalCV}});Object.defineProperty(S,"principalToString",{enumerable:!0,get:function(){return jt.principalToString}});var xy=Ec();Object.defineProperty(S,"listCV",{enumerable:!0,get:function(){return xy.listCV}});var Vy=mc();Object.defineProperty(S,"tupleCV",{enumerable:!0,get:function(){return Vy.tupleCV}});var Fs=Rn();Object.defineProperty(S,"stringUtf8CV",{enumerable:!0,get:function(){return Fs.stringUtf8CV}});Object.defineProperty(S,"stringAsciiCV",{enumerable:!0,get:function(){return Fs.stringAsciiCV}});Object.defineProperty(S,"stringCV",{enumerable:!0,get:function(){return Fs.stringCV}});var Dy=Xc();Object.defineProperty(S,"serializeCV",{enumerable:!0,get:function(){return Dy.serializeCV}});var Ky=My(Qc());S.deserializeCV=Ky.default});var Xe=f(m=>{"use strict";a();c();var Hy=m&&m.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(m,"__esModule",{value:!0});m.addHex=m.postConditionFromString=m.hexToBuff=m.validateTxId=m.validateStacksAddress=m.parseReadOnlyResponse=m.hexToCV=m.cvToHex=m.isClarityName=m.hashP2WSH=m.hashP2SH=m.hashP2WPKH=m.hashP2PKH=m.hash160=m.txidFromData=m.omit=m.cloneDeep=m.exceedsMaxLengthBytes=m.rightPadHexToLength=m.leftPadHexToLength=m.leftPadHex=m.randomBytes=void 0;var tn=me(),Be=H(),Ly=tr(),ky=Hy(Wa()),iu=gt(),nu=Er(),Uy=e=>tn.base.randomBytes(Number(e));m.randomBytes=Uy;var Fy=e=>e.length%2==0?e:`0${e}`;m.leftPadHex=Fy;var zy=(e,t)=>e.padStart(t,"0");m.leftPadHexToLength=zy;var qy=(e,t)=>e.padEnd(t,"0");m.rightPadHexToLength=qy;var jy=(e,t)=>e?(0,Be.utf8ToBytes)(e).length>t:!1;m.exceedsMaxLengthBytes=jy;function su(e){return(0,ky.default)(e)}m.cloneDeep=su;function Gy(e,t){let r=su(e);return delete r[t],r}m.omit=Gy;var $y=e=>(0,Be.bytesToHex)(tn.base.sha512_256(e));m.txidFromData=$y;var Wy=e=>tn.base.ripemd160(tn.base.sha256(e));m.hash160=Wy;var Xy=e=>(0,Be.bytesToHex)((0,m.hash160)(e));m.hashP2PKH=Xy;var Yy=e=>{let t=(0,m.hash160)(e),r=(0,Be.concatBytes)(new Uint8Array([0]),new Uint8Array([t.length]),t),n=(0,m.hash160)(r);return(0,Be.bytesToHex)(n)};m.hashP2WPKH=Yy;var Jy=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(s=>{r.push(s.length),r.push(s)}),r.push(80+t.length),r.push(174);let n=(0,Be.concatArray)(r),i=(0,m.hash160)(n);return(0,Be.bytesToHex)(i)};m.hashP2SH=Jy;var Zy=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=[];r.push(80+e),t.forEach(l=>{r.push(l.length),r.push(l)}),r.push(80+t.length),r.push(174);let n=(0,Be.concatArray)(r),i=tn.base.sha256(n),s=[];s.push(0),s.push(i.length),s.push(i);let o=(0,Be.concatArray)(s),u=(0,m.hash160)(o);return(0,Be.bytesToHex)(u)};m.hashP2WSH=Zy;function Qy(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}m.isClarityName=Qy;function eg(e){let t=(0,iu.serializeCV)(e);return`0x${(0,Be.bytesToHex)(t)}`}m.cvToHex=eg;function ou(e){return(0,iu.deserializeCV)(e)}m.hexToCV=ou;var tg=e=>{if(e.okay)return ou(e.result);throw new Error(e.cause)};m.parseReadOnlyResponse=tg;var rg=e=>{try{return(0,Ly.c32addressDecode)(e),!0}catch{return!1}};m.validateStacksAddress=rg;var ng=e=>{if(e==="success")return!0;let t=(0,Be.with0x)(e).toLowerCase();return t.length!==66?!1:(0,Be.with0x)(BigInt(t).toString(16).padStart(64,"0"))===t};m.validateTxId=ng;function ig(e){return d.Buffer.from(sg(e),"hex")}m.hexToBuff=ig;function sg(e){return e.startsWith("0x")?e.replace("0x",""):e}function og(e){let t=new nu.BytesReader((0,Be.hexToBytes)(e));return(0,nu.deserializePostCondition)(t)}m.postConditionFromString=og;function ag(e){return e.startsWith("0x")?e:`0x${e}`}m.addHex=ag});var mr=f(b=>{"use strict";a();c();Object.defineProperty(b,"__esModule",{value:!0});b.deserializeAuthorization=b.serializeAuthorization=b.setSponsor=b.setSponsorNonce=b.setNonce=b.getFee=b.setFee=b.verifyOrigin=b.intoInitialSighashAuth=b.createSponsoredAuth=b.createStandardAuth=b.nextVerification=b.nextSignature=b.makeSigHashPreSign=b.deserializeSpendingCondition=b.serializeSpendingCondition=b.deserializeMultiSigSpendingCondition=b.deserializeSingleSigSpendingCondition=b.serializeMultiSigSpendingCondition=b.serializeSingleSigSpendingCondition=b.isSingleSig=b.createMultiSigSpendingCondition=b.createSingleSigSpendingCondition=b.emptyMessageSignature=void 0;var D=H(),v=Se(),zn=Xe(),uu=Xr(),Rt=vt(),Ye=Ot(),He=ht();function qn(){return{type:v.StacksMessageType.MessageSignature,data:(0,D.bytesToHex)(new Uint8Array(v.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}b.emptyMessageSignature=qn;function zs(e,t,r,n){let i=(0,Rt.addressFromPublicKeys)(0,e,1,[(0,Ye.createStacksPublicKey)(t)]).hash160,s=(0,Ye.isCompressed)((0,Ye.createStacksPublicKey)(t))?v.PubKeyEncoding.Compressed:v.PubKeyEncoding.Uncompressed;return{hashMode:e,signer:i,nonce:(0,D.intToBigInt)(r,!1),fee:(0,D.intToBigInt)(n,!1),keyEncoding:s,signature:qn()}}b.createSingleSigSpendingCondition=zs;function cg(e,t,r,n,i){let s=r.map(Ye.createStacksPublicKey),o=(0,Rt.addressFromPublicKeys)(0,e,t,s).hash160;return{hashMode:e,signer:o,nonce:(0,D.intToBigInt)(n,!1),fee:(0,D.intToBigInt)(i,!1),fields:[],signaturesRequired:t}}b.createMultiSigSpendingCondition=cg;function jn(e){return"signature"in e}b.isSingleSig=jn;function au(e){let t=(0,zn.cloneDeep)(e);return t.nonce=0,t.fee=0,jn(t)?t.signature=qn():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function du(e){let t=[e.hashMode,(0,D.hexToBytes)(e.signer),(0,D.intToBytes)(e.nonce,!1,8),(0,D.intToBytes)(e.fee,!1,8),e.keyEncoding,(0,uu.serializeMessageSignature)(e.signature)];return(0,D.concatArray)(t)}b.serializeSingleSigSpendingCondition=du;function lu(e){let t=[e.hashMode,(0,D.hexToBytes)(e.signer),(0,D.intToBytes)(e.nonce,!1,8),(0,D.intToBytes)(e.fee,!1,8)],r=(0,Rt.createLPList)(e.fields);t.push((0,Rt.serializeLPList)(r));let n=new Uint8Array(2);return(0,D.writeUInt16BE)(n,e.signaturesRequired,0),t.push(n),(0,D.concatArray)(t)}b.serializeMultiSigSpendingCondition=lu;function fu(e,t){let r=(0,D.bytesToHex)(t.readBytes(20)),n=BigInt(`0x${(0,D.bytesToHex)(t.readBytes(8))}`),i=BigInt(`0x${(0,D.bytesToHex)(t.readBytes(8))}`),s=t.readUInt8Enum(v.PubKeyEncoding,u=>{throw new He.DeserializationError(`Could not parse ${u} as PubKeyEncoding`)});if(e===v.AddressHashMode.SerializeP2WPKH&&s!=v.PubKeyEncoding.Compressed)throw new He.DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let o=(0,uu.deserializeMessageSignature)(t);return{hashMode:e,signer:r,nonce:n,fee:i,keyEncoding:s,signature:o}}b.deserializeSingleSigSpendingCondition=fu;function pu(e,t){let r=(0,D.bytesToHex)(t.readBytes(20)),n=BigInt("0x"+(0,D.bytesToHex)(t.readBytes(8))),i=BigInt("0x"+(0,D.bytesToHex)(t.readBytes(8))),s=(0,Rt.deserializeLPList)(t,v.StacksMessageType.TransactionAuthField).values,o=!1,u=0;for(let h of s)switch(h.contents.type){case v.StacksMessageType.PublicKey:(0,Ye.isCompressed)(h.contents)||(o=!0);break;case v.StacksMessageType.MessageSignature:if(h.pubKeyEncoding===v.PubKeyEncoding.Uncompressed&&(o=!0),u+=1,u===65536)throw new He.VerificationError("Failed to parse multisig spending condition: too many signatures");break}let l=t.readUInt16BE();if(o&&e===v.AddressHashMode.SerializeP2SH)throw new He.VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:i,fields:s,signaturesRequired:l}}b.deserializeMultiSigSpendingCondition=pu;function Un(e){return jn(e)?du(e):lu(e)}b.serializeSpendingCondition=Un;function Fn(e){let t=e.readUInt8Enum(v.AddressHashMode,r=>{throw new He.DeserializationError(`Could not parse ${r} as AddressHashMode`)});return t===v.AddressHashMode.SerializeP2PKH||t===v.AddressHashMode.SerializeP2WPKH?fu(t,e):pu(t,e)}b.deserializeSpendingCondition=Fn;function qs(e,t,r,n){let s=e+(0,D.bytesToHex)(new Uint8Array([t]))+(0,D.bytesToHex)((0,D.intToBytes)(r,!1,8))+(0,D.bytesToHex)((0,D.intToBytes)(n,!1,8));if((0,D.hexToBytes)(s).byteLength!==49)throw Error("Invalid signature hash length");return(0,zn.txidFromData)((0,D.hexToBytes)(s))}b.makeSigHashPreSign=qs;function yu(e,t,r){let n=33+v.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,i=(0,Ye.isCompressed)(t)?v.PubKeyEncoding.Compressed:v.PubKeyEncoding.Uncompressed,s=e+(0,zn.leftPadHex)(i.toString(16))+r.data,o=(0,D.hexToBytes)(s);if(o.byteLength>n)throw Error("Invalid signature hash length");return(0,zn.txidFromData)(o)}function ug(e,t,r,n,i){let s=qs(e,t,r,n),o=(0,Ye.signWithKey)(i,s),u=(0,Ye.getPublicKey)(i),l=yu(s,u,o);return{nextSig:o,nextSigHash:l}}b.nextSignature=ug;function js(e,t,r,n,i,s){let o=qs(e,t,r,n),u=(0,Ye.createStacksPublicKey)((0,Ye.publicKeyFromSignatureVrs)(o,s,i)),l=yu(o,u,s);return{pubKey:u,nextSigHash:l}}b.nextVerification=js;function dg(){let e=zs(v.AddressHashMode.SerializeP2PKH,"",0,0);return e.signer=(0,Rt.createEmptyAddress)().hash160,e.keyEncoding=v.PubKeyEncoding.Compressed,e.signature=qn(),e}function cu(e,t,r){return jn(e)?lg(e,t,r):fg(e,t,r)}function lg(e,t,r){let{pubKey:n,nextSigHash:i}=js(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),s=(0,Rt.addressFromPublicKeys)(0,e.hashMode,1,[n]).hash160;if(s!==e.signer)throw new He.VerificationError(`Signer hash does not equal hash of public key(s): ${s} != ${e.signer}`);return i}function fg(e,t,r){let n=[],i=t,s=!1,o=0;for(let l of e.fields){let h;switch(l.contents.type){case v.StacksMessageType.PublicKey:(0,Ye.isCompressed)(l.contents)||(s=!0),h=l.contents;break;case v.StacksMessageType.MessageSignature:l.pubKeyEncoding===v.PubKeyEncoding.Uncompressed&&(s=!0);let{pubKey:x,nextSigHash:U}=js(i,r,e.fee,e.nonce,l.pubKeyEncoding,l.contents);if(i=U,h=x,o+=1,o===65536)throw new He.VerificationError("Too many signatures");break}n.push(h)}if(o!==e.signaturesRequired)throw new He.VerificationError("Incorrect number of signatures");if(s&&e.hashMode===v.AddressHashMode.SerializeP2SH)throw new He.VerificationError("Uncompressed keys are not allowed in this hash mode");let u=(0,Rt.addressFromPublicKeys)(0,e.hashMode,e.signaturesRequired,n).hash160;if(u!==e.signer)throw new He.VerificationError(`Signer hash does not equal hash of public key(s): ${u} != ${e.signer}`);return i}function Gs(e){return{authType:v.AuthType.Standard,spendingCondition:e}}b.createStandardAuth=Gs;function $s(e,t){return{authType:v.AuthType.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||zs(v.AddressHashMode.SerializeP2PKH,"0".repeat(66),0,0)}}b.createSponsoredAuth=$s;function pg(e){if(e.spendingCondition)switch(e.authType){case v.AuthType.Standard:return Gs(au(e.spendingCondition));case v.AuthType.Sponsored:return $s(au(e.spendingCondition),dg());default:throw new He.SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}b.intoInitialSighashAuth=pg;function yg(e,t){switch(e.authType){case v.AuthType.Standard:return cu(e.spendingCondition,t,v.AuthType.Standard);case v.AuthType.Sponsored:return cu(e.spendingCondition,t,v.AuthType.Standard);default:throw new He.SigningError("Invalid origin auth type")}}b.verifyOrigin=yg;function gg(e,t){switch(e.authType){case v.AuthType.Standard:let r={...e.spendingCondition,fee:(0,D.intToBigInt)(t,!1)};return{...e,spendingCondition:r};case v.AuthType.Sponsored:let n={...e.sponsorSpendingCondition,fee:(0,D.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:n}}}b.setFee=gg;function hg(e){switch(e.authType){case v.AuthType.Standard:return e.spendingCondition.fee;case v.AuthType.Sponsored:return e.sponsorSpendingCondition.fee}}b.getFee=hg;function Sg(e,t){let r={...e.spendingCondition,nonce:(0,D.intToBigInt)(t,!1)};return{...e,spendingCondition:r}}b.setNonce=Sg;function Tg(e,t){let r={...e.sponsorSpendingCondition,nonce:(0,D.intToBigInt)(t,!1)};return{...e,sponsorSpendingCondition:r}}b.setSponsorNonce=Tg;function Cg(e,t){let r={...t,nonce:(0,D.intToBigInt)(t.nonce,!1),fee:(0,D.intToBigInt)(t.fee,!1)};return{...e,sponsorSpendingCondition:r}}b.setSponsor=Cg;function _g(e){let t=[];switch(t.push(e.authType),e.authType){case v.AuthType.Standard:t.push(Un(e.spendingCondition));break;case v.AuthType.Sponsored:t.push(Un(e.spendingCondition)),t.push(Un(e.sponsorSpendingCondition));break}return(0,D.concatArray)(t)}b.serializeAuthorization=_g;function Pg(e){let t=e.readUInt8Enum(v.AuthType,n=>{throw new He.DeserializationError(`Could not parse ${n} as AuthType`)}),r;switch(t){case v.AuthType.Standard:return r=Fn(e),Gs(r);case v.AuthType.Sponsored:r=Fn(e);let n=Fn(e);return $s(r,n)}}b.deserializeAuthorization=Pg});var gu=f(Y=>{"use strict";a();c();Object.defineProperty(Y,"__esModule",{value:!0});Y.StacksDevnet=Y.StacksMocknet=Y.StacksTestnet=Y.StacksMainnet=Y.StacksNetwork=Y.StacksNetworks=Y.HIRO_MOCKNET_DEFAULT=Y.HIRO_TESTNET_DEFAULT=Y.HIRO_MAINNET_DEFAULT=void 0;var St=H();Y.HIRO_MAINNET_DEFAULT="https://stacks-node-api.mainnet.stacks.co";Y.HIRO_TESTNET_DEFAULT="https://stacks-node-api.testnet.stacks.co";Y.HIRO_MOCKNET_DEFAULT="http://localhost:3999";Y.StacksNetworks=["mainnet","testnet","devnet","mocknet"];var Tt=class{constructor(t){this.version=St.TransactionVersion.Mainnet,this.chainId=St.ChainID.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===St.TransactionVersion.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=r=>`${this.coreApiUrl}${this.accountEndpoint}/${r}?proof=0`,this.getAccountExtendedBalancesApiUrl=r=>`${this.coreApiUrl}/extended/v1/address/${r}/balances`,this.getAbiApiUrl=(r,n)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${r}/${n}`,this.getReadOnlyFunctionCallApiUrl=(r,n,i)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${r}/${n}/${encodeURIComponent(i)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getRewardsTotalUrl=r=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${r}/total`,this.getRewardHoldersUrl=(r,n)=>{let i=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${r}`;return n&&(i=`${i}?limit=${n.limit}&offset=${n.offset}`),i},this.getStackerInfoUrl=(r,n)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${r}/${n}/get-stacker-info`,this.getDataVarUrl=(r,n,i)=>`${this.coreApiUrl}/v2/data_var/${r}/${n}/${i}?proof=0`,this.getMapEntryUrl=(r,n,i)=>`${this.coreApiUrl}/v2/map_entry/${r}/${n}/${i}?proof=0`,this.coreApiUrl=t.url}};Y.StacksNetwork=Tt;Tt.fromName=e=>{switch(e){case"mainnet":return new Gn;case"testnet":return new $n;case"devnet":return new Y.StacksDevnet;case"mocknet":return new rn;default:throw new Error(`Invalid network name provided. Must be one of the following: ${Y.StacksNetworks.join(", ")}`)}};Tt.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:Tt.fromName(e);var Gn=class extends Tt{constructor(t){super({url:t?.url??Y.HIRO_MAINNET_DEFAULT}),this.version=St.TransactionVersion.Mainnet,this.chainId=St.ChainID.Mainnet}};Y.StacksMainnet=Gn;var $n=class extends Tt{constructor(t){super({url:t?.url??Y.HIRO_TESTNET_DEFAULT}),this.version=St.TransactionVersion.Testnet,this.chainId=St.ChainID.Testnet}};Y.StacksTestnet=$n;var rn=class extends Tt{constructor(t){super({url:t?.url??Y.HIRO_MOCKNET_DEFAULT}),this.version=St.TransactionVersion.Testnet,this.chainId=St.ChainID.Testnet}};Y.StacksMocknet=rn;Y.StacksDevnet=rn});var nn=f(Gt=>{"use strict";a();c();var Eg=Gt&&Gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mg=Gt&&Gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Eg(t,e,r)};Object.defineProperty(Gt,"__esModule",{value:!0});mg(gu(),Gt)});var Ws=f(Mt=>{"use strict";a();c();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createNonFungiblePostCondition=Mt.createFungiblePostCondition=Mt.createSTXPostCondition=void 0;var hu=H(),br=Se(),sn=pt();function bg(e,t,r){return typeof e=="string"&&(e=(0,sn.parsePrincipalString)(e)),{type:br.StacksMessageType.PostCondition,conditionType:br.PostConditionType.STX,principal:e,conditionCode:t,amount:(0,hu.intToBigInt)(r,!1)}}Mt.createSTXPostCondition=bg;function Ag(e,t,r,n){return typeof e=="string"&&(e=(0,sn.parsePrincipalString)(e)),typeof n=="string"&&(n=(0,sn.parseAssetInfoString)(n)),{type:br.StacksMessageType.PostCondition,conditionType:br.PostConditionType.Fungible,principal:e,conditionCode:t,amount:(0,hu.intToBigInt)(r,!1),assetInfo:n}}Mt.createFungiblePostCondition=Ag;function Ig(e,t,r,n){return typeof e=="string"&&(e=(0,sn.parsePrincipalString)(e)),typeof r=="string"&&(r=(0,sn.parseAssetInfoString)(r)),{type:br.StacksMessageType.PostCondition,conditionType:br.PostConditionType.NonFungible,principal:e,conditionCode:t,assetInfo:r,assetName:n}}Mt.createNonFungiblePostCondition=Ig});var Zs=f(Wn=>{"use strict";a();c();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.TransactionSigner=void 0;var Xs=mr(),Ys=Xe(),Ar=Se(),Ir=ht(),Js=class{constructor(t){this.transaction=t,this.sigHash=t.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;let r=t.auth.spendingCondition;if(r&&!(0,Xs.isSingleSig)(r)){if(r.fields.filter(n=>n.contents.type===Ar.StacksMessageType.MessageSignature).length>=r.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");r.fields.forEach(n=>{if(n.contents.type===Ar.StacksMessageType.MessageSignature){let i=n.contents,s=(0,Xs.nextVerification)(this.sigHash,t.auth.authType,r.fee,r.nonce,Ar.PubKeyEncoding.Compressed,i);this.sigHash=s.nextSigHash}})}}static createSponsorSigner(t,r){if(t.auth.authType!=Ar.AuthType.Sponsored)throw new Ir.SigningError("Cannot add sponsor to non-sponsored transaction");let n=(0,Ys.cloneDeep)(t);n.setSponsor(r);let i=n.verifyOrigin(),s=new this(n);return s.originDone=!0,s.sigHash=i,s.checkOversign=!0,s.checkOverlap=!0,s}signOrigin(t){if(this.checkOverlap&&this.originDone)throw new Ir.SigningError("Cannot sign origin after sponsor key");if(this.transaction.auth===void 0)throw new Ir.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Ir.SigningError('"transaction.auth.spendingCondition" is undefined');if(!(0,Xs.isSingleSig)(this.transaction.auth.spendingCondition)){let n=this.transaction.auth.spendingCondition;if(this.checkOversign&&n.fields.filter(i=>i.contents.type===Ar.StacksMessageType.MessageSignature).length>=n.signaturesRequired)throw new Error("Origin would have too many signatures")}let r=this.transaction.signNextOrigin(this.sigHash,t);this.sigHash=r}appendOrigin(t){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(this.transaction.auth===void 0)throw new Error('"transaction.auth" is undefined');if(this.transaction.auth.spendingCondition===void 0)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(t)}signSponsor(t){if(this.transaction.auth===void 0)throw new Ir.SigningError('"transaction.auth" is undefined');if(this.transaction.auth.authType!==Ar.AuthType.Sponsored)throw new Ir.SigningError('"transaction.auth.authType" is not AuthType.Sponsored');let r=this.transaction.signNextSponsor(this.sigHash,t);this.sigHash=r,this.originDone=!0}getTxInComplete(){return(0,Ys.cloneDeep)(this.transaction)}resume(t){this.transaction=(0,Ys.cloneDeep)(t),this.sigHash=t.signBegin()}};Wn.TransactionSigner=Js});var ro=f(Or=>{"use strict";a();c();Object.defineProperty(Or,"__esModule",{value:!0});Or.deserializeTransaction=Or.StacksTransaction=void 0;var wr=H(),J=Se(),qe=mr(),Su=Xr(),Qs=Xe(),Tu=yr(),to=vt(),wg=Ot(),eo=Hn(),$t=ht(),Xn=class{constructor(t,r,n,i,s,o,u){if(this.version=t,this.auth=r,"amount"in n?this.payload={...n,amount:(0,wr.intToBigInt)(n.amount,!1)}:this.payload=n,this.chainId=u??J.DEFAULT_CHAIN_ID,this.postConditionMode=s??J.PostConditionMode.Deny,this.postConditions=i??(0,to.createLPList)([]),o)this.anchorMode=(0,J.anchorModeFromNameOrValue)(o);else switch(n.payloadType){case J.PayloadType.Coinbase:case J.PayloadType.CoinbaseToAltRecipient:case J.PayloadType.PoisonMicroblock:{this.anchorMode=J.AnchorMode.OnChainOnly;break}case J.PayloadType.ContractCall:case J.PayloadType.SmartContract:case J.PayloadType.VersionedSmartContract:case J.PayloadType.TokenTransfer:{this.anchorMode=J.AnchorMode.Any;break}}}signBegin(){let t=(0,Qs.cloneDeep)(this);return t.auth=(0,qe.intoInitialSighashAuth)(t.auth),t.txid()}verifyBegin(){let t=(0,Qs.cloneDeep)(this);return t.auth=(0,qe.intoInitialSighashAuth)(t.auth),t.txid()}verifyOrigin(){return(0,qe.verifyOrigin)(this.auth,this.verifyBegin())}signNextOrigin(t,r){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,J.AuthType.Standard,r)}signNextSponsor(t,r){if(this.auth.authType===J.AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,J.AuthType.Sponsored,r);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){let r=this.auth.spendingCondition;if(r&&!(0,qe.isSingleSig)(r)){let n=(0,wg.isCompressed)(t);r.fields.push((0,Su.createTransactionAuthField)(n?J.PubKeyEncoding.Compressed:J.PubKeyEncoding.Uncompressed,t))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,r,n,i){let{nextSig:s,nextSigHash:o}=(0,qe.nextSignature)(r,n,t.fee,t.nonce,i);if((0,qe.isSingleSig)(t))t.signature=s;else{let u=(0,wr.bytesToHex)(i.data).endsWith("01");t.fields.push((0,Su.createTransactionAuthField)(u?J.PubKeyEncoding.Compressed:J.PubKeyEncoding.Uncompressed,s))}return o}txid(){let t=this.serialize();return(0,Qs.txidFromData)(t)}setSponsor(t){if(this.auth.authType!=J.AuthType.Sponsored)throw new $t.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,qe.setSponsor)(this.auth,t)}setFee(t){this.auth=(0,qe.setFee)(this.auth,t)}setNonce(t){this.auth=(0,qe.setNonce)(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=J.AuthType.Sponsored)throw new $t.SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,qe.setSponsorNonce)(this.auth,t)}serialize(){if(this.version===void 0)throw new $t.SerializationError('"version" is undefined');if(this.chainId===void 0)throw new $t.SerializationError('"chainId" is undefined');if(this.auth===void 0)throw new $t.SerializationError('"auth" is undefined');if(this.anchorMode===void 0)throw new $t.SerializationError('"anchorMode" is undefined');if(this.payload===void 0)throw new $t.SerializationError('"payload" is undefined');let t=[];t.push(this.version);let r=new Uint8Array(4);return(0,wr.writeUInt32BE)(r,this.chainId,0),t.push(r),t.push((0,qe.serializeAuthorization)(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push((0,to.serializeLPList)(this.postConditions)),t.push((0,Tu.serializePayload)(this.payload)),(0,wr.concatArray)(t)}};Or.StacksTransaction=Xn;function Og(e){let t;typeof e=="string"?e.slice(0,2).toLowerCase()==="0x"?t=new eo.BytesReader((0,wr.hexToBytes)(e.slice(2))):t=new eo.BytesReader((0,wr.hexToBytes)(e)):e instanceof Uint8Array?t=new eo.BytesReader(e):t=e;let r=t.readUInt8Enum(J.TransactionVersion,h=>{throw new Error(`Could not parse ${h} as TransactionVersion`)}),n=t.readUInt32BE(),i=(0,qe.deserializeAuthorization)(t),s=t.readUInt8Enum(J.AnchorMode,h=>{throw new Error(`Could not parse ${h} as AnchorMode`)}),o=t.readUInt8Enum(J.PostConditionMode,h=>{throw new Error(`Could not parse ${h} as PostConditionMode`)}),u=(0,to.deserializeLPList)(t,J.StacksMessageType.PostCondition),l=(0,Tu.deserializePayload)(t);return new Xn(r,i,l,u,o,s,n)}Or.deserializeTransaction=Og});var so=f(te=>{"use strict";a();c();Object.defineProperty(te,"__esModule",{value:!0});te.makeContractDeploy=te.makeUnsignedContractDeploy=te.estimateTransactionByteLength=te.makeContractNonFungiblePostCondition=te.makeStandardNonFungiblePostCondition=te.makeContractFungiblePostCondition=te.makeStandardFungiblePostCondition=te.makeContractSTXPostCondition=te.makeStandardSTXPostCondition=te.makeContractCall=te.makeUnsignedContractCall=void 0;var Cu=H(),Yn=nn(),Wt=mr(),ct=Se(),je=Ot(),Pu=yr(),vr=Ws(),Nr=pt(),no=Zs(),Eu=ro(),mu=vt(),_u=Xe();async function io(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Yn.StacksMainnet,postConditionMode:ct.PostConditionMode.Deny,sponsored:!1},r=Object.assign(t,e),n=(0,Pu.createContractCallPayload)(r.contractAddress,r.contractName,r.functionName,r.functionArgs),i=null,s=null;"publicKey"in r?i=(0,Wt.createSingleSigSpendingCondition)(ct.AddressHashMode.SerializeP2PKH,r.publicKey,r.nonce,r.fee):i=(0,Wt.createMultiSigSpendingCondition)(ct.AddressHashMode.SerializeP2SH,r.numSignatures,r.publicKeys,r.nonce,r.fee),r.sponsored?s=(0,Wt.createSponsoredAuth)(i):s=(0,Wt.createStandardAuth)(i);let o=Yn.StacksNetwork.fromNameOrNetwork(r.network),u=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(x=>{u.push(x)});let l=(0,mu.createLPList)(u);return new Eu.StacksTransaction(o.version,s,n,l,r.postConditionMode,r.anchorMode,o.chainId)}te.makeUnsignedContractCall=io;async function vg(e){if("senderKey"in e){let t=(0,je.publicKeyToString)((0,je.getPublicKey)((0,je.createStacksPrivateKey)(e.senderKey))),r=(0,_u.omit)(e,"senderKey"),n=await io({publicKey:t,...r}),i=(0,je.createStacksPrivateKey)(e.senderKey);return new no.TransactionSigner(n).signOrigin(i),n}else{let t=(0,_u.omit)(e,"signerKeys"),r=await io(t),n=new no.TransactionSigner(r),i=e.publicKeys;for(let s of e.signerKeys){let o=(0,je.pubKeyfromPrivKey)(s);i=i.filter(u=>u!==(0,Cu.bytesToHex)(o.data)),n.signOrigin((0,je.createStacksPrivateKey)(s))}for(let s of i)n.appendOrigin((0,je.publicKeyFromBytes)((0,Cu.hexToBytes)(s)));return r}}te.makeContractCall=vg;function Ng(e,t,r){return(0,vr.createSTXPostCondition)((0,Nr.createStandardPrincipal)(e),t,r)}te.makeStandardSTXPostCondition=Ng;function Rg(e,t,r,n){return(0,vr.createSTXPostCondition)((0,Nr.createContractPrincipal)(e,t),r,n)}te.makeContractSTXPostCondition=Rg;function Mg(e,t,r,n){return(0,vr.createFungiblePostCondition)((0,Nr.createStandardPrincipal)(e),t,r,n)}te.makeStandardFungiblePostCondition=Mg;function Bg(e,t,r,n,i){return(0,vr.createFungiblePostCondition)((0,Nr.createContractPrincipal)(e,t),r,n,i)}te.makeContractFungiblePostCondition=Bg;function xg(e,t,r,n){return(0,vr.createNonFungiblePostCondition)((0,Nr.createStandardPrincipal)(e),t,r,n)}te.makeStandardNonFungiblePostCondition=xg;function Vg(e,t,r,n,i){return(0,vr.createNonFungiblePostCondition)((0,Nr.createContractPrincipal)(e,t),r,n,i)}te.makeContractNonFungiblePostCondition=Vg;function Dg(e){let t=e.auth.spendingCondition.hashMode;if([ct.AddressHashMode.SerializeP2SH,ct.AddressHashMode.SerializeP2WSH].includes(t)){let n=e.auth.spendingCondition,i=n.fields.filter(o=>o.contents.type===ct.StacksMessageType.MessageSignature).length,s=(n.signaturesRequired-i)*(ct.RECOVERABLE_ECDSA_SIG_LENGTH_BYTES+1);return e.serialize().byteLength+s}else return e.serialize().byteLength}te.estimateTransactionByteLength=Dg;async function bu(e){let t={fee:BigInt(0),nonce:BigInt(0),network:new Yn.StacksMainnet,postConditionMode:ct.PostConditionMode.Deny,sponsored:!1,clarityVersion:ct.ClarityVersion.Clarity2},r=Object.assign(t,e),n=(0,Pu.createSmartContractPayload)(r.contractName,r.codeBody,r.clarityVersion),i=ct.AddressHashMode.SerializeP2PKH,s=(0,je.createStacksPublicKey)(r.publicKey),o=null,u=(0,Wt.createSingleSigSpendingCondition)(i,(0,je.publicKeyToString)(s),r.nonce,r.fee);r.sponsored?o=(0,Wt.createSponsoredAuth)(u):o=(0,Wt.createStandardAuth)(u);let l=Yn.StacksNetwork.fromNameOrNetwork(r.network),h=[];r.postConditions&&r.postConditions.length>0&&r.postConditions.forEach(ee=>{h.push(ee)});let x=(0,mu.createLPList)(h);return new Eu.StacksTransaction(l.version,o,n,x,r.postConditionMode,r.anchorMode,l.chainId)}te.makeUnsignedContractDeploy=bu;async function Kg(e){let t=(0,je.createStacksPrivateKey)(e.senderKey),r=(0,je.getPublicKey)(t),n=(0,je.publicKeyToString)(r),i={...e,publicKey:n},s=await bu(i);return e.senderKey&&new no.TransactionSigner(s).signOrigin(t),s}te.makeContractDeploy=Kg});var Au=f(M=>{"use strict";a();c();Object.defineProperty(M,"__esModule",{value:!0});M.deserialize=M.serialize=M.tuple=M.error=M.ok=M.some=M.none=M.bufferFromUtf8=M.bufferFromAscii=M.bufferFromHex=M.buffer=M.stringUtf8=M.stringAscii=M.list=M.standardPrincipal=M.contractPrincipal=M.uint=M.int=M.bool=void 0;var oo=H(),pe=gt();M.bool=pe.boolCV;M.int=pe.intCV;M.uint=pe.uintCV;M.contractPrincipal=pe.contractPrincipalCV;M.standardPrincipal=pe.standardPrincipalCV;M.list=pe.listCV;M.stringAscii=pe.stringAsciiCV;M.stringUtf8=pe.stringUtf8CV;M.buffer=pe.bufferCV;var Hg=e=>(0,pe.bufferCV)((0,oo.hexToBytes)(e));M.bufferFromHex=Hg;var Lg=e=>(0,pe.bufferCV)((0,oo.asciiToBytes)(e));M.bufferFromAscii=Lg;var kg=e=>(0,pe.bufferCV)((0,oo.utf8ToBytes)(e));M.bufferFromUtf8=kg;M.none=pe.noneCV;M.some=pe.someCV;M.ok=pe.responseOkCV;M.error=pe.responseErrorCV;M.tuple=pe.tupleCV;M.serialize=pe.serializeCV;M.deserialize=pe.deserializeCV});var Ou=f(P=>{"use strict";a();c();Object.defineProperty(P,"__esModule",{value:!0});P.parseToCV=P.validateContractCall=P.abiFunctionToString=P.getTypeString=P.encodeClarityValue=P.getTypeUnion=P.isClarityAbiList=P.isClarityAbiTuple=P.isClarityAbiOptional=P.isClarityAbiResponse=P.isClarityAbiStringUtf8=P.isClarityAbiStringAscii=P.isClarityAbiBuffer=P.isClarityAbiPrimitive=P.ClarityAbiTypeId=void 0;var Ug=Xe(),k=gt(),Jn=ht(),Iu=Rn(),wu=H(),w;(function(e){e[e.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",e[e.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",e[e.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",e[e.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",e[e.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",e[e.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",e[e.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",e[e.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",e[e.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",e[e.ClarityAbiTypeList=10]="ClarityAbiTypeList",e[e.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",e[e.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",e[e.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"})(w=P.ClarityAbiTypeId||(P.ClarityAbiTypeId={}));var Fg=e=>typeof e=="string";P.isClarityAbiPrimitive=Fg;var zg=e=>e.buffer!==void 0;P.isClarityAbiBuffer=zg;var qg=e=>e["string-ascii"]!==void 0;P.isClarityAbiStringAscii=qg;var jg=e=>e["string-utf8"]!==void 0;P.isClarityAbiStringUtf8=jg;var Gg=e=>e.response!==void 0;P.isClarityAbiResponse=Gg;var $g=e=>e.optional!==void 0;P.isClarityAbiOptional=$g;var Wg=e=>e.tuple!==void 0;P.isClarityAbiTuple=Wg;var Xg=e=>e.list!==void 0;P.isClarityAbiList=Xg;function ao(e){if((0,P.isClarityAbiPrimitive)(e)){if(e==="uint128")return{id:w.ClarityAbiTypeUInt128,type:e};if(e==="int128")return{id:w.ClarityAbiTypeInt128,type:e};if(e==="bool")return{id:w.ClarityAbiTypeBool,type:e};if(e==="principal")return{id:w.ClarityAbiTypePrincipal,type:e};if(e==="trait_reference")return{id:w.ClarityAbiTypeTraitReference,type:e};if(e==="none")return{id:w.ClarityAbiTypeNone,type:e};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(e)}`)}else{if((0,P.isClarityAbiBuffer)(e))return{id:w.ClarityAbiTypeBuffer,type:e};if((0,P.isClarityAbiResponse)(e))return{id:w.ClarityAbiTypeResponse,type:e};if((0,P.isClarityAbiOptional)(e))return{id:w.ClarityAbiTypeOptional,type:e};if((0,P.isClarityAbiTuple)(e))return{id:w.ClarityAbiTypeTuple,type:e};if((0,P.isClarityAbiList)(e))return{id:w.ClarityAbiTypeList,type:e};if((0,P.isClarityAbiStringAscii)(e))return{id:w.ClarityAbiTypeStringAscii,type:e};if((0,P.isClarityAbiStringUtf8)(e))return{id:w.ClarityAbiTypeStringUtf8,type:e};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(e)}`)}}P.getTypeUnion=ao;function Yg(e,t){let r;switch(e.id!==void 0?r=e:r=ao(e),r.id){case w.ClarityAbiTypeUInt128:return(0,k.uintCV)(t);case w.ClarityAbiTypeInt128:return(0,k.intCV)(t);case w.ClarityAbiTypeBool:if(t==="false"||t==="0")return(0,k.falseCV)();if(t==="true"||t==="1")return(0,k.trueCV)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(t)}`);case w.ClarityAbiTypePrincipal:if(t.includes(".")){let[s,o]=t.split(".");return(0,k.contractPrincipalCV)(s,o)}else return(0,k.standardPrincipalCV)(t);case w.ClarityAbiTypeTraitReference:let[n,i]=t.split(".");return(0,k.contractPrincipalCV)(n,i);case w.ClarityAbiTypeNone:return(0,k.noneCV)();case w.ClarityAbiTypeBuffer:return(0,k.bufferCV)((0,wu.utf8ToBytes)(t));case w.ClarityAbiTypeStringAscii:return(0,Iu.stringAsciiCV)(t);case w.ClarityAbiTypeStringUtf8:return(0,Iu.stringUtf8CV)(t);case w.ClarityAbiTypeResponse:throw new Jn.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case w.ClarityAbiTypeOptional:throw new Jn.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case w.ClarityAbiTypeTuple:throw new Jn.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);case w.ClarityAbiTypeList:throw new Jn.NotImplementedError(`Unsupported encoding for Clarity type: ${r.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(r)}`)}}P.encodeClarityValue=Yg;function Ct(e){if((0,P.isClarityAbiPrimitive)(e))return e==="int128"?"int":e==="uint128"?"uint":e;if((0,P.isClarityAbiBuffer)(e))return`(buff ${e.buffer.length})`;if((0,P.isClarityAbiStringAscii)(e))return`(string-ascii ${e["string-ascii"].length})`;if((0,P.isClarityAbiStringUtf8)(e))return`(string-utf8 ${e["string-utf8"].length})`;if((0,P.isClarityAbiResponse)(e))return`(response ${Ct(e.response.ok)} ${Ct(e.response.error)})`;if((0,P.isClarityAbiOptional)(e))return`(optional ${Ct(e.optional)})`;if((0,P.isClarityAbiTuple)(e))return`(tuple ${e.tuple.map(t=>`(${t.name} ${Ct(t.type)})`).join(" ")})`;if((0,P.isClarityAbiList)(e))return`(list ${e.list.length} ${Ct(e.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(e)}`)}P.getTypeString=Ct;function Jg(e){return`(define-${e.access==="read_only"?"read-only":e.access} (${e.name} ${e.args.map(r=>`(${r.name} ${Ct(r.type)})`).join(" ")}))`}P.abiFunctionToString=Jg;function Rr(e,t){let r=ao(t);switch(e.type){case k.ClarityType.BoolTrue:case k.ClarityType.BoolFalse:return r.id===w.ClarityAbiTypeBool;case k.ClarityType.Int:return r.id===w.ClarityAbiTypeInt128;case k.ClarityType.UInt:return r.id===w.ClarityAbiTypeUInt128;case k.ClarityType.Buffer:return r.id===w.ClarityAbiTypeBuffer&&r.type.buffer.length>=e.buffer.length;case k.ClarityType.StringASCII:return r.id===w.ClarityAbiTypeStringAscii&&r.type["string-ascii"].length>=e.data.length;case k.ClarityType.StringUTF8:return r.id===w.ClarityAbiTypeStringUtf8&&r.type["string-utf8"].length>=e.data.length;case k.ClarityType.OptionalNone:return r.id===w.ClarityAbiTypeNone||r.id===w.ClarityAbiTypeOptional;case k.ClarityType.OptionalSome:return r.id===w.ClarityAbiTypeOptional&&Rr(e.value,r.type.optional);case k.ClarityType.ResponseErr:return r.id===w.ClarityAbiTypeResponse&&Rr(e.value,r.type.response.error);case k.ClarityType.ResponseOk:return r.id===w.ClarityAbiTypeResponse&&Rr(e.value,r.type.response.ok);case k.ClarityType.PrincipalContract:return r.id===w.ClarityAbiTypePrincipal||r.id===w.ClarityAbiTypeTraitReference;case k.ClarityType.PrincipalStandard:return r.id===w.ClarityAbiTypePrincipal;case k.ClarityType.List:return r.id==w.ClarityAbiTypeList&&r.type.list.length>=e.list.length&&e.list.every(n=>Rr(n,r.type.list.type));case k.ClarityType.Tuple:if(r.id==w.ClarityAbiTypeTuple){let n=(0,Ug.cloneDeep)(e.data);for(let i=0;i<r.type.tuple.length;i++){let s=r.type.tuple[i],o=s.name,u=n[o];if(u){if(!Rr(u,s.type))return!1;delete n[o]}else return!1}return!0}else return!1;default:return!1}}function Zg(e,t){let r=t.functions.filter(n=>n.name===e.functionName.content);if(r.length===1){let i=r[0].args;if(e.functionArgs.length!==i.length)throw new Error(`Clarity function expects ${i.length} argument(s) but received ${e.functionArgs.length}`);for(let s=0;s<e.functionArgs.length;s++){let o=e.functionArgs[s],u=i[s];if(!Rr(o,u.type)){let l=s+1;throw new Error(`Clarity function \`${e.functionName.content}\` expects argument ${l} to be of type ${Ct(u.type)}, not ${(0,k.getCVTypeString)(o)}`)}}return!0}else throw r.length===0?new Error(`ABI doesn't contain a function with the name ${e.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${e.functionName.content}`)}P.validateContractCall=Zg;function Qg(e,t){let r=Ct(t);if((0,P.isClarityAbiPrimitive)(t)){if(t==="uint128")return(0,k.uintCV)(e);if(t==="int128")return(0,k.intCV)(e);if(t==="bool"){if(e.toLowerCase()==="true")return(0,k.trueCV)();if(e.toLowerCase()==="false")return(0,k.falseCV)();throw new Error(`Invalid bool value: ${e}`)}else if(t==="principal")if(e.includes(".")){let[n,i]=e.split(".");return(0,k.contractPrincipalCV)(n,i)}else return(0,k.standardPrincipalCV)(e);else throw new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}else if((0,P.isClarityAbiBuffer)(t)){if((0,wu.utf8ToBytes)(e).byteLength>t.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${t.buffer.length}`);return(0,k.bufferCVFromString)(e)}else throw(0,P.isClarityAbiResponse)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,P.isClarityAbiOptional)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,P.isClarityAbiTuple)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):(0,P.isClarityAbiList)(t)?new Error(`Contract function contains unsupported Clarity ABI type: ${r}`):new Error(`Contract function contains unsupported Clarity ABI type: ${r}`)}P.parseToCV=Qg});var vu=f(ri=>{"use strict";a();c();Object.defineProperty(ri,"__esModule",{value:!0});ri.principal=void 0;var Mr=so(),Xt=Se(),Zn=pt();function eh(e){if(rh(e)){let[t,r]=ti(e);return new Qn(t,r)}return new Qn(e,void 0)}ri.principal=eh;var Qn=class{constructor(t,r){this.address=t,this.contractName=r}willSendEq(t){return new Yt(this.address,t,Xt.FungibleConditionCode.Equal,this.contractName)}willSendLte(t){return new Yt(this.address,t,Xt.FungibleConditionCode.LessEqual,this.contractName)}willSendLt(t){return new Yt(this.address,t,Xt.FungibleConditionCode.Less,this.contractName)}willSendGte(t){return new Yt(this.address,t,Xt.FungibleConditionCode.GreaterEqual,this.contractName)}willSendGt(t){return new Yt(this.address,t,Xt.FungibleConditionCode.Greater,this.contractName)}willSendAsset(){return new ei(this.address,Xt.NonFungibleConditionCode.Sends,this.contractName)}willNotSendAsset(){return new ei(this.address,Xt.NonFungibleConditionCode.DoesNotSend,this.contractName)}},Yt=class{constructor(t,r,n,i){this.address=t,this.amount=r,this.code=n,this.contractName=i}ustx(){return this.contractName?(0,Mr.makeContractSTXPostCondition)(this.address,this.contractName,this.code,this.amount):(0,Mr.makeStandardSTXPostCondition)(this.address,this.code,this.amount)}ft(t,r){let[n,i]=ti(t);return this.contractName?(0,Mr.makeContractFungiblePostCondition)(this.address,this.contractName,this.code,this.amount,(0,Zn.createAssetInfo)(n,i,r)):(0,Mr.makeStandardFungiblePostCondition)(this.address,this.code,this.amount,(0,Zn.createAssetInfo)(n,i,r))}},ei=class{constructor(t,r,n){this.principal=t,this.code=r,this.contractName=n}nft(...t){let{contractAddress:r,contractName:n,tokenName:i,assetId:s}=nh(...t);return this.contractName?(0,Mr.makeContractNonFungiblePostCondition)(this.principal,this.contractName,this.code,(0,Zn.createAssetInfo)(r,n,i),s):(0,Mr.makeStandardNonFungiblePostCondition)(this.principal,this.code,(0,Zn.createAssetInfo)(r,n,i),s)}};function ti(e){let[t,r]=e.split(".");if(!t||!r)throw new Error(`Invalid contract identifier: ${e}`);return[t,r]}function th(e){let[t,r]=e.split("::");if(!t||!r)throw new Error(`Invalid fully-qualified nft asset name: ${e}`);let[n,i]=ti(t);return{contractAddress:n,contractName:i,tokenName:r}}function rh(e){return e.includes(".")}function nh(...e){if(e.length===2){let[o,u]=e;return{...th(o),assetId:u}}let[t,r,n]=e,[i,s]=ti(t);return{contractAddress:i,contractName:s,tokenName:r,assetId:n}}});var Bu=f(Ee=>{"use strict";a();c();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.signStructuredData=Ee.decodeStructuredDataSignature=Ee.encodeStructuredData=Ee.hashStructuredData=Ee.STRUCTURED_DATA_PREFIX=void 0;var Ru=me(),uo=H(),ni=gt(),ih=Se(),sh=Ot();Ee.STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function co(e){return Ru.base.sha256((0,ni.serializeCV)(e))}Ee.hashStructuredData=co;var Nu=32;function oh(e){return!(e.type!==ni.ClarityType.Tuple||!["name","version","chain-id"].every(t=>t in e.data)||!["name","version"].every(t=>e.data[t].type===ni.ClarityType.StringASCII)||e.data["chain-id"].type!==ni.ClarityType.UInt)}function Mu({message:e,domain:t}){let r=co(e);if(!oh(t))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");let n=co(t);return(0,uo.concatBytes)(Ee.STRUCTURED_DATA_PREFIX,n,r)}Ee.encodeStructuredData=Mu;function ah(e){let t=typeof e=="string"?(0,uo.utf8ToBytes)(e):e,r=t.slice(Ee.STRUCTURED_DATA_PREFIX.length,Ee.STRUCTURED_DATA_PREFIX.length+Nu),n=t.slice(Ee.STRUCTURED_DATA_PREFIX.length+Nu);return{domainHash:r,messageHash:n}}Ee.decodeStructuredDataSignature=ah;function ch({message:e,domain:t,privateKey:r}){let n=(0,uo.bytesToHex)(Ru.base.sha256(Mu({message:e,domain:t}))),{data:i}=(0,sh.signMessageHashRsv)({messageHash:n,privateKey:r});return{data:i,type:ih.StacksMessageType.StructuredDataSignature}}Ee.signStructuredData=ch});var Er=f(E=>{"use strict";a();c();var xu=E&&E.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uh=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Le=E&&E.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xu(t,e,r)},Vu=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&xu(t,e,r);return uh(t,e),t};Object.defineProperty(E,"__esModule",{value:!0});E.deserializeTransaction=E.StacksTransaction=E.createSTXPostCondition=E.createNonFungiblePostCondition=E.createFungiblePostCondition=E.Pc=E.serializePayload=E.isTokenTransferPayload=E.isSmartContractPayload=E.isPoisonPayload=E.isContractCallPayload=E.isCoinbasePayload=E.Cl=E.BytesReader=E.isSingleSig=E.emptyMessageSignature=void 0;Le(mr(),E);var Du=mr();Object.defineProperty(E,"emptyMessageSignature",{enumerable:!0,get:function(){return Du.emptyMessageSignature}});Object.defineProperty(E,"isSingleSig",{enumerable:!0,get:function(){return Du.isSingleSig}});Le(so(),E);var dh=Hn();Object.defineProperty(E,"BytesReader",{enumerable:!0,get:function(){return dh.BytesReader}});E.Cl=Vu(Au());Le(gt(),E);Le(or(),E);Le(Se(),E);Le(Ou(),E);Le(Ot(),E);var Br=yr();Object.defineProperty(E,"isCoinbasePayload",{enumerable:!0,get:function(){return Br.isCoinbasePayload}});Object.defineProperty(E,"isContractCallPayload",{enumerable:!0,get:function(){return Br.isContractCallPayload}});Object.defineProperty(E,"isPoisonPayload",{enumerable:!0,get:function(){return Br.isPoisonPayload}});Object.defineProperty(E,"isSmartContractPayload",{enumerable:!0,get:function(){return Br.isSmartContractPayload}});Object.defineProperty(E,"isTokenTransferPayload",{enumerable:!0,get:function(){return Br.isTokenTransferPayload}});Object.defineProperty(E,"serializePayload",{enumerable:!0,get:function(){return Br.serializePayload}});E.Pc=Vu(vu());var lo=Ws();Object.defineProperty(E,"createFungiblePostCondition",{enumerable:!0,get:function(){return lo.createFungiblePostCondition}});Object.defineProperty(E,"createNonFungiblePostCondition",{enumerable:!0,get:function(){return lo.createNonFungiblePostCondition}});Object.defineProperty(E,"createSTXPostCondition",{enumerable:!0,get:function(){return lo.createSTXPostCondition}});Le(pt(),E);Le(Xr(),E);Le(Zs(),E);Le(Bu(),E);var Ku=ro();Object.defineProperty(E,"StacksTransaction",{enumerable:!0,get:function(){return Ku.StacksTransaction}});Object.defineProperty(E,"deserializeTransaction",{enumerable:!0,get:function(){return Ku.deserializeTransaction}});Le(vt(),E);Le(Xe(),E)});var Hu=f(ii=>{"use strict";a();c();Object.defineProperty(ii,"__esModule",{value:!0});ii.hashRipemd160=void 0;var lh=me();function fh(e){return lh.base.ripemd160(e)}ii.hashRipemd160=fh});var si=f(Bt=>{"use strict";a();c();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.hashSha512Sync=Bt.hashSha256Sync=Bt.NodeCryptoSha2Hash=void 0;var Lu=me(),fo=class{constructor(t){this.createHash=t}async digest(t,r="sha256"){try{let n=this.createHash(r).update(t).digest();return Promise.resolve(n)}catch(n){return console.log(n),console.log(`Error performing ${r} digest with Node.js 'crypto.createHash', falling back to JS implementation.`),Promise.resolve(r==="sha256"?ku(t):Uu(t))}}};Bt.NodeCryptoSha2Hash=fo;function ku(e){return Lu.base.sha256(e)}Bt.hashSha256Sync=ku;function Uu(e){return Lu.base.sha512(e)}Bt.hashSha512Sync=Uu});var yo=f(ce=>{"use strict";a();c();Object.defineProperty(ce,"__esModule",{value:!0});ce.compressPrivateKey=ce.isValidPrivateKey=ce.ecSign=ce.getPublicKeyFromPrivate=ce.publicKeyToBtcAddress=ce.base58CheckEncode=ce.base58Encode=ce.base58CheckDecode=ce.makeECPrivateKey=void 0;var Je=me(),ph=Je.secp256k1.getPublicKey,yh=Je.secp256k1.signSync,po=Je.secp256k1.utils,Ge=H(),gh=Hu(),hh=si(),Sh=0;po.hmacSha256Sync=(e,...t)=>{let r=Je.base.hmac.create(Je.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};function Th(){return(0,Ge.bytesToHex)(po.randomPrivateKey())}ce.makeECPrivateKey=Th;function Ch(e){let t=Je.base.base58.decode(e),r=t.slice(0,-4),n=t.slice(-4),i=Je.base.sha256(Je.base.sha256(r));if(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3])throw new Error("Invalid checksum");if(r.length!==21)throw new TypeError("Invalid address length");let s=(0,Ge.readUInt8)(r,0),o=r.slice(1);return{version:s,hash:o}}ce.base58CheckDecode=Ch;function Fu(e){let t=Je.base.sha256(Je.base.sha256(e));return Je.base.base58.encode((0,Ge.concatBytes)(e,t).slice(0,e.length+4))}ce.base58Encode=Fu;function zu(e,t){return Fu((0,Ge.concatBytes)(new Uint8Array([e]),t.slice(0,20)))}ce.base58CheckEncode=zu;function _h(e,t=Sh){let r=typeof e=="string"?(0,Ge.hexToBytes)(e):e,n=(0,gh.hashRipemd160)((0,hh.hashSha256Sync)(r));return zu(t,n)}ce.publicKeyToBtcAddress=_h;function Ph(e){let t=(0,Ge.privateKeyToBytes)(e);return(0,Ge.bytesToHex)(ph(t.slice(0,32),!0))}ce.getPublicKeyFromPrivate=Ph;function Eh(e,t){return yh(e,(0,Ge.privateKeyToBytes)(t).slice(0,32),{der:!1})}ce.ecSign=Eh;function mh(e){return po.isValidPrivateKey((0,Ge.privateKeyToBytes)(e))}ce.isValidPrivateKey=mh;function bh(e){let t=(0,Ge.privateKeyToBytes)(e);return t.length==Ge.PRIVATE_KEY_COMPRESSED_LENGTH?t:(0,Ge.concatBytes)(t,new Uint8Array([1]))}ce.compressPrivateKey=bh});var qu=f(oi=>{"use strict";a();c();Object.defineProperty(oi,"__esModule",{value:!0});oi.randomBytes=void 0;var Ah=me(),Ih=(e=32)=>Ah.base.randomBytes(e);oi.randomBytes=Ih});var go=f(xt=>{"use strict";a();c();Object.defineProperty(xt,"__esModule",{value:!0});xt.hashCode=xt.getBase64OutputLength=xt.getAesCbcOutputLength=void 0;function wh(e){return(Math.floor(e/16)+1)*16}xt.getAesCbcOutputLength=wh;function Oh(e){return Math.ceil(e/3)*4}xt.getBase64OutputLength=Oh;function vh(e){let t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t&2147483647}xt.hashCode=vh});var Gu=f(Vt=>{"use strict";a();c();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.encodingLength=Vt.decode=Vt.encode=void 0;var ke=H(),Nh=9007199254740991;function ho(e){if(e<0||e>Nh||e%1!==0)throw new RangeError("value out of range")}function Rh(e,t,r=0){return ho(e),t||(t=new Uint8Array(ju(e))),e<253?(0,ke.writeUInt8)(t,e,r):e<=65535?((0,ke.writeUInt8)(t,253,r),(0,ke.writeUInt16LE)(t,e,r+1)):e<=4294967295?((0,ke.writeUInt8)(t,254,r),(0,ke.writeUInt32LE)(t,e,r+1)):((0,ke.writeUInt8)(t,255,r),(0,ke.writeUInt32LE)(t,e>>>0,r+1),(0,ke.writeUInt32LE)(t,e/4294967296|0,r+5)),t}Vt.encode=Rh;function Mh(e,t=0){let r=(0,ke.readUInt8)(e,t);if(r<253)return r;if(r===253)return(0,ke.readUInt16LE)(e,t+1);if(r===254)return(0,ke.readUInt32LE)(e,t+1);{let n=(0,ke.readUInt32LE)(e,t+1),s=(0,ke.readUInt32LE)(e,t+5)*4294967296+n;return ho(s),s}}Vt.decode=Mh;function ju(e){return ho(e),e<253?1:e<=65535?3:e<=4294967295?5:9}Vt.encodingLength=ju});var Co=f(Dt=>{"use strict";a();c();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.decodeMessage=Dt.encodeMessage=Dt.hashMessage=void 0;var Bh=me(),ai=H(),So=Gu(),To=`Stacks Signed Message:
`;function xh(e,t=To){return Bh.base.sha256($u(e,t))}Dt.hashMessage=xh;function $u(e,t=To){let r=typeof e=="string"?(0,ai.utf8ToBytes)(e):e,n=(0,So.encode)(r.length);return(0,ai.concatBytes)((0,ai.utf8ToBytes)(t),n,r)}Dt.encodeMessage=$u;function Vh(e,t=To){let r=(0,ai.utf8ToBytes)(t).byteLength,n=e.subarray(r),i=(0,So.decode)(n),s=(0,So.encodingLength)(i);return n.slice(s)}Dt.decodeMessage=Vh});var ed=f(Z=>{"use strict";a();c();Object.defineProperty(Z,"__esModule",{value:!0});Z.verifyMessageSignatureRsv=Z.verifyMessageSignature=Z.verifyECDSA=Z.signECDSA=Z.eciesGetJsonStringLength=Z.getSignedCipherObjectWrapper=Z.getCipherObjectWrapper=Z.getBytesFromBN=Z.getHexFromBN=Z.hmacSha256=Z.InvalidPublicKeyReason=void 0;var Ze=me(),Dh=Ze.secp256k1.signSync,Kh=Ze.secp256k1.utils,Kt=H(),Hh=yo(),Wu=Co(),Yu=si(),Xu=go();Kh.hmacSha256Sync=(e,...t)=>{let r=Ze.base.hmac.create(Ze.base.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};var Lh;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(Lh=Z.InvalidPublicKeyReason||(Z.InvalidPublicKeyReason={}));function kh(e,t){return Ze.base.hmac(Ze.base.sha256,e,t)}Z.hmacSha256=kh;function Uh(e){let t=e.toString(16);if(t.length===64)return t;if(t.length<64)return`${"0".repeat(64-t.length)}${t}`;throw new Error("Generated a > 32-byte BN for encryption. Failing.")}Z.getHexFromBN=Uh;function Fh(e){let t=(0,Kt.bigIntToBytes)(e,32);if(t.byteLength!==32)throw new Error("Failed to generate a 32-byte Uint8Array");return t}Z.getBytesFromBN=Fh;function Ju(e){let t={iv:"",ephemeralPK:"",mac:"",cipherText:"",wasString:!!e.wasString};e.cipherTextEncoding==="base64"&&(t.cipherTextEncoding="base64");let r=32,n=66,i=64;return{payloadValuesLength:r+n+i,payloadShell:JSON.stringify(t)}}Z.getCipherObjectWrapper=Ju;function Zu(e){let t={signature:"",publicKey:"",cipherText:e};return{signedPayloadValuesLength:144+66,signedPayloadShell:JSON.stringify(t)}}Z.getSignedCipherObjectWrapper=Zu;function zh(e){let{payloadShell:t,payloadValuesLength:r}=Ju(e),n=(0,Xu.getAesCbcOutputLength)(e.contentLength),i;if(!e.cipherTextEncoding||e.cipherTextEncoding==="hex")i=n*2;else if(e.cipherTextEncoding==="base64")i=(0,Xu.getBase64OutputLength)(n);else throw new Error(`Unexpected cipherTextEncoding "${e.cipherTextEncoding}"`);if(e.sign){let{signedPayloadShell:s,signedPayloadValuesLength:o}=Zu(t);return s.length+o+r+i}else return t.length+r+i}Z.eciesGetJsonStringLength=zh;function qh(e,t){let r=typeof t=="string"?(0,Kt.utf8ToBytes)(t):t,n=(0,Hh.getPublicKeyFromPrivate)(e),i=(0,Yu.hashSha256Sync)(r),s=Dh(i,e);return{signature:(0,Kt.bytesToHex)(s),publicKey:n}}Z.signECDSA=qh;function jh(e,t,r){let n=typeof e=="string"?(0,Kt.utf8ToBytes)(e):e,i=(0,Yu.hashSha256Sync)(n);return Ze.secp256k1.verify(r,i,t,{strict:!1})}Z.verifyECDSA=jh;function Qu({signature:e,message:t,publicKey:r}){let{r:n,s:i}=(0,Kt.parseRecoverableSignatureVrs)(e),s=new Ze.secp256k1.Signature((0,Kt.hexToBigInt)(n),(0,Kt.hexToBigInt)(i)),o=typeof t=="string"?(0,Wu.hashMessage)(t):t,u=Ze.secp256k1.verify(s,o,r,{strict:!1});if(u||typeof t!="string")return u;let l=`Stacks Message Signing:
`,h=Ze.base.sha256((0,Wu.encodeMessage)(t,l));return Ze.secp256k1.verify(s,h,r,{strict:!1})}Z.verifyMessageSignature=Qu;function Gh({signature:e,message:t,publicKey:r}){return Qu({signature:(0,Kt.signatureRsvToVrs)(e),message:t,publicKey:r})}Z.verifyMessageSignatureRsv=Gh});var _o=f($e=>{"use strict";a();c();var $h=$e&&$e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xr=$e&&$e.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$h(t,e,r)};Object.defineProperty($e,"__esModule",{value:!0});xr(yo(),$e);xr(qu(),$e);xr(si(),$e);xr(go(),$e);xr(Co(),$e);xr(ed(),$e)});var td=f(q=>{"use strict";a();c();Object.defineProperty(q,"__esModule",{value:!0});q.StackingErrors=q.PoxOperationPeriod=q.SEGWIT_V1=q.SEGWIT_V0=q.SEGWIT_ADDR_PREFIXES=q.SegwitPrefix=q.SEGWIT_V1_ADDR_PREFIX=q.SEGWIT_V0_ADDR_PREFIX=q.B58_ADDR_PREFIXES=q.BitcoinNetworkVersion=q.PoXAddressVersion=void 0;var Wh;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2SHP2WPKH=2]="P2SHP2WPKH",e[e.P2SHP2WSH=3]="P2SHP2WSH",e[e.P2WPKH=4]="P2WPKH",e[e.P2WSH=5]="P2WSH",e[e.P2TR=6]="P2TR"})(Wh=q.PoXAddressVersion||(q.PoXAddressVersion={}));q.BitcoinNetworkVersion={mainnet:{P2PKH:0,P2SH:5},testnet:{P2PKH:111,P2SH:196},regtest:{P2PKH:111,P2SH:196}};q.B58_ADDR_PREFIXES=/^(1|3|m|n|2)/;q.SEGWIT_V0_ADDR_PREFIX=/^(bc1q|tb1q|bcrt1q)/i;q.SEGWIT_V1_ADDR_PREFIX=/^(bc1p|tb1p|bcrt1p)/i;q.SegwitPrefix={mainnet:"bc",testnet:"tb",regtest:"bcrt"};q.SEGWIT_ADDR_PREFIXES=/^(bc|tb)/i;q.SEGWIT_V0=0;q.SEGWIT_V1=1;var Xh;(function(e){e.Period1="Period1",e.Period2a="Period2a",e.Period2b="Period2b",e.Period3="Period3"})(Xh=q.PoxOperationPeriod||(q.PoxOperationPeriod={}));var Yh;(function(e){e[e.ERR_STACKING_UNREACHABLE=255]="ERR_STACKING_UNREACHABLE",e[e.ERR_STACKING_CORRUPTED_STATE=254]="ERR_STACKING_CORRUPTED_STATE",e[e.ERR_STACKING_INSUFFICIENT_FUNDS=1]="ERR_STACKING_INSUFFICIENT_FUNDS",e[e.ERR_STACKING_INVALID_LOCK_PERIOD=2]="ERR_STACKING_INVALID_LOCK_PERIOD",e[e.ERR_STACKING_ALREADY_STACKED=3]="ERR_STACKING_ALREADY_STACKED",e[e.ERR_STACKING_NO_SUCH_PRINCIPAL=4]="ERR_STACKING_NO_SUCH_PRINCIPAL",e[e.ERR_STACKING_EXPIRED=5]="ERR_STACKING_EXPIRED",e[e.ERR_STACKING_STX_LOCKED=6]="ERR_STACKING_STX_LOCKED",e[e.ERR_STACKING_PERMISSION_DENIED=9]="ERR_STACKING_PERMISSION_DENIED",e[e.ERR_STACKING_THRESHOLD_NOT_MET=11]="ERR_STACKING_THRESHOLD_NOT_MET",e[e.ERR_STACKING_POX_ADDRESS_IN_USE=12]="ERR_STACKING_POX_ADDRESS_IN_USE",e[e.ERR_STACKING_INVALID_POX_ADDRESS=13]="ERR_STACKING_INVALID_POX_ADDRESS",e[e.ERR_STACKING_ALREADY_REJECTED=17]="ERR_STACKING_ALREADY_REJECTED",e[e.ERR_STACKING_INVALID_AMOUNT=18]="ERR_STACKING_INVALID_AMOUNT",e[e.ERR_NOT_ALLOWED=19]="ERR_NOT_ALLOWED",e[e.ERR_STACKING_ALREADY_DELEGATED=20]="ERR_STACKING_ALREADY_DELEGATED",e[e.ERR_DELEGATION_EXPIRES_DURING_LOCK=21]="ERR_DELEGATION_EXPIRES_DURING_LOCK",e[e.ERR_DELEGATION_TOO_MUCH_LOCKED=22]="ERR_DELEGATION_TOO_MUCH_LOCKED",e[e.ERR_DELEGATION_POX_ADDR_REQUIRED=23]="ERR_DELEGATION_POX_ADDR_REQUIRED",e[e.ERR_INVALID_START_BURN_HEIGHT=24]="ERR_INVALID_START_BURN_HEIGHT",e[e.ERR_NOT_CURRENT_STACKER=25]="ERR_NOT_CURRENT_STACKER",e[e.ERR_STACK_EXTEND_NOT_LOCKED=26]="ERR_STACK_EXTEND_NOT_LOCKED",e[e.ERR_STACK_INCREASE_NOT_LOCKED=27]="ERR_STACK_INCREASE_NOT_LOCKED",e[e.ERR_DELEGATION_NO_REWARD_SLOT=28]="ERR_DELEGATION_NO_REWARD_SLOT",e[e.ERR_DELEGATION_WRONG_REWARD_SLOT=29]="ERR_DELEGATION_WRONG_REWARD_SLOT",e[e.ERR_STACKING_IS_DELEGATED=30]="ERR_STACKING_IS_DELEGATED",e[e.ERR_STACKING_NOT_DELEGATED=31]="ERR_STACKING_NOT_DELEGATED"})(Yh=q.StackingErrors||(q.StackingErrors={}))});var Po=f(re=>{"use strict";a();c();Object.defineProperty(re,"__esModule",{value:!0});re.ensureLegacyBtcAddressForPox1=re.ensurePox2Activated=re.unwrapMap=re.unwrap=re.poxAddressToBtcAddress=re.poxAddressToTuple=re.getErrorString=re.extractPoxAddressFromClarityValue=re.decodeBtcAddress=re.btcAddressVersionToLegacyHashMode=re.InvalidAddressError=void 0;var Ht=me(),Jh=H(),rd=_o(),ut=Er(),T=td(),ci=class extends Error{constructor(t,r){let n=`'${t}' is not a valid P2PKH/P2SH/P2WPKH/P2WSH/P2TR address`;super(n),this.message=n,this.name=this.constructor.name,this.innerError=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}};re.InvalidAddressError=ci;function nd(e){switch(e){case T.BitcoinNetworkVersion.mainnet.P2PKH:return T.PoXAddressVersion.P2PKH;case T.BitcoinNetworkVersion.testnet.P2PKH:return T.PoXAddressVersion.P2PKH;case T.BitcoinNetworkVersion.mainnet.P2SH:return T.PoXAddressVersion.P2SH;case T.BitcoinNetworkVersion.testnet.P2SH:return T.PoXAddressVersion.P2SH;default:throw new Error("Invalid pox address version")}}re.btcAddressVersionToLegacyHashMode=nd;function Zh(e,t){if(e===T.SEGWIT_V0&&t===20)return T.PoXAddressVersion.P2WPKH;if(e===T.SEGWIT_V0&&t===32)return T.PoXAddressVersion.P2WSH;if(e===T.SEGWIT_V1&&t===32)return T.PoXAddressVersion.P2TR;throw new Error("Invalid native segwit witness version and byte length. Currently, only P2WPKH, P2WSH, and P2TR are supported.")}function Qh(e){let{words:t}=Ht.base.bech32.decode(e),r=t[0];if(r>0)throw new Error("Addresses with a witness version >= 1 should be encoded in bech32m");return{witnessVersion:r,data:Ht.base.bech32.fromWords(t.slice(1))}}function eS(e){let{words:t}=Ht.base.bech32m.decode(e),r=t[0];if(r==0)throw new Error("Addresses with witness version 1 should be encoded in bech32");return{witnessVersion:r,data:Ht.base.bech32m.fromWords(t.slice(1))}}function tS(e){if(T.SEGWIT_V0_ADDR_PREFIX.test(e))return Qh(e);if(T.SEGWIT_V1_ADDR_PREFIX.test(e))return eS(e);throw new Error(`Native segwit address ${e} does not match valid prefix ${T.SEGWIT_V0_ADDR_PREFIX} or ${T.SEGWIT_V1_ADDR_PREFIX}`)}function id(e){try{if(T.B58_ADDR_PREFIXES.test(e)){let t=(0,rd.base58CheckDecode)(e);return{version:nd(t.version),data:t.hash}}else if(T.SEGWIT_ADDR_PREFIXES.test(e)){let t=tS(e);return{version:Zh(t.witnessVersion,t.data.length),data:t.data}}throw new Error("Unknown BTC address prefix.")}catch(t){throw new ci(e,t)}}re.decodeBtcAddress=id;function sd(e){let t=e;if(t.type!==ut.ClarityType.Tuple||!t.data)throw new Error("Invalid argument, expected ClarityValue to be a TupleCV");if(!("version"in t.data)||!("hashbytes"in t.data))throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` keys");let r=t.data.version,n=t.data.hashbytes;if(r.type!==ut.ClarityType.Buffer||n.type!==ut.ClarityType.Buffer)throw new Error("Invalid argument, expected Clarity tuple value to contain `version` and `hashbytes` buffers");return{version:r.buffer[0],hashBytes:n.buffer}}re.extractPoxAddressFromClarityValue=sd;function rS(e){switch(e){case T.StackingErrors.ERR_STACKING_UNREACHABLE:return"Stacking unreachable";case T.StackingErrors.ERR_STACKING_CORRUPTED_STATE:return"Stacking state is corrupted";case T.StackingErrors.ERR_STACKING_INSUFFICIENT_FUNDS:return"Insufficient funds";case T.StackingErrors.ERR_STACKING_INVALID_LOCK_PERIOD:return"Invalid lock period";case T.StackingErrors.ERR_STACKING_ALREADY_STACKED:return"Account already stacked. Concurrent stacking not allowed.";case T.StackingErrors.ERR_STACKING_NO_SUCH_PRINCIPAL:return"Principal does not exist";case T.StackingErrors.ERR_STACKING_EXPIRED:return"Stacking expired";case T.StackingErrors.ERR_STACKING_STX_LOCKED:return"STX balance is locked";case T.StackingErrors.ERR_STACKING_PERMISSION_DENIED:return"Permission denied";case T.StackingErrors.ERR_STACKING_THRESHOLD_NOT_MET:return"Stacking threshold not met";case T.StackingErrors.ERR_STACKING_POX_ADDRESS_IN_USE:return"PoX address already in use";case T.StackingErrors.ERR_STACKING_INVALID_POX_ADDRESS:return"Invalid PoX address";case T.StackingErrors.ERR_STACKING_ALREADY_REJECTED:return"Stacking already rejected";case T.StackingErrors.ERR_STACKING_INVALID_AMOUNT:return"Invalid amount";case T.StackingErrors.ERR_NOT_ALLOWED:return"Stacking not allowed";case T.StackingErrors.ERR_STACKING_ALREADY_DELEGATED:return"Already delegated";case T.StackingErrors.ERR_DELEGATION_EXPIRES_DURING_LOCK:return"Delegation expires during lock period";case T.StackingErrors.ERR_DELEGATION_TOO_MUCH_LOCKED:return"Delegation too much locked";case T.StackingErrors.ERR_DELEGATION_POX_ADDR_REQUIRED:return"PoX address required for delegation";case T.StackingErrors.ERR_INVALID_START_BURN_HEIGHT:return"Invalid start burn height";case T.StackingErrors.ERR_NOT_CURRENT_STACKER:return"ERR_NOT_CURRENT_STACKER";case T.StackingErrors.ERR_STACK_EXTEND_NOT_LOCKED:return"Stacker must be currently locked";case T.StackingErrors.ERR_STACK_INCREASE_NOT_LOCKED:return"Stacker must be currently locked";case T.StackingErrors.ERR_DELEGATION_NO_REWARD_SLOT:return"Invalid reward-cycle and reward-cycle-index";case T.StackingErrors.ERR_DELEGATION_WRONG_REWARD_SLOT:return"PoX address must match the one on record";case T.StackingErrors.ERR_STACKING_IS_DELEGATED:return"Stacker must be directly stacking and not delegating";case T.StackingErrors.ERR_STACKING_NOT_DELEGATED:return"Stacker must be delegating and not be directly stacking"}}re.getErrorString=rS;function nS(e){let{version:t,data:r}=id(e),n=(0,ut.bufferCV)((0,Jh.bigIntToBytes)(BigInt(t),1)),i=(0,ut.bufferCV)(r);return(0,ut.tupleCV)({version:n,hashbytes:i})}re.poxAddressToTuple=nS;function iS(e,t){switch(e){case T.PoXAddressVersion.P2PKH:return T.BitcoinNetworkVersion[t].P2PKH;case T.PoXAddressVersion.P2SH:case T.PoXAddressVersion.P2SHP2WPKH:case T.PoXAddressVersion.P2SHP2WSH:return T.BitcoinNetworkVersion[t].P2SH;default:throw new Error("Invalid pox address version")}}function od(e,t,r){if(!["mainnet","testnet","regtest"].includes(r))throw new Error("Invalid network.");switch(e){case T.PoXAddressVersion.P2PKH:case T.PoXAddressVersion.P2SH:case T.PoXAddressVersion.P2SHP2WPKH:case T.PoXAddressVersion.P2SHP2WSH:{let n=iS(e,r);return(0,rd.base58CheckEncode)(n,t)}case T.PoXAddressVersion.P2WPKH:case T.PoXAddressVersion.P2WSH:{let n=Ht.base.bech32.toWords(t);return Ht.base.bech32.encode(T.SegwitPrefix[r],[T.SEGWIT_V0,...n])}case T.PoXAddressVersion.P2TR:{let n=Ht.base.bech32m.toWords(t);return Ht.base.bech32m.encode(T.SegwitPrefix[r],[T.SEGWIT_V1,...n])}}throw new Error(`Unexpected address version: ${e}`)}function sS(e,t){let r=sd(e);return od(r.version,r.hashBytes,t)}function oS(...e){return typeof e[0]=="number"?od(e[0],e[1],e[2]):sS(e[0],e[1])}re.poxAddressToBtcAddress=oS;function aS(e){if(e.type===ut.ClarityType.OptionalSome)return e.value;if(e.type!==ut.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}re.unwrap=aS;function cS(e,t){if(e.type===ut.ClarityType.OptionalSome)return t(e.value);if(e.type!==ut.ClarityType.OptionalNone)throw new Error("Object is not an 'Optional'")}re.unwrapMap=cS;function uS(e){if(e.period===T.PoxOperationPeriod.Period1)throw new Error(`PoX-2 has not activated yet (currently in period ${e.period} of PoX-2 operation)`)}re.ensurePox2Activated=uS;function dS({contract:e,poxAddress:t}){if(!!t&&e.endsWith(".pox")&&!T.B58_ADDR_PREFIXES.test(t))throw new Error("PoX-1 requires P2PKH/P2SH/P2SH-P2WPKH/P2SH-P2WSH bitcoin addresses")}re.ensureLegacyBtcAddressForPox1=dS});var mo=f(Ue=>{"use strict";a();c();var lS=Ue&&Ue.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fS=Ue&&Ue.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lS(t,e,r)};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getDelegateOptions=Ue.renamePrivateKey=Ue.stack=void 0;var pS=H(),ad=nn(),we=Er(),Eo=Po();fS(Po(),Ue);async function yS({contract:e,amountMicroStx:t,poxAddress:r,cycles:n,burnBlockHeight:i,...s}){(0,Eo.ensureLegacyBtcAddressForPox1)({contract:e,poxAddress:r});let o=gS({amountMicroStx:t,cycles:n,poxAddress:r,contract:e,burnBlockHeight:i}),u=await(0,we.makeContractCall)({...o,...cd(s)}),l=(0,we.addHex)(u.txid()),h=(0,pS.bytesToHex)(u.serialize());return{txId:l,txSerializedHexString:h}}Ue.stack=yS;function gS({amountMicroStx:e,poxAddress:t,cycles:r,contract:n,burnBlockHeight:i}){let s=(0,Eo.poxAddressToTuple)(t),[o,u]=hS(n);return{contractAddress:o,contractName:u,functionName:"stack-stx",functionArgs:[(0,we.uintCV)(e),s,(0,we.uintCV)(i),(0,we.uintCV)(r)],validateWithAbi:!0,network:new ad.StacksMainnet,anchorMode:we.AnchorMode.Any}}function hS(e){let t=e.split(".");if(t.length===2&&(0,we.validateStacksAddress)(t[0])&&t[1].startsWith("pox"))return t;throw new Error("Stacking contract ID is malformed")}function cd(e){return e.senderKey=e.privateKey,delete e.privateKey,e}Ue.renamePrivateKey=cd;function SS(e,t,r,n,i,s,o){let u=o?(0,we.someCV)((0,Eo.poxAddressToTuple)(o)):(0,we.noneCV)();return{contractAddress:e,contractName:t,functionName:r,functionArgs:[(0,we.uintCV)(n),(0,we.principalCV)(i),s?(0,we.someCV)((0,we.uintCV)(s)):(0,we.noneCV)(),u],validateWithAbi:!0,network:new ad.StacksMainnet,anchorMode:we.AnchorMode.Any}}Ue.getDelegateOptions=SS});var ud=f(K=>{"use strict";a();c();Object.defineProperty(K,"__esModule",{value:!0});K.getDeployPayload=K.getContractCallPayload=K.getRevokeDelegateStxPayload=K.getDelegateStxPayload=K.getAllowContractCallerPayload=K.getTokenTransferPayload=K.getTransferPayload=K.revokeDelegateStx=K.delegateStx=K.ContractDeployTx=K.makeContractCallTx=K.TransactionTypes=K.allowContractCaller=K.tokenTransfer=K.stacks=K.transfer=void 0;var p=Er(),Lt=yr(),Oe=H(),ui=nn(),bo=mo();function TS(e,t,r,n,i,s,o){let u=p.TransactionVersion.Mainnet,l=t,h=(0,p.createStandardPrincipal)(l),x=(0,p.standardPrincipalCV)(l),U=(0,Lt.createTokenTransferPayload)(x,r,n),ee=p.AddressHashMode.SerializeP2PKH,N=(0,p.createStacksPrivateKey)(e),X=(0,Oe.bytesToHex)((0,p.getPublicKey)(N).data),ie=(0,p.createSingleSigSpendingCondition)(ee,X,i,s),se=(0,p.createStandardAuth)(ie),he=(0,p.createLPList)([]),le=new p.StacksTransaction(u,se,U,he,void 0,o);new p.TransactionSigner(le).signOrigin((0,p.createStacksPrivateKey)(e)),le.verifyOrigin();let Fe=(0,p.addHex)(le.txid()),et=le.serialize(),De=(0,Oe.bytesToHex)(et);return{txId:Fe,txSerializedHexString:De}}K.transfer=TS;async function CS(e,t,r,n,i,s,o,u,l){let h=new ui.StacksMainnet;return await(0,bo.stack)({contract:o,amountMicroStx:n,poxAddress:r,cycles:i,privateKey:e,burnBlockHeight:s,fee:u,nonce:l})}K.stacks=CS;async function _S(e,t,r,n,i,s,o,u,l,h,x){let U=await(0,p.makeContractCall)({anchorMode:p.AnchorMode.Any,contractAddress:s,contractName:o,fee:x,functionArgs:[(0,p.uintCV)(i),(0,p.standardPrincipalCV)(t),(0,p.standardPrincipalCV)(r),(0,p.someCV)((0,p.bufferCVFromString)(n))],functionName:l,nonce:h,postConditionMode:p.PostConditionMode.Deny,postConditions:[(0,p.makeStandardFungiblePostCondition)(t,p.FungibleConditionCode.Equal,i,(0,p.createAssetInfo)(s,o,u))],senderKey:e,network:new ui.StacksMainnet}),ee=(0,p.addHex)(U.txid()),N=(0,Oe.bytesToHex)(U.serialize());return{txId:ee,txSerializedHexString:N}}K.tokenTransfer=_S;async function PS(e,t,r,n,i,s,o,u){let l=await(0,p.makeContractCall)({anchorMode:p.AnchorMode.Any,contractAddress:r,contractName:n,fee:u,functionArgs:[(0,p.principalCV)(t),s?(0,p.someCV)((0,p.uintCV)(s)):(0,p.noneCV)()],functionName:i,nonce:o,senderKey:e,network:new ui.StacksMainnet}),h=(0,p.addHex)(l.txid()),x=(0,Oe.bytesToHex)(l.serialize());return{txId:h,txSerializedHexString:x}}K.allowContractCaller=PS;var ES;(function(e){e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer"})(ES=K.TransactionTypes||(K.TransactionTypes={}));async function mS(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,contractAddress:o,functionName:u,functionArgs:l,sponsored:h,postConditionMode:x,postConditions:U,anchorMode:ee}=r,N=l.map(le=>(0,p.deserializeCV)((0,p.hexToBuff)(le))),X={senderKey:t,contractName:s,contractAddress:o,functionName:u,anchorMode:ee??p.AnchorMode.Any,functionArgs:N,nonce:n,fee:i,postConditionMode:x,postConditions:U?.map(p.postConditionFromString),sponsored:h},ie=await(0,p.makeContractCall)(X),se=(0,p.addHex)(ie.txid()),he=(0,Oe.bytesToHex)(ie.serialize());return{txId:se,txSerializedHexString:he}}K.makeContractCallTx=mS;async function bS(e,t){let{txData:r,nonce:n,fee:i}=e,{contractName:s,codeBody:o,postConditions:u,postConditionMode:l,anchorMode:h}=r,x={senderKey:t,contractName:s,codeBody:o,nonce:n,fee:i,anchorMode:h??p.AnchorMode.Any,postConditionMode:l,postConditions:u?.map(p.postConditionFromString)},U=await(0,p.makeContractDeploy)(x),ee=(0,p.addHex)(U.txid()),N=(0,Oe.bytesToHex)(U.serialize());return{txId:ee,txSerializedHexString:N}}K.ContractDeployTx=bS;async function AS(e,t,r,n,i,s,o,u,l,h){let x=(0,bo.getDelegateOptions)(t,r,n,o,i,u,s),U=await(0,p.makeContractCall)({...x,senderKey:e,nonce:l,fee:h}),ee=(0,p.addHex)(U.txid()),N=(0,Oe.bytesToHex)(U.serialize());return{txId:ee,txSerializedHexString:N}}K.delegateStx=AS;async function IS(e,t,r,n,i,s){let o=await(0,p.makeContractCall)({anchorMode:p.AnchorMode.Any,contractAddress:t,contractName:r,fee:s,functionArgs:[],functionName:n,nonce:i,senderKey:e,network:new ui.StacksMainnet}),u=(0,p.addHex)(o.txid()),l=(0,Oe.bytesToHex)(o.serialize());return{txId:u,txSerializedHexString:l}}K.revokeDelegateStx=IS;function wS(e,t,r){let n=e,i=(0,p.standardPrincipalCV)(n),s=(0,Lt.createTokenTransferPayload)(i,t,r),o=(0,p.serializePayload)(s);return(0,Oe.bytesToHex)(o)}K.getTransferPayload=wS;function OS(e,t,r,n,i,s,o){let u=(0,Lt.createContractCallPayload)(i,s,o,[(0,p.uintCV)(n),(0,p.standardPrincipalCV)(e),(0,p.standardPrincipalCV)(t),(0,p.someCV)((0,p.bufferCVFromString)(r))]),l=(0,p.serializePayload)(u);return(0,Oe.bytesToHex)(l)}K.getTokenTransferPayload=OS;function vS(e,t,r,n,i){let s=(0,Lt.createContractCallPayload)(t,r,n,[(0,p.principalCV)(e),i?(0,p.someCV)((0,p.uintCV)(i)):(0,p.noneCV)()]),o=(0,p.serializePayload)(s);return(0,Oe.bytesToHex)(o)}K.getAllowContractCallerPayload=vS;function NS(e,t,r,n,i,s,o){let u=i?(0,p.someCV)((0,bo.poxAddressToTuple)(i)):(0,p.noneCV)(),l=[(0,p.uintCV)(s),(0,p.principalCV)(n),o?(0,p.someCV)((0,p.uintCV)(o)):(0,p.noneCV)(),u],h=(0,Lt.createContractCallPayload)(e,t,r,l),x=(0,p.serializePayload)(h);return(0,Oe.bytesToHex)(x)}K.getDelegateStxPayload=NS;function RS(e,t,r){let n=(0,Lt.createContractCallPayload)(e,t,r,[]),i=(0,p.serializePayload)(n);return(0,Oe.bytesToHex)(i)}K.getRevokeDelegateStxPayload=RS;function MS(e,t,r,n){let i=n.map(u=>(0,p.deserializeCV)((0,p.hexToBuff)(u))),s=(0,Lt.createContractCallPayload)(e,t,r,i),o=(0,p.serializePayload)(s);return(0,Oe.bytesToHex)(o)}K.getContractCallPayload=MS;function BS(e,t){let r=(0,Lt.createSmartContractPayload)(e,t,p.ClarityVersion.Clarity2),n=(0,p.serializePayload)(r);return(0,Oe.bytesToHex)(n)}K.getDeployPayload=BS});var Ao=f(on=>{"use strict";a();c();Object.defineProperty(on,"__esModule",{value:!0});on.SignType=void 0;var xS;(function(e){e[e.Secp256k1=1]="Secp256k1",e[e.ECDSA_P256=2]="ECDSA_P256",e[e.ED25519=3]="ED25519",e[e.StarknetSignType=4]="StarknetSignType",e[e.TezosSignType=5]="TezosSignType"})(xS=on.SignType||(on.SignType={}))});var dd=f(We=>{"use strict";a();c();Object.defineProperty(We,"__esModule",{value:!0});We.CoinCurveMap=We.MultiAddressCoins=We.segwitType=We.Currency=void 0;var V;(function(e){e[e.NULL=-1]="NULL",e[e.BTC=0]="BTC",e[e.TBTC=1]="TBTC",e[e.ETH=60]="ETH",e[e.LTC=2]="LTC",e[e.DOGE=3]="DOGE",e[e.BCH=145]="BCH",e[e.BSV=236]="BSV",e[e.TRX=195]="TRX",e[e.SOL=501]="SOL",e[e.APTOS=637]="APTOS",e[e.OMNI_USDT=20001]="OMNI_USDT",e[e.OMNI_USDT_TEST=20002]="OMNI_USDT_TEST",e[e.SUI=784]="SUI",e[e.ATOM=118]="ATOM",e[e.OSMO=1e3]="OSMO",e[e.EVMOS=1001]="EVMOS",e[e.AXL=1002]="AXL",e[e.CRO=1003]="CRO",e[e.Iris=1004]="Iris",e[e.Juno=1005]="Juno",e[e.Kava=1006]="Kava",e[e.Kujira=1007]="Kujira",e[e.SCRT=1008]="SCRT",e[e.Stargaze=1009]="Stargaze",e[e.Terra=1010]="Terra",e[e.ZKSPACE=1011]="ZKSPACE",e[e.ZKSYNC=804]="ZKSYNC",e[e.Stx=5757]="Stx",e[e.SEI=2837]="SEI",e[e.WAX=14001]="WAX",e[e.Starknet=9004]="Starknet",e[e.ADA=1815]="ADA",e[e.INJ=2892]="INJ",e[e.Celestia=2854]="Celestia",e[e.DYDX=2897]="DYDX",e[e.Kaspa=111111]="Kaspa",e[e.TON=607]="TON",e[e.NostrAssets=1237]="NostrAssets",e[e.Near=397]="Near"})(V=We.Currency||(We.Currency={}));var VS;(function(e){e[e.SEGWIT_NESTED=1]="SEGWIT_NESTED",e[e.SEGWIT_NESTED_49=2]="SEGWIT_NESTED_49",e[e.SEGWIT_NATIVE=3]="SEGWIT_NATIVE",e[e.SEGWIT_TAPROOT=4]="SEGWIT_TAPROOT"})(VS=We.segwitType||(We.segwitType={}));We.MultiAddressCoins=[V.BTC,V.TBTC,V.LTC,V.DOGE,V.BSV,V.OMNI_USDT,V.OMNI_USDT_TEST];var Q="secp256k1",di="ed25519";We.CoinCurveMap=new Map([[V.BTC,Q],[V.TBTC,Q],[V.ETH,Q],[V.LTC,Q],[V.DOGE,Q],[V.BCH,Q],[V.BSV,Q],[V.TRX,Q],[V.OMNI_USDT,Q],[V.OMNI_USDT_TEST,Q],[V.ATOM,Q],[V.OSMO,Q],[V.EVMOS,Q],[V.AXL,Q],[V.CRO,Q],[V.Iris,Q],[V.Juno,Q],[V.Kava,Q],[V.Kujira,Q],[V.SCRT,Q],[V.Stargaze,Q],[V.Terra,Q],[V.SEI,Q],[V.Celestia,Q],[V.DYDX,Q],[V.SOL,di],[V.APTOS,di],[V.SUI,di],[V.TON,di]])});var Io=f(g=>{"use strict";a();c();Object.defineProperty(g,"__esModule",{value:!0});g.SignCommonMsgError=g.EstimateFeeError=g.validSignedTransactionError=g.GetPayLoadError=g.HardwareDerivePubKeyError=g.CalcTxHashError=g.SignMsgStep3Error=g.SignMsgSetupError=g.Ed25519Step3Error=g.Ed25519Step2Error=g.Ed25519Step1Error=g.Ed25519SetupError=g.EcdsaStep3Error=g.EcdsaStep2Error=g.EcdsaStep1Error=g.EcdsaSetupError=g.MPCShakeHandsError=g.MPCStepError=g.MPCAesKeyMissError=g.GetHardWareMessageHashError=g.GetHardwareSignedTransactionError=g.GetHardwareRawTransactionError=g.GetMpcTransactionError=g.GetMpcRawTransactionError=g.DerivePathError=g.GenMnemonicError=g.GenPrivateKeyError=g.UnsupportedCoinError=g.SignMsgError=g.SignTxError=g.ValidAddressError=g.NewAddressError=g.NotImplementedError=void 0;g.NotImplementedError="no implementation method";g.NewAddressError="generate address error";g.ValidAddressError="valid address error";g.SignTxError="sign tx error";g.SignMsgError="sign message error";g.UnsupportedCoinError="unsupported currency";g.GenPrivateKeyError="generate private key error";g.GenMnemonicError="generate mnemonic error";g.DerivePathError="derive hdPath error";g.GetMpcRawTransactionError="get mpc raw transaction error";g.GetMpcTransactionError="get mpc transaction error";g.GetHardwareRawTransactionError="get hardware raw transaction error";g.GetHardwareSignedTransactionError="get hardware signed transaction error";g.GetHardWareMessageHashError="get hardware message hash error";g.MPCAesKeyMissError="mpc get aes key error";g.MPCStepError="mpc step error";g.MPCShakeHandsError="mpc shake hands error";g.EcdsaSetupError="ecdsa setup error";g.EcdsaStep1Error="ecdsa step1 error";g.EcdsaStep2Error="ecdsa step2 error";g.EcdsaStep3Error="ecdsa step3 error";g.Ed25519SetupError="ed25519 setup error";g.Ed25519Step1Error="ed25519 step1 error";g.Ed25519Step2Error="ed25519 step2 error";g.Ed25519Step3Error="ed25519 step3 error";g.SignMsgSetupError="sign message setup error";g.SignMsgStep3Error="sign message step3 error";g.CalcTxHashError="calculate tx hash error";g.HardwareDerivePubKeyError="derive sub pub key error";g.GetPayLoadError="get payload error";g.validSignedTransactionError="valid signed transaction error";g.EstimateFeeError="estimate fee error";g.SignCommonMsgError="sign common msg error"});var ld=f(xe=>{"use strict";a();c();Object.defineProperty(xe,"__esModule",{value:!0});xe.jsonStringifyUniform=xe.cloneObject=xe.assertBufferLength=xe.convert2BigNumber=xe.convert2Number=xe.buildCommonSignMsg=void 0;var li=me();function DS(e,t){return`OKX Wallet Sign In

publicKey: ${e}
walletId: ${t}
host: api.wallet.okx
OKX Wallet Sign In`}xe.buildCommonSignMsg=DS;function KS(e){if(e!=null)return typeof e=="string"?parseInt(e):e}xe.convert2Number=KS;function HS(e){if(e!=null)return li.BigNumber.isBigNumber(e)?e:new li.BigNumber(e)}xe.convert2BigNumber=HS;function LS(e,t){if(e.length!=t)throw Error("buffer length is illegal")}xe.assertBufferLength=LS;function kS(e){return JSON.parse(JSON.stringify(e))}xe.cloneObject=kS;function US(e){return JSON.stringify(e,(t,r)=>r&&(r.type==="Buffer"||r instanceof Uint8Array?li.base.toHex(r):typeof r=="bigint"?r.toString():r))}xe.jsonStringifyUniform=US});var wo=f(Jt=>{"use strict";a();c();var FS=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zS=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FS(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});zS(ld(),Jt)});var hd=f(ne=>{"use strict";a();c();Object.defineProperty(ne,"__esModule",{value:!0});ne.SimpleWallet=ne.BaseWallet=ne.ecdsaSign=ne.fromSigned=ne.padWithZeroes=ne.toUnsigned=ne.intToHex=ne.makeSignature=ne.secp256k1SignTest=void 0;var ue=Io(),Vr=Ao(),de=me(),qS=wo();function fd(e){let t=de.base.sha256("secp256k1-test"),r=de.signUtil.secp256k1.publicKeyCreate(e,!1),{signature:n,recovery:i}=de.signUtil.secp256k1.sign(d.Buffer.from(t),e);return de.signUtil.secp256k1.verify(t,n,i,r)}ne.secp256k1SignTest=fd;function pd(e,t,r){let n=(0,ne.fromSigned)(t),i=(0,ne.fromSigned)(r),s=e,o=Oo((0,ne.toUnsigned)(n).toString("hex"),64),u=Oo((0,ne.toUnsigned)(i).toString("hex"),64);return de.base.stripHexPrefix(yd(s)).concat(o,u)}ne.makeSignature=pd;function yd(e){return`0x${e.toString(16)}`}ne.intToHex=yd;var jS=function(e){return d.Buffer.from(e.toTwos(256).toArray())};ne.toUnsigned=jS;function Oo(e,t){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}ne.padWithZeroes=Oo;var GS=function(e){return new de.BN(e).fromTwos(256)};ne.fromSigned=GS;function gd(e,t,r){let{signature:n,recovery:i}=de.signUtil.secp256k1.sign(e,t),s=d.Buffer.from(n.slice(0,32)),o=d.Buffer.from(n.slice(32,64));if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{v:r?i+(r*2+35):i+27,r:s,s:o}}ne.ecdsaSign=gd;var fi=class{getRandomPrivateKey(){try{for(;;){let t=de.base.randomBytes(32);if(fd(t))return Promise.resolve(de.base.toHex(t,!0))}}catch{}return Promise.reject(ue.GenPrivateKeyError)}getDerivedPrivateKey(t){return de.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=de.bip32.fromSeed(r).derivePath(t.hdPath);if(n.privateKey){let i=de.base.toHex(n.privateKey);return Promise.resolve("0x"+i)}else return Promise.reject(ue.GenPrivateKeyError)}).catch(r=>Promise.reject(ue.GenPrivateKeyError))}getDerivedPath(t){return Promise.reject(ue.NotImplementedError)}validPrivateKey(t){return Promise.reject(ue.NotImplementedError)}signMessage(t){return Promise.reject(ue.NotImplementedError)}async signCommonMsg(t){t.signType||(t.signType=Vr.SignType.Secp256k1);let r;if(t.message.text)r=t.message.text;else{let u;if(t.publicKey?u=t.publicKey:u=(await this.getNewAddress({privateKey:t.privateKey,addressType:t.addressType,hrp:t.hrp,version:t.version})).publicKey,u.startsWith("0x")&&(u=u.substring(2)),!t.message.walletId)return Promise.reject("invalid walletId");r=(0,qS.buildCommonSignMsg)(u,t.message.walletId)}let n=de.base.magicHash(r),i=t.privateKeyHex?t.privateKeyHex:t.privateKey,s=de.base.fromHex(i);var o;switch(t.signType){case Vr.SignType.Secp256k1:let{v:u,r:l,s:h}=gd(d.Buffer.from(n),s);return Promise.resolve(pd(u,l,h));case Vr.SignType.ECDSA_P256:return o=de.signUtil.p256.sign(d.Buffer.from(n),s).signature,Promise.resolve(de.base.toHex(o));case Vr.SignType.ED25519:return o=de.signUtil.ed25519.sign(n,s),Promise.resolve(de.base.toHex(o));case Vr.SignType.StarknetSignType:return o=de.signUtil.schnorr.stark.sign(n,s).toCompactRawBytes(),Promise.resolve(de.base.toHex(o));case Vr.SignType.TezosSignType:return Promise.reject("not support")}}verifyMessage(t){return Promise.reject(ue.NotImplementedError)}ecRecover(t,r){return Promise.reject(ue.NotImplementedError)}getAddressByPublicKey(t){return Promise.reject(ue.NotImplementedError)}getMPCRawTransaction(t){return Promise.reject(ue.NotImplementedError)}getMPCTransaction(t){return Promise.reject(ue.NotImplementedError)}getMPCRawMessage(t){return Promise.reject(ue.NotImplementedError)}getMPCSignedMessage(t){return Promise.reject(ue.NotImplementedError)}getHardWareRawTransaction(t){return Promise.reject(ue.NotImplementedError)}getHardWareSignedTransaction(t){return Promise.reject(ue.NotImplementedError)}getHardWareMessageHash(t){return Promise.reject(ue.NotImplementedError)}calcTxHash(t){return Promise.reject(ue.NotImplementedError)}getRawTransaction(t){return Promise.reject(ue.NotImplementedError)}validSignedTransaction(t){return Promise.reject(ue.NotImplementedError)}estimateFee(t){return Promise.reject(ue.NotImplementedError)}};ne.BaseWallet=fi;var vo=class extends fi{mockData(t,r){this.mockAddress=t,this.mockPublicKey=r}getNewAddress(t){return Promise.resolve({address:this.mockAddress,publicKey:this.mockPublicKey})}validAddress(t){throw new Error("Method not implemented.")}signTransaction(t){throw new Error("Method not implemented.")}};ne.SimpleWallet=vo});var Sd=f(Qe=>{"use strict";a();c();var $S=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),an=Qe&&Qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$S(t,e,r)};Object.defineProperty(Qe,"__esModule",{value:!0});an(Ao(),Qe);an(dd(),Qe);an(Io(),Qe);an(hd(),Qe);an(wo(),Qe)});var Td=f(pi=>{"use strict";a();c();Object.defineProperty(pi,"__esModule",{value:!0});pi.StxWallet=void 0;var kt=me(),ae=Sd(),L=Cd(),No=class extends ae.BaseWallet{async getDerivedPath(t){return`m/44'/5757'/0'/0/${t.index}`}getDerivedPrivateKey(t){return kt.bip39.mnemonicToSeed(t.mnemonic).then(r=>{let n=kt.bip32.fromSeed(r).derivePath(t.hdPath);return n.privateKey?Promise.resolve(kt.base.toHex(n.privateKey)+"01"):Promise.reject(ae.GenPrivateKeyError)}).catch(r=>Promise.reject(ae.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let t=kt.base.randomBytes(32);if((0,ae.secp256k1SignTest)(t))return Promise.resolve(kt.base.toHex(t,!0)+"01")}}catch{}return Promise.reject(ae.GenPrivateKeyError)}getNewAddress(t){try{let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,L.createStacksPrivateKey)(r.toLowerCase()),i=kt.base.toHex((0,L.getPublicKey)(n).data),s;t.version&&t.version==="Testnet"?s=(0,L.getAddressFromPublicKey)(i,L.TransactionVersion.Testnet):s=(0,L.getAddressFromPublicKey)(i);let o={address:s,publicKey:i};return Promise.resolve(o)}catch{return Promise.reject(ae.NewAddressError)}}checkPrivateKey(t){return t.toLowerCase().startsWith("0x")&&(t=t.substring(2)),(0,L.createStacksPrivateKey)(t),!0}async validPrivateKey(t){let r;try{r=this.checkPrivateKey(t.privateKey)}catch{r=!1}let n={isValid:r,privateKey:t.privateKey};return Promise.resolve(n)}async signTransaction(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null||n.nonce==null||n.fee==null)return Promise.reject(ae.SignTxError);let i=(0,L.transfer)(t.privateKey,n.to,n.amount,n.memo,n.nonce,n.fee,n.anchorMode);return Promise.resolve(i)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.SignTxError);let i=await(0,L.tokenTransfer)(t.privateKey,n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.tokenName,n.functionName,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.SignTxError);let i=await(0,L.allowContractCaller)(t.privateKey,n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(ae.SignTxError);let i=await(0,L.delegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.SignTxError);let i=await(0,L.revokeDelegateStx)(t.privateKey,n.contract,n.contractName,n.functionName,n.nonce,n.fee);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=await(0,L.makeContractCallTx)(n,t.privateKey);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=await(0,L.ContractDeployTx)(n,t.privateKey);return Promise.resolve(i)}return Promise.reject(ae.SignTxError)}catch(r){return Promise.reject(r)}}async signCommonMsg(t){let r=t.privateKey.toLowerCase().startsWith("0x")?t.privateKey.substring(2):t.privateKey,n=(0,L.createStacksPrivateKey)(r.toLowerCase()),i=n.compressed?kt.base.toHex(n.data.slice(0,32)):kt.base.toHex(n.data);return super.signCommonMsg({privateKey:t.privateKey,privateKeyHex:i,message:t.message,signType:ae.SignType.Secp256k1,version:t.version})}async signMessage(t){try{t.privateKey.startsWith("0x")&&(t.privateKey=t.privateKey.substring(2));let r=(0,L.createStacksPrivateKey)(t.privateKey);if(t.data.type=="signMessage"){let n=(0,L.hashMessage)(t.data.message),i=(0,L.signMessageHashRsv)({messageHash:(0,L.bytesToHex)(n),privateKey:r});return Promise.resolve({signature:i.data,publicKey:(0,L.publicKeyToString)((0,L.getPublicKey)(r))})}else if(t.data.type=="signStructuredData"){let n=t.data.message,i=t.data.domain,s=(0,L.signStructuredData)({message:n,domain:i,privateKey:r}).data;return Promise.resolve({signature:s,publicKey:(0,L.publicKeyToString)((0,L.getPublicKey)(r))})}}catch{return Promise.reject(ae.SignMsgError)}}async verifyMessage(t){try{let r=t.data;if(r.publicKey===void 0)return Promise.reject(ae.SignMsgError);let n=t.signature,i=(0,L.hashMessage)(t.data.message),s=r.publicKey;return Promise.resolve((0,L.verifyMessageSignatureRsv)({signature:n,message:i,publicKey:s}))}catch(r){return Promise.reject(r)}}validAddress(t){let r;try{r=(0,L.validateStacksAddress)(t.address)}catch{r=!1}let n={isValid:r,address:t.address};return Promise.resolve(n)}getRawTransaction(t){try{let r=t.data;if(r.type=="transfer"){let n=r.data;if(n.to==null||n.amount==null)return Promise.reject(ae.GetPayLoadError);let i=(0,L.getTransferPayload)(n.to,n.amount,n.memo);return Promise.resolve(i)}else if(r.type=="tokenTransfer"){let n=r.data;if(n.from==null||n.to==null||n.amount==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.GetPayLoadError);let i=(0,L.getTokenTransferPayload)(n.from,n.to,n.memo,n.amount,n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="allowContractCaller"){let n=r.data;if(n.caller==null||n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.GetPayLoadError);let i=(0,L.getAllowContractCallerPayload)(n.caller,n.contract,n.contractName,n.functionName,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="delegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null||n.amountMicroStx==null||n.delegateTo==null)return Promise.reject(ae.GetPayLoadError);let i=(0,L.getDelegateStxPayload)(n.contract,n.contractName,n.functionName,n.delegateTo,n.poxAddress,n.amountMicroStx,n.untilBurnBlockHeight);return Promise.resolve(i)}else if(r.type=="revokeDelegateStx"){let n=r.data;if(n.contract==null||n.contractName==null||n.functionName==null)return Promise.reject(ae.GetPayLoadError);let i=(0,L.getRevokeDelegateStxPayload)(n.contract,n.contractName,n.functionName);return Promise.resolve(i)}else if(r.type=="contractCall"){let n=r.data,i=(0,L.getContractCallPayload)(n.contract,n.contractName,n.functionName,n.functionArgs);return Promise.resolve(i)}else if(r.type=="deployContract"){let n=r.data,i=(0,L.getDeployPayload)(n.contractName,n.codeBody);return Promise.resolve(i)}return Promise.reject(ae.GetPayLoadError)}catch{return Promise.reject(ae.GetPayLoadError)}}};pi.StxWallet=No});var Cd=f(ge=>{a();c();var WS=ge&&ge.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dr=ge&&ge.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WS(t,e,r)};Object.defineProperty(ge,"__esModule",{value:!0});ge.verifyMessageSignatureRsv=ge.hashMessage=ge.bytesToHex=void 0;Dr(Er(),ge);Dr(mo(),ge);Dr(nn(),ge);Dr(tr(),ge);Dr(ud(),ge);var XS=H();Object.defineProperty(ge,"bytesToHex",{enumerable:!0,get:function(){return XS.bytesToHex}});var _d=_o();Object.defineProperty(ge,"hashMessage",{enumerable:!0,get:function(){return _d.hashMessage}});Object.defineProperty(ge,"verifyMessageSignatureRsv",{enumerable:!0,get:function(){return _d.verifyMessageSignatureRsv}});Dr(Td(),ge)});export{Cd as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-LB6TMB5M.js.map
