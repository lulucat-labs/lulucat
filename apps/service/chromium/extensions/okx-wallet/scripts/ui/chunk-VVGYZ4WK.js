import{b as H}from"./chunk-TKZ7N5JX.js";import{N as Pe}from"./chunk-SHMKQUVK.js";import{c as P,o as l,p as m,q as d}from"./chunk-FJHLV356.js";var F=P(K=>{"use strict";l();d();Object.defineProperty(K,"__esModule",{value:!0});K.SignType=void 0;var _e;(function(e){e[e.Secp256k1=1]="Secp256k1",e[e.ECDSA_P256=2]="ECDSA_P256",e[e.ED25519=3]="ED25519",e[e.StarknetSignType=4]="StarknetSignType",e[e.TezosSignType=5]="TezosSignType"})(_e=K.SignType||(K.SignType={}))});var se=P(_=>{"use strict";l();d();Object.defineProperty(_,"__esModule",{value:!0});_.CoinCurveMap=_.MultiAddressCoins=_.segwitType=_.Currency=void 0;var o;(function(e){e[e.NULL=-1]="NULL",e[e.BTC=0]="BTC",e[e.TBTC=1]="TBTC",e[e.ETH=60]="ETH",e[e.LTC=2]="LTC",e[e.DOGE=3]="DOGE",e[e.BCH=145]="BCH",e[e.BSV=236]="BSV",e[e.TRX=195]="TRX",e[e.SOL=501]="SOL",e[e.APTOS=637]="APTOS",e[e.OMNI_USDT=20001]="OMNI_USDT",e[e.OMNI_USDT_TEST=20002]="OMNI_USDT_TEST",e[e.SUI=784]="SUI",e[e.ATOM=118]="ATOM",e[e.OSMO=1e3]="OSMO",e[e.EVMOS=1001]="EVMOS",e[e.AXL=1002]="AXL",e[e.CRO=1003]="CRO",e[e.Iris=1004]="Iris",e[e.Juno=1005]="Juno",e[e.Kava=1006]="Kava",e[e.Kujira=1007]="Kujira",e[e.SCRT=1008]="SCRT",e[e.Stargaze=1009]="Stargaze",e[e.Terra=1010]="Terra",e[e.ZKSPACE=1011]="ZKSPACE",e[e.ZKSYNC=804]="ZKSYNC",e[e.Stx=5757]="Stx",e[e.SEI=2837]="SEI",e[e.WAX=14001]="WAX",e[e.Starknet=9004]="Starknet",e[e.ADA=1815]="ADA",e[e.INJ=2892]="INJ",e[e.Celestia=2854]="Celestia",e[e.DYDX=2897]="DYDX",e[e.Kaspa=111111]="Kaspa",e[e.TON=607]="TON",e[e.NostrAssets=1237]="NostrAssets",e[e.Near=397]="Near"})(o=_.Currency||(_.Currency={}));var Te;(function(e){e[e.SEGWIT_NESTED=1]="SEGWIT_NESTED",e[e.SEGWIT_NESTED_49=2]="SEGWIT_NESTED_49",e[e.SEGWIT_NATIVE=3]="SEGWIT_NATIVE",e[e.SEGWIT_TAPROOT=4]="SEGWIT_TAPROOT"})(Te=_.segwitType||(_.segwitType={}));_.MultiAddressCoins=[o.BTC,o.TBTC,o.LTC,o.DOGE,o.BSV,o.OMNI_USDT,o.OMNI_USDT_TEST];var c="secp256k1",G="ed25519";_.CoinCurveMap=new Map([[o.BTC,c],[o.TBTC,c],[o.ETH,c],[o.LTC,c],[o.DOGE,c],[o.BCH,c],[o.BSV,c],[o.TRX,c],[o.OMNI_USDT,c],[o.OMNI_USDT_TEST,c],[o.ATOM,c],[o.OSMO,c],[o.EVMOS,c],[o.AXL,c],[o.CRO,c],[o.Iris,c],[o.Juno,c],[o.Kava,c],[o.Kujira,c],[o.SCRT,c],[o.Stargaze,c],[o.Terra,c],[o.SEI,c],[o.Celestia,c],[o.DYDX,c],[o.SOL,G],[o.APTOS,G],[o.SUI,G],[o.TON,G]])});var Z=P(n=>{"use strict";l();d();Object.defineProperty(n,"__esModule",{value:!0});n.SignCommonMsgError=n.EstimateFeeError=n.validSignedTransactionError=n.GetPayLoadError=n.HardwareDerivePubKeyError=n.CalcTxHashError=n.SignMsgStep3Error=n.SignMsgSetupError=n.Ed25519Step3Error=n.Ed25519Step2Error=n.Ed25519Step1Error=n.Ed25519SetupError=n.EcdsaStep3Error=n.EcdsaStep2Error=n.EcdsaStep1Error=n.EcdsaSetupError=n.MPCShakeHandsError=n.MPCStepError=n.MPCAesKeyMissError=n.GetHardWareMessageHashError=n.GetHardwareSignedTransactionError=n.GetHardwareRawTransactionError=n.GetMpcTransactionError=n.GetMpcRawTransactionError=n.DerivePathError=n.GenMnemonicError=n.GenPrivateKeyError=n.UnsupportedCoinError=n.SignMsgError=n.SignTxError=n.ValidAddressError=n.NewAddressError=n.NotImplementedError=void 0;n.NotImplementedError="no implementation method";n.NewAddressError="generate address error";n.ValidAddressError="valid address error";n.SignTxError="sign tx error";n.SignMsgError="sign message error";n.UnsupportedCoinError="unsupported currency";n.GenPrivateKeyError="generate private key error";n.GenMnemonicError="generate mnemonic error";n.DerivePathError="derive hdPath error";n.GetMpcRawTransactionError="get mpc raw transaction error";n.GetMpcTransactionError="get mpc transaction error";n.GetHardwareRawTransactionError="get hardware raw transaction error";n.GetHardwareSignedTransactionError="get hardware signed transaction error";n.GetHardWareMessageHashError="get hardware message hash error";n.MPCAesKeyMissError="mpc get aes key error";n.MPCStepError="mpc step error";n.MPCShakeHandsError="mpc shake hands error";n.EcdsaSetupError="ecdsa setup error";n.EcdsaStep1Error="ecdsa step1 error";n.EcdsaStep2Error="ecdsa step2 error";n.EcdsaStep3Error="ecdsa step3 error";n.Ed25519SetupError="ed25519 setup error";n.Ed25519Step1Error="ed25519 step1 error";n.Ed25519Step2Error="ed25519 step2 error";n.Ed25519Step3Error="ed25519 step3 error";n.SignMsgSetupError="sign message setup error";n.SignMsgStep3Error="sign message step3 error";n.CalcTxHashError="calculate tx hash error";n.HardwareDerivePubKeyError="derive sub pub key error";n.GetPayLoadError="get payload error";n.validSignedTransactionError="valid signed transaction error";n.EstimateFeeError="estimate fee error";n.SignCommonMsgError="sign common msg error"});var oe=P(h=>{"use strict";l();d();Object.defineProperty(h,"__esModule",{value:!0});h.jsonStringifyUniform=h.cloneObject=h.assertBufferLength=h.convert2BigNumber=h.convert2Number=h.buildCommonSignMsg=void 0;var q=H();function Me(e,r){return`OKX Wallet Sign In

publicKey: ${e}
walletId: ${r}
host: api.wallet.okx
OKX Wallet Sign In`}h.buildCommonSignMsg=Me;function we(e){if(e!=null)return typeof e=="string"?parseInt(e):e}h.convert2Number=we;function Oe(e){if(e!=null)return q.BigNumber.isBigNumber(e)?e:new q.BigNumber(e)}h.convert2BigNumber=Oe;function Ne(e,r){if(e.length!=r)throw Error("buffer length is illegal")}h.assertBufferLength=Ne;function Be(e){return JSON.parse(JSON.stringify(e))}h.cloneObject=Be;function je(e){return JSON.stringify(e,(r,t)=>t&&(t.type==="Buffer"||t instanceof Uint8Array?q.base.toHex(t):typeof t=="bigint"?t.toString():t))}h.jsonStringifyUniform=je});var $=P(B=>{"use strict";l();d();var Ae=B&&B.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,s)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]}),He=B&&B.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Ae(r,e,t)};Object.defineProperty(B,"__esModule",{value:!0});He(oe(),B)});var ue=P(u=>{"use strict";l();d();Object.defineProperty(u,"__esModule",{value:!0});u.SimpleWallet=u.BaseWallet=u.ecdsaSign=u.fromSigned=u.padWithZeroes=u.toUnsigned=u.intToHex=u.makeSignature=u.secp256k1SignTest=void 0;var p=Z(),I=F(),f=H(),Ie=$();function ae(e){let r=f.base.sha256("secp256k1-test"),t=f.signUtil.secp256k1.publicKeyCreate(e,!1),{signature:i,recovery:s}=f.signUtil.secp256k1.sign(m.Buffer.from(r),e);return f.signUtil.secp256k1.verify(r,i,s,t)}u.secp256k1SignTest=ae;function ce(e,r,t){let i=(0,u.fromSigned)(r),s=(0,u.fromSigned)(t),g=e,S=J((0,u.toUnsigned)(i).toString("hex"),64),y=J((0,u.toUnsigned)(s).toString("hex"),64);return f.base.stripHexPrefix(le(g)).concat(S,y)}u.makeSignature=ce;function le(e){return`0x${e.toString(16)}`}u.intToHex=le;var xe=function(e){return m.Buffer.from(e.toTwos(256).toArray())};u.toUnsigned=xe;function J(e,r){if(e!==""&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(r<0)throw new Error(`Expected a non-negative integer target length. Received: ${r}`);return String.prototype.padStart.call(e,r,"0")}u.padWithZeroes=J;var De=function(e){return new f.BN(e).fromTwos(256)};u.fromSigned=De;function de(e,r,t){let{signature:i,recovery:s}=f.signUtil.secp256k1.sign(e,r),g=m.Buffer.from(i.slice(0,32)),S=m.Buffer.from(i.slice(32,64));if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{v:t?s+(t*2+35):s+27,r:g,s:S}}u.ecdsaSign=de;var W=class{getRandomPrivateKey(){try{for(;;){let r=f.base.randomBytes(32);if(ae(r))return Promise.resolve(f.base.toHex(r,!0))}}catch{}return Promise.reject(p.GenPrivateKeyError)}getDerivedPrivateKey(r){return f.bip39.mnemonicToSeed(r.mnemonic).then(t=>{let i=f.bip32.fromSeed(t).derivePath(r.hdPath);if(i.privateKey){let s=f.base.toHex(i.privateKey);return Promise.resolve("0x"+s)}else return Promise.reject(p.GenPrivateKeyError)}).catch(t=>Promise.reject(p.GenPrivateKeyError))}getDerivedPath(r){return Promise.reject(p.NotImplementedError)}validPrivateKey(r){return Promise.reject(p.NotImplementedError)}signMessage(r){return Promise.reject(p.NotImplementedError)}async signCommonMsg(r){r.signType||(r.signType=I.SignType.Secp256k1);let t;if(r.message.text)t=r.message.text;else{let y;if(r.publicKey?y=r.publicKey:y=(await this.getNewAddress({privateKey:r.privateKey,addressType:r.addressType,hrp:r.hrp,version:r.version})).publicKey,y.startsWith("0x")&&(y=y.substring(2)),!r.message.walletId)return Promise.reject("invalid walletId");t=(0,Ie.buildCommonSignMsg)(y,r.message.walletId)}let i=f.base.magicHash(t),s=r.privateKeyHex?r.privateKeyHex:r.privateKey,g=f.base.fromHex(s);var S;switch(r.signType){case I.SignType.Secp256k1:let{v:y,r:N,s:D}=de(m.Buffer.from(i),g);return Promise.resolve(ce(y,N,D));case I.SignType.ECDSA_P256:return S=f.signUtil.p256.sign(m.Buffer.from(i),g).signature,Promise.resolve(f.base.toHex(S));case I.SignType.ED25519:return S=f.signUtil.ed25519.sign(i,g),Promise.resolve(f.base.toHex(S));case I.SignType.StarknetSignType:return S=f.signUtil.schnorr.stark.sign(i,g).toCompactRawBytes(),Promise.resolve(f.base.toHex(S));case I.SignType.TezosSignType:return Promise.reject("not support")}}verifyMessage(r){return Promise.reject(p.NotImplementedError)}ecRecover(r,t){return Promise.reject(p.NotImplementedError)}getAddressByPublicKey(r){return Promise.reject(p.NotImplementedError)}getMPCRawTransaction(r){return Promise.reject(p.NotImplementedError)}getMPCTransaction(r){return Promise.reject(p.NotImplementedError)}getMPCRawMessage(r){return Promise.reject(p.NotImplementedError)}getMPCSignedMessage(r){return Promise.reject(p.NotImplementedError)}getHardWareRawTransaction(r){return Promise.reject(p.NotImplementedError)}getHardWareSignedTransaction(r){return Promise.reject(p.NotImplementedError)}getHardWareMessageHash(r){return Promise.reject(p.NotImplementedError)}calcTxHash(r){return Promise.reject(p.NotImplementedError)}getRawTransaction(r){return Promise.reject(p.NotImplementedError)}validSignedTransaction(r){return Promise.reject(p.NotImplementedError)}estimateFee(r){return Promise.reject(p.NotImplementedError)}};u.BaseWallet=W;var Y=class extends W{mockData(r,t){this.mockAddress=r,this.mockPublicKey=t}getNewAddress(r){return Promise.resolve({address:this.mockAddress,publicKey:this.mockPublicKey})}validAddress(r){throw new Error("Method not implemented.")}signTransaction(r){throw new Error("Method not implemented.")}};u.SimpleWallet=Y});var pe=P(T=>{"use strict";l();d();var Ke=T&&T.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,s)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]}),R=T&&T.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Ke(r,e,t)};Object.defineProperty(T,"__esModule",{value:!0});R(F(),T);R(se(),T);R(Z(),T);R(ue(),T);R($(),T)});var ee=P(b=>{"use strict";l();d();Object.defineProperty(b,"__esModule",{value:!0});b.decrypt=b.encrypt=b.decodeBytes=b.nsecFromPrvKey=b.npubEncode=b.nsec=b.nostrHdp=void 0;var v=H();typeof crypto<"u"&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle);b.nostrHdp="npub";b.nsec="nsec";function Re(e){return fe("npub",e)}b.npubEncode=Re;function Ue(e){return fe("nsec",e)}b.nsecFromPrvKey=Ue;function fe(e,r){return v.base.toBech32(e,v.base.fromHex(r))}function Q(e,r){try{let[t,i]=v.base.fromBech32(r);if(e!==t)throw"invalid data";return v.base.toHex(i,!1)}catch(t){throw console.log(t),t}}b.decodeBytes=Q;async function ke(e,r,t){if(crypto==null)throw new Error("crypto is null");let i=v.secp256k1.getSharedSecret(Q("nsec",e),"02"+v.base.stripHexPrefix(r)),s=ge(i),g=Uint8Array.from(v.base.randomBytes(16)),S=v.base.toUtf8(t),y=await crypto.subtle.importKey("raw",s,{name:"AES-CBC"},!1,["encrypt"]),N=await crypto.subtle.encrypt({name:"AES-CBC",iv:g},y,S),D=v.base.toBase64(new Uint8Array(N)),C=v.base.toBase64(new Uint8Array(g.buffer));return`${D}?iv=${C}`}b.encrypt=ke;async function Ge(e,r,t){let[i,s]=t.split("?iv="),g=v.secp256k1.getSharedSecret(Q("nsec",e),"02"+v.base.stripHexPrefix(r)),S=ge(g),y=await crypto.subtle.importKey("raw",S,{name:"AES-CBC"},!1,["decrypt"]),N=v.base.fromBase64(i),D=v.base.fromBase64(s),C=await crypto.subtle.decrypt({name:"AES-CBC",iv:D},y,N);return v.base.fromUtf8(new Uint8Array(C))}b.decrypt=Ge;function ge(e){return e.slice(1,33)}});var L=P(x=>{"use strict";l();d();Object.defineProperty(x,"__esModule",{value:!0});x.getPublicKey=x.generatePrivateKey=void 0;var U=H();function qe(){return U.base.toHex(U.secp256k1.utils.randomPrivateKey(),!1)}x.generatePrivateKey=qe;function We(e){return U.base.toHex(U.secp256k1.schnorr.getPublicKey(U.base.stripHexPrefix(e)),!1)}x.getPublicKey=We});var te=P(a=>{"use strict";l();d();Object.defineProperty(a,"__esModule",{value:!0});a.getSignature=a.signEvent=a.verifySignature=a.validateEvent=a.getEventHash=a.serializeEvent=a.finishEvent=a.getBlankEvent=a.Kind=a.verifiedSymbol=void 0;var Le=L(),j=H(),me=j.signUtil.schnorr.secp256k1.schnorr;a.verifiedSymbol=Symbol("verified");var Ee;(function(e){e[e.Metadata=0]="Metadata",e[e.Text=1]="Text",e[e.RecommendRelay=2]="RecommendRelay",e[e.Contacts=3]="Contacts",e[e.EncryptedDirectMessage=4]="EncryptedDirectMessage",e[e.EventDeletion=5]="EventDeletion",e[e.Repost=6]="Repost",e[e.Reaction=7]="Reaction",e[e.BadgeAward=8]="BadgeAward",e[e.ChannelCreation=40]="ChannelCreation",e[e.ChannelMetadata=41]="ChannelMetadata",e[e.ChannelMessage=42]="ChannelMessage",e[e.ChannelHideMessage=43]="ChannelHideMessage",e[e.ChannelMuteUser=44]="ChannelMuteUser",e[e.Blank=255]="Blank",e[e.Report=1984]="Report",e[e.ZapRequest=9734]="ZapRequest",e[e.Zap=9735]="Zap",e[e.RelayList=10002]="RelayList",e[e.ClientAuth=22242]="ClientAuth",e[e.NwcRequest=23194]="NwcRequest",e[e.HttpAuth=27235]="HttpAuth",e[e.ProfileBadge=30008]="ProfileBadge",e[e.BadgeDefinition=30009]="BadgeDefinition",e[e.Article=30023]="Article",e[e.FileMetadata=1063]="FileMetadata"})(Ee=a.Kind||(a.Kind={}));function Ve(e=Ee.Blank){return{kind:e,content:"",tags:[],created_at:0}}a.getBlankEvent=Ve;function Xe(e,r){let t=e;return t.pubkey=(0,Le.getPublicKey)(r),t.id=V(t),t.sig=re(t,r),t[a.verifiedSymbol]=!0,t}a.finishEvent=Xe;function Se(e){if(!be(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}a.serializeEvent=Se;function V(e){let r=j.base.sha256(j.base.toUtf8(Se(e)));return j.base.toHex(r,!1)}a.getEventHash=V;var ze=e=>e instanceof Object;function be(e){if(!ze(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let r=0;r<e.tags.length;r++){let t=e.tags[r];if(!Array.isArray(t))return!1;for(let i=0;i<t.length;i++)if(typeof t[i]=="object")return!1}return!0}a.validateEvent=be;function Ce(e){if(typeof e[a.verifiedSymbol]=="boolean")return e[a.verifiedSymbol];let r=V(e);if(r!==e.id)return e[a.verifiedSymbol]=!1;try{return e[a.verifiedSymbol]=me.verify(e.sig,r,e.pubkey)}catch{return e[a.verifiedSymbol]=!1}}a.verifySignature=Ce;function Fe(e,r){return console.warn("nostr-tools: `signEvent` is deprecated and will be removed or changed in the future. Please use `getSignature` instead."),re(e,j.base.stripHexPrefix(r))}a.signEvent=Fe;function re(e,r){return j.base.toHex(me.sign(V(e),j.base.stripHexPrefix(r)),!1)}a.getSignature=re});var he=P(E=>{"use strict";l();d();var Ze=E&&E.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,s)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]}),$e=E&&E.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Je=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&Ze(r,e,t);return $e(r,e),r};Object.defineProperty(E,"__esModule",{value:!0});E.NostrAssetsWallet=E.NewAddressError=E.CryptTextParams=E.nipOpType=void 0;var A=pe(),M=H(),w=ee(),k=Je(Pe()),ye=te(),ve=L(),ie;(function(e){e[e.NIP04_Encrypt=1]="NIP04_Encrypt",e[e.NIP04_Decrypt=2]="NIP04_Decrypt"})(ie=E.nipOpType||(E.nipOpType={}));var X=class{constructor(r,t,i){this.type=r,this.pubkey=t,this.text=i}};E.CryptTextParams=X;typeof k<"u"&&!k.subtle&&k.webcrypto&&(k.subtle=k.webcrypto.subtle);E.NewAddressError="generate address error";var ne=class extends A.BaseWallet{async getDerivedPath(r){return`m/44'/1237'/${r.index}'/0/0`}getDerivedPrivateKey(r){return M.bip39.mnemonicToSeed(r.mnemonic).then(t=>{let i=M.bip32.fromSeed(t).derivePath(r.hdPath);return i.privateKey?Promise.resolve((0,w.nsecFromPrvKey)(M.base.toHex(i.privateKey,!1))):Promise.reject(A.GenPrivateKeyError)}).catch(t=>Promise.reject(A.GenPrivateKeyError))}getRandomPrivateKey(){try{for(;;){let r=M.base.randomBytes(32);if((0,A.secp256k1SignTest)(r))return Promise.resolve((0,w.nsecFromPrvKey)(M.base.toHex(r,!1)))}}catch{}return Promise.reject(A.GenPrivateKeyError)}async getNewAddress(r){try{let[t,i]=M.base.fromBech32(r.privateKey);if(!(w.nsec==t))return Promise.reject("invalid privateKey");let g=(0,ve.getPublicKey)(M.base.toHex(i,!1)),S={address:(0,w.npubEncode)(g),publicKey:g};return Promise.resolve(S)}catch(t){return Promise.reject(t)}}async validPrivateKey(r){let[t,i]=M.base.fromBech32(r.privateKey),g={isValid:w.nsec==t,privateKey:r.privateKey};return Promise.resolve(g)}async validAddress(r){var t=!1;try{let[s,g]=M.base.fromBech32(r.address);t=w.nostrHdp==s}catch(s){console.log(s)}let i={isValid:t,address:r.address};return Promise.resolve(i)}async signCommonMsg(r){let[t,i]=M.base.fromBech32(r.privateKey);return super.signCommonMsg({privateKey:r.privateKey,privateKeyHex:M.base.toHex(i,!1),message:r.message,signType:A.SignType.Secp256k1})}async signTransaction(r){if(r.data instanceof X){let t=r.data;switch(t.type){case ie.NIP04_Decrypt:return(0,w.decrypt)(r.privateKey,t.pubkey,t.text);case ie.NIP04_Encrypt:return(0,w.encrypt)(r.privateKey,t.pubkey,t.text);default:return Promise.reject(A.NotImplementedError)}}else try{let t=(0,w.decodeBytes)(w.nsec,r.privateKey),i=r.data;return i.pubkey||(i.pubkey=(0,ve.getPublicKey)(t)),i.id||(i.id=(0,ye.getEventHash)(i)),i.sig=(0,ye.getSignature)(i,t),Promise.resolve(i)}catch(t){return Promise.reject(t)}}};E.NostrAssetsWallet=ne});var Qe=P(O=>{l();d();var Ye=O&&O.__createBinding||(Object.create?function(e,r,t,i){i===void 0&&(i=t);var s=Object.getOwnPropertyDescriptor(r,t);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,i,s)}:function(e,r,t,i){i===void 0&&(i=t),e[i]=r[t]}),z=O&&O.__exportStar||function(e,r){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(r,t)&&Ye(r,e,t)};Object.defineProperty(O,"__esModule",{value:!0});z(he(),O);z(ee(),O);z(L(),O);z(te(),O)});export{Qe as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-VVGYZ4WK.js.map
