import{a as Y}from"./chunk-UTSCFP3M.js";import{f as j}from"./chunk-B2JJAXTZ.js";import{s as K}from"./chunk-APUK5GYS.js";import{d as B}from"./chunk-F4XZWNG2.js";import{a as V}from"./chunk-ELJZY4AU.js";import{b as T,c as R,d as k}from"./chunk-UEHNGOG4.js";import{a as C}from"./chunk-ICS7QRDT.js";import{b as I,c as A}from"./chunk-MNWYB2XY.js";import{b as W}from"./chunk-AOBCHKFQ.js";import{h as v}from"./chunk-4HGOSSS7.js";import{o as ee}from"./chunk-AUURQ3HI.js";import{Q as D}from"./chunk-B32MCU7F.js";import{d as i,f as $}from"./chunk-TKFT6XV3.js";import{b as H}from"./chunk-XRF6BZHR.js";import{q as h}from"./chunk-2BGRD7AD.js";import{_c as Z,lc as _,qc as X,rb as O,w as E,yb as Q,z as q}from"./chunk-Q23SA7M6.js";import{Y as b,oa as z}from"./chunk-KBQXBPIW.js";import{f as J,o as P,q as d}from"./chunk-FJHLV356.js";P();d();X();Z();Q();var m=e=>C(e)?e:_(H(e)),te=({value:e,toAddr:r,contractAddress:t})=>!t||!j(r)?"":V(r,e),se="0x0",L=({data:e,value:r,nonce:t,walletId:n,gasPrice:s,gasLimit:p,localType:o,to:u,maxFeePerGas:S,from:x,supportEip1559:G,signFn:y,kaiaTxType:g,maxPriorityFeePerGas:l,chainId:M,contractAddress:F})=>{let N=x&&T(x,o),f=u&&T(u,o),U=M||O(o)?.realChainIdHex,w=e||te({value:r,toAddr:f,contractAddress:F}),a={from:N,walletId:n,data:w,nonce:m(t),chainId:m(U),gasLimit:m(p)};return y&&g&&(a.signFn=y,a.kaiaTxType=g),G?Object.assign(a,{type:h.FEE_MARKET,maxFeePerGas:m(S),maxPriorityFeePerGas:m(l)}):Object.assign(a,{type:h.LEGACY,gasPrice:m(s)}),F?Object.assign(a,{data:w,value:se,to:T(F,o)}):Object.assign(a,{to:f,value:m(r)}),a};var oe=["low","medium","high"],ne=(e={})=>oe.map(r=>r==="low"?{level:r,gasPrice:e?.min,maxFeePerGas:e?.min,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.safePriorityFee}:r==="medium"?{level:r,gasPrice:e?.normal,maxFeePerGas:e?.normal,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.proposePriorityFee}:{level:r,gasPrice:e?.max,maxFeePerGas:e?.max,baseFeePerGas:e?.baseFee,maxPriorityFeePerGas:e?.fastPriorityFee});P();d();var c=J(ee());z();$();q();var De=()=>(0,c.useMemoizedFn)(async e=>{let{coinId:r}=e,t=L(e),s=await Y(b(t,["to","data","from","value","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas"]));return await D({coinId:r},{inputData:s})}),He=({coinId:e,fromAddr:r,walletId:t})=>{let n=B(e),s=n?.localType,p=K({fromAddr:R(r,s),walletId:t,localType:k(s)});return(0,c.useMemoizedFn)(async({data:o,from:u,to:S,value:x,gasPrice:G,maxFeePerGas:y,maxPriorityFeePerGas:g,needCapture:l,systemToken:M,...F})=>{let N=L({to:S,data:o,from:u,value:x,gasPrice:G,coinId:e,walletId:t,localType:s,systemToken:M,maxFeePerGas:y,maxPriorityFeePerGas:g,contractAddress:n?.address,...F}),f=await p({needCapture:l,params:N});return f.rawTxResult||f})},Ce=({walletId:e})=>{let r=v(e),t={[E.ETH_SIGN]:[A,i().signMessage],[E.PERSONAL_SIGN]:[A,i().signPersonalMessage],[E.ETH_SIGN_TYPED_DATA]:[I,i().signTypedMessage]};return(0,c.useMemoizedFn)(async({msgParams:n,baseChain:s,type:p})=>{let o=t[p];if(o)return W(r?.initialType)?o[0]({walletId:e,msgParams:n,baseChain:s}):o[1](n,s,e);throw new Error("Not Supported")})},Re=()=>(0,c.useMemoizedFn)(async e=>i().encryptionPublicKey(e)),ke=()=>(0,c.useMemoizedFn)(async e=>i().decryptMessageInline(e)),Ie=()=>(0,c.useMemoizedFn)(async e=>i().decryptMessage(e));export{m as a,L as b,ne as c,De as d,He as e,Ce as f,Re as g,ke as h,Ie as i};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-37XSQI5O.js.map
