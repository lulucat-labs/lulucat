import{a as z}from"./chunk-X6MIE4T7.js";import{a as j}from"./chunk-BKHV6IBS.js";import{a as X}from"./chunk-34DPDPSQ.js";import{b as V}from"./chunk-WGGUVNMX.js";import{a as K,b as U}from"./chunk-7H73XLDQ.js";import{a as W}from"./chunk-CUQ3APPN.js";import"./chunk-BAUTUSPJ.js";import"./chunk-4TXBJTY4.js";import"./chunk-JA6DNDTG.js";import"./chunk-ZAFBI5BD.js";import"./chunk-YSW2YY4I.js";import"./chunk-YDKVBWIO.js";import"./chunk-4PFFVHVY.js";import{a as Y}from"./chunk-2QOKJOXY.js";import"./chunk-JSJTP4EG.js";import{b as q,k as v}from"./chunk-LEEK32ZR.js";import"./chunk-454I7KWD.js";import{a as D}from"./chunk-R6UCQXIY.js";import"./chunk-DIVFRUSZ.js";import"./chunk-NFPXRZGF.js";import"./chunk-7P3TAB2X.js";import"./chunk-F2DBKTIG.js";import"./chunk-2AZAHALD.js";import"./chunk-UKL67WXA.js";import"./chunk-FGVAAF7J.js";import"./chunk-B2JJAXTZ.js";import{k as b,m as O}from"./chunk-APUK5GYS.js";import"./chunk-55XCE2ZH.js";import"./chunk-TZ4DRGVV.js";import"./chunk-WVLQP46O.js";import"./chunk-EADI45MC.js";import"./chunk-KLQLZF6P.js";import"./chunk-XZD4GKLJ.js";import"./chunk-QHPYMFK2.js";import{d as N}from"./chunk-F4XZWNG2.js";import"./chunk-G6PPKZHQ.js";import"./chunk-2P7I7CKT.js";import{a as F}from"./chunk-FOZHYRP7.js";import"./chunk-S3KOFL77.js";import"./chunk-HVQTUZKT.js";import"./chunk-Z6KV2BLE.js";import"./chunk-DXXZWR4J.js";import"./chunk-5HXUZG4A.js";import"./chunk-SBQTMPJM.js";import"./chunk-7YQLUBDN.js";import"./chunk-O43TNQSD.js";import"./chunk-LUYLQDIU.js";import"./chunk-QZXD2Q4G.js";import"./chunk-MIHA7WB3.js";import"./chunk-UEHNGOG4.js";import"./chunk-2NGLDVXQ.js";import"./chunk-RQNRRXKS.js";import"./chunk-2LNDMD6C.js";import"./chunk-OAAPCU3J.js";import"./chunk-MFSPDO3X.js";import"./chunk-FUXD4L32.js";import"./chunk-6Y4AAIZN.js";import"./chunk-SIAVCB4G.js";import"./chunk-MNWYB2XY.js";import"./chunk-KX7CSB3G.js";import"./chunk-AOBCHKFQ.js";import"./chunk-DPRLOZH7.js";import"./chunk-DEQWBIFF.js";import"./chunk-ELJOB4BQ.js";import"./chunk-ELHNWADN.js";import"./chunk-4X3SKD2N.js";import"./chunk-GCAD5G3O.js";import"./chunk-PS6ETN2V.js";import"./chunk-AZYPLE5D.js";import"./chunk-SULFXTUN.js";import"./chunk-OGS4HURJ.js";import"./chunk-T6GLUO36.js";import"./chunk-KOPPPKVA.js";import"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import"./chunk-ZV6IBWDM.js";import"./chunk-F5ELBQNP.js";import"./chunk-HZPID3WW.js";import"./chunk-HZNY4MK4.js";import"./chunk-6CI55CTV.js";import"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import"./chunk-E75DNWM4.js";import"./chunk-GOMM7VSE.js";import"./chunk-LTMEFQRN.js";import"./chunk-MSUJSPID.js";import"./chunk-TU5XNYNZ.js";import"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import"./chunk-AUURQ3HI.js";import"./chunk-B32MCU7F.js";import"./chunk-QCINCBGO.js";import"./chunk-VOLYN562.js";import"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-XRF6BZHR.js";import"./chunk-OWU5GWTN.js";import{O as _,da as C,ea as P}from"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{Ha as h,Qb as k,_a as se,hc as ne}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import"./chunk-E44TZGUB.js";import{K as B,oa as re}from"./chunk-KBQXBPIW.js";import{O as oe,w as L}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as I}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-2RHSM47Y.js";import"./chunk-ZSUO3ILU.js";import"./chunk-ATMUHCXK.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-FV56V3FL.js";import"./chunk-7MZSFBF4.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-KHHBU7RQ.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as A,o as i,q as a}from"./chunk-FJHLV356.js";i();a();var w=A(I());i();a();var y=A(I());se();i();a();re();oe();i();a();var E=A(I());var H=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[x,c]=(0,E.useState)(!1),[n,r]=(0,E.useState)(null),[d,u]=(0,E.useState)(!1),[f,S]=(0,E.useState)("");return(0,E.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=v.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=q(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),S("")}catch(s){u(!0),S(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:x,error:d,errorMsg:f,result:n}};ne();var ie=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=F(t),{address:m,walletId:x}=o,{verifyGasLimitRet:c}=l,n=D(e,x)||{},{coinAmountInt:r}=n,{loading:d,result:u={},error:f,errorMsg:S}=H({from:m,transaction:t?.params?.transaction,provider:X}),g=u?.fee,s=(B(r)||k(r,g))&&!b(c),p=B(r)||k(r,0),G={coinId:e,loading:d,estimateFailed:f,networkFee:g},R;return f&&S&&(R=L("wallet_extension_alert_estimate_unavailable_error",{errorMsg:S})),{loading:d,networkFee:u,networkFeeProps:G,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:R,isSufficientBalance:p,coinWithBalance:n}},J=ie;i();a();var T=A(I());var ae=({coinId:e,unapproved:t})=>{let l=O(),[o,m]=(0,T.useState)(!0),{host:x}=Y(t),{address:c}=F(t),[n,r]=(0,T.useState)({}),d=(0,T.useMemo)(()=>({checkTypes:[C.VERIFY_GAS_LIMIT,C.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:x}),[c,e]),u=async(g,s)=>{let p=await l({...d,chainId:s,inputData:g});r(p),m(!1)},f=(0,T.useMemo)(()=>n[C.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,T.useMemo)(()=>({loading:o,...n[C.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Q=ae;var ce=(0,y.memo)(({unapproved:e})=>{let t=N(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Q({unapproved:e,coinId:l}),{firePreExecute:x,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:d,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:S,loading:g,isSufficientBalance:s,coinWithBalance:p}=J({coinId:l,unapproved:e,preExecuteRet:m});(0,y.useEffect)(()=>{r?.txBytes&&o&&x(r?.txBytes,o)},[r?.txBytes,o]);let G=K({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:S,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:R,handleCancel:te}=V({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return W({kysRet:c,handleCancel:te}),y.default.createElement(U,{kysRet:c,unapproved:e,tipMessage:G,buttonGroup:R,networkFee:d})}),Z=ce;i();a();var $=A(I());function me(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var ee=({unapproved:e})=>{let t=me(z(e.params?.message));return $.default.createElement(j,{message:t,unapproved:e})};var Ze=({unapproved:e})=>{switch(e.method){case _.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case _.SIGN_TRANSACTION_BLOCK:return w.default.createElement(Z,{unapproved:e});case _.SIGN_MESSAGE:case _.SIGN_PERSONAL_MESSAGE:return w.default.createElement(ee,{unapproved:e});default:return""}};export{Ze as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-YTZ3K7JN.js.map
