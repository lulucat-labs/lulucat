import{a as B}from"./chunk-DIVFRUSZ.js";import{b}from"./chunk-2AZAHALD.js";import{f as n,k as z,l as H}from"./chunk-APUK5GYS.js";import{a as K}from"./chunk-FOZHYRP7.js";import{a as J}from"./chunk-S3KOFL77.js";import{h as W,i as j}from"./chunk-KX7CSB3G.js";import{o as ut}from"./chunk-AUURQ3HI.js";import{cc as v}from"./chunk-B32MCU7F.js";import{Ja as y,Na as S}from"./chunk-N4B7HQY5.js";import{O as pt,w as L}from"./chunk-364XNTHB.js";import{a as lt}from"./chunk-PDSGFBX4.js";import{f as d,o as _,q as C}from"./chunk-FJHLV356.js";_();C();var Q=d(v()),V=d(ut());S();function mt({id:r,walletId:e,origin:c,localType:T,extraParams:k}){let i=(0,Q.useDispatch)(),s=B(e);return(0,V.useMemoizedFn)(async()=>{s({trade:"contract_interaction",all_confirmation:"cancel",network:T,dapp_url:c}),await i(W(r,k)),await y(i)})}var X=mt;_();C();var t=d(lt()),Z=d(v());pt();S();var dt=({coinId:r,unapproved:e,networkFee:c,feeLoading:T,estimateFailed:k=!1,preExecuteRet:i={},isSufficientGas:s,isSufficientBalance:$=!0,extParams:x,needCheckMpc:D=!1,chainConfirmDisabled:tt=!1,onCancel:l,onConfirm:p,disabledConfirmBtn:ot,coinWithBalance:at})=>{let{id:a,origin:g,localType:w}=e,E=(0,Z.useDispatch)(),{address:h,walletId:o}=K(e),{loading:nt=!1,verifyGasLimitRet:I={}}=i,N=X({id:a,walletId:o,origin:g,localType:w}),A=!s||!$||z(I),F=B(o),u=(0,t.useCallback)(async()=>{l&&typeof l=="function"?await l():await N()},[l,N]),{loading:rt,onClick:et}=b(u),ct={loading:rt,onClick:et,actionType:n.ACTION_TYPE.CANCEL,btnText:L("wallet_dapp_connection_btn_reject")},f=ot||T||k||nt||H(I)||tt,it=(0,t.useCallback)(async()=>{try{if(D&&!await J({walletId:o,callback:u}))return;p&&typeof p=="function"?await p({networkFee:c}):(F({page_type:"contract_interaction",all_confirmation:"confirm",network:w,dapp_url:g}),await E(j(a,x)),await y(E))}catch(q){console.log("error",q)}},[g,D,p,o,u,c,F,w,E,a,x]),{isBalanceLoadError:O,requestBalance:M,isBalanceLoading:m}=at,{loading:R,onClick:G}=b(it),P=(0,t.useMemo)(()=>({loading:R||m,disabled:f,onClick:G,actionType:n.ACTION_TYPE.CONFIRM}),[f,m,R,G]),U=(0,t.useMemo)(()=>({actionType:n.ACTION_TYPE.FILL_UP,txId:a,coinId:r,walletId:o,address:h}),[h,r,a,s,o]),Y=(0,t.useMemo)(()=>({onClick:M,btnText:L("wallet_extension_transfer_error_text_reload"),actionType:n.ACTION_TYPE.CONFIRM}),[M]),st=(0,t.useMemo)(()=>f?P:O&&!m?Y:A?U:P,[P,f,U,A,Y,m,O]);return{buttonGroup:[ct,st],handleCancel:u}},Nt=dt;export{X as a,Nt as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-WGGUVNMX.js.map
