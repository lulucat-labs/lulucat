import{a as qt,b as zt}from"./chunk-6L7MO5V7.js";import{a as Rt}from"./chunk-I6VIV2LW.js";import{a as Ot}from"./chunk-HGH3KFHX.js";import{a as j}from"./chunk-IWG35R5Y.js";import{a as Ut}from"./chunk-COAFX7AN.js";import"./chunk-GHKJNUVY.js";import{a as Mt}from"./chunk-2P7I7CKT.js";import{a as At}from"./chunk-4PG3DHFO.js";import{a as Ft}from"./chunk-7XOHQAJS.js";import{a as $,b as L,c as St,d as Pt}from"./chunk-4L5OPDYI.js";import"./chunk-2NGLDVXQ.js";import"./chunk-RQNRRXKS.js";import"./chunk-UW2D7AS7.js";import"./chunk-Z3UC5W2F.js";import"./chunk-4HIOE2KZ.js";import"./chunk-KYU5M654.js";import"./chunk-YSEHOL75.js";import{a as It,d as Lt}from"./chunk-4X3SKD2N.js";import{a as vt}from"./chunk-PS6ETN2V.js";import"./chunk-T6GLUO36.js";import{a as Et}from"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import"./chunk-6CI55CTV.js";import{b as v}from"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import{a as Dt}from"./chunk-GOMM7VSE.js";import{a as bt}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import{R as Nt,S as O,a as Ct,ya as st}from"./chunk-WSXZYUQ4.js";import{b as N}from"./chunk-JRZXGORL.js";import{q as f}from"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as Tt}from"./chunk-AUURQ3HI.js";import{cc as xt}from"./chunk-B32MCU7F.js";import"./chunk-VOLYN562.js";import{a as Y}from"./chunk-VLKJDIZ5.js";import{Ja as kt,Na as ye}from"./chunk-N4B7HQY5.js";import{d as gt,f as we}from"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-XRF6BZHR.js";import{e as ht}from"./chunk-OWU5GWTN.js";import"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import{c as g}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{O as B,q as it,x as V,y as yt}from"./chunk-E44TZGUB.js";import"./chunk-KBQXBPIW.js";import{O as P,w as l}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{H as Z,T as wt,Z as nt,ca as H}from"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as T}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as a,o as t,q as e}from"./chunk-FJHLV356.js";t();e();var c=a(T()),ne=a(xt()),ie=a(Y()),se=a(Tt());P();we();ye();t();e();var F=a(T());var Ht=a(Y());t();e();var R={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Bt=({currentTab:o,onTabChange:r,tabsConfig:m})=>{let n=(0,Ht.useHistory)(),s=(0,F.useCallback)(i=>{r(i),n.replace(`${Nt}?tab=${String(i)}`)},[n]);return F.default.createElement(F.default.Fragment,null,F.default.createElement(B,{className:R.tabsContainer,headerClassName:R.tabs,panelListClassName:R.panelList,activeId:o,size:B.SIZE.xl,color:B.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:s,navLeftClassName:R.left,navRightClassName:R.right},m.map(i=>{let{title:_,id:w}=i;return F.default.createElement(B.TabPane,{tab:_,key:w,id:w},i.contentComponent)})))};t();e();var U=a(T()),$t=a(xt()),jt=a(Y()),Qt=a(Z());P();t();e();var h=a(T()),Kt=a(Z());P();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var ge=({onViewDetail:o,onDelete:r})=>{let m=(0,h.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:l("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:l("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>h.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),s=({option:_})=>{let w=_;return h.default.createElement("div",{className:q.option},h.default.createElement(N,{className:(0,Kt.default)(w.icon,q.optionIcon)}),h.default.createElement("span",{className:q.optionText},w.label))},i=(0,h.useCallback)(_=>{_.preventDefault(),_.stopPropagation()},[]);return h.default.createElement("div",{onClick:i},h.default.createElement(V,{options:m,align:V.DIRECTION.right,optionAlign:V.DIRECTION.left,displayArea:n,renderOption:s,onChange:_=>{_?.action()},optionItemClassName:q.optionItem}))},Gt=ge;t();e();var I=a(T());t();e();var k=a(T()),Wt=a(Z());t();e();var K={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var ke=({icon:o,name:r,rpcUrl:m,children:n,keyword:s,className:i,onClick:_,id:w,...x})=>{let E=j(),M=w===E,C=(0,k.useMemo)(()=>{if(o&&k.default.isValidElement(o))return o;let d={size:N.SIZE.lg};return o&&typeof o=="string"?{src:o,type:N.TYPE.image,defaultIcon:ht,...d}:o&&typeof o=="object"?{...d,...o}:r&&typeof r=="string"?{text:r,type:N.TYPE.text,textTheme:N.TEXT_THEME.black,...d}:!1},[o,r]);return k.default.createElement(It,{icon:C,className:(0,Wt.default)(K["wallet-list-token"],i),onClick:_,keyword:s,...x},k.default.createElement(g.FlexBox,{style:{flex:1,overflow:"hidden"},direction:g.DIRECTION.vertical},k.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:K.title__wrap},k.default.createElement(f.HighlightKeyword,{strong:!0,text:r,keyword:s,ellipsis:{tooltip:!0}})),!!m&&k.default.createElement(g.FlexBox,{align:g.ALIGN.center,className:K.desc__wrap},k.default.createElement(f.Text,{strong:!0,ellipsis:{tooltip:!0},size:f.SIZE.xs,type:f.TYPE.secondary},m))),M&&k.default.createElement(N,{icon:"okds-success-circle-fill",className:K.checkIcon}),n)},Zt=k.default.memo(ke);var Vt=a(Tt()),Yt=a(Z());P();t();e();var Q={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var D=({listData:o,keywords:r,onSelect:m,emptyText:n,renderCustomItem:s,isRpcMode:i,children:_,listContainerClassName:w,searchMode:x=!1})=>{let E=(0,I.useRef)(null),M=(0,I.useCallback)(S=>{let{chainName:tt,icon:et,rpcUrl:ot}=S||{};return I.default.createElement(Zt,{id:S.id,name:tt,icon:et,rpcUrl:ot,keyword:r,onClick:()=>{m(S,i)}},s?.(S))},[r,m,i,s]),C=(0,I.useCallback)(()=>x?null:I.default.createElement(yt.State,{className:Q.emptyContainer,title:n??l("wallet_extension_cryptodetail_text_nodata_found")}),[n,x]),d=(0,Vt.useSize)(E);return I.default.createElement("div",{ref:E,className:(0,Yt.default)(Q.listContainer,w,{[Q.searchMode]:x})},I.default.createElement(Lt,{virtualable:!x,itemKey:"id",searchable:!1,dataSource:o,renderItem:M,renderEmpty:C}),_)};t();e();var at={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var X=({isEVMChainExisted:o,disableScroll:r=!1,...m})=>{let n=(0,jt.useHistory)(),s=(0,$t.useDispatch)(),i=j(),_=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(O):At(O)},w=async d=>{n.push(`${O}?id=${encodeURIComponent(d.id)}&modify=${$.CAN}`)},x=Rt(),E=d=>{x({editRpcInfo:{uniqueId:d.id,rpcUrl:d.rpcUrl},onDeleted:()=>{i===d.id&&(s(v("currentNetworkUniqueId","")),s(v("isRpcMode",!1)))}})},M=d=>U.default.createElement(Gt,{onDelete:()=>{E(d)},onViewDetail:()=>{w(d)}}),C=o;return U.default.createElement(U.default.Fragment,null,U.default.createElement(D,{...m,listContainerClassName:(0,Qt.default)({[at.listContainer]:C,[at.unScollListContainer]:r}),renderCustomItem:M},C&&U.default.createElement(bt.FooterActions,null,U.default.createElement(H,{block:!0,size:H.SIZE.lg,type:H.TYPE.highlight,category:H.CATEGORY.fill,onClick:_},l("developer_mode_network_maintitle_add_network")))))};t();e();var Jt=a(T());P();t();e();var Xt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var te=({onSearch:o,searchKeyword:r})=>Jt.default.createElement(it.Search,{className:Xt.searchInput,placeholder:l("extension_wallet_network_input_search_network"),size:it.SIZE.md,value:r,onChange:m=>{let n=m.target.value;o(n)}});t();e();var mt=a(T());var ee=a(Y());t();e();var lt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var J=o=>{let r=(0,ee.useHistory)();return mt.default.createElement(D,{...o,renderCustomItem:n=>mt.default.createElement(N.IconButton,{icon:"okx-wallet-plugin-more",className:lt.moreIcon,coreClassName:lt["more-icon__core"],onClick:s=>{s.preventDefault(),s.stopPropagation(),r.push(`${O}?id=${encodeURIComponent(n.id)}&modify=${$.CANT}`)}})})};t();e();var z=a(T());P();t();e();var oe=o=>{let{onClose:r,visible:m,network:n}=o;return m?z.default.createElement(g.Portal,{component:g.Container,className:"net-loading"},z.default.createElement(wt,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),z.default.createElement("div",{className:"net-loading__content"},z.default.createElement(nt,{size:nt.SIZE.xl}),z.default.createElement("div",{className:"net-loading__content-text"},l("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=a(T());P();t();e();var G={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function ct(o){let{mainnetList:r,testnetList:m,customList:n,debouncedKeywords:s,onSelect:i}=o;return u.default.createElement("div",{className:G.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("extension_wallet_network_tab_main_network")),u.default.createElement(D,{listData:r,keywords:s,onSelect:i,isRpcMode:!1,searchMode:!0})):null,m.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_test_network")),u.default.createElement(J,{listData:m,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:G.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_editcustom")),u.default.createElement(X,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:s,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var re={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var Ce=()=>{let o=(0,ie.useHistory)(),r=(0,ne.useDispatch)(),m=Mt(),n=(0,c.useCallback)(()=>{o.replace(Ct)},[o]),[s,i]=(0,c.useState)(L.init),[_,w]=(0,c.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:x}=Pt(),{extensionConfig:E,setExtensionConfig:M}=vt("rpc_info"),C=(0,c.useRef)(!1),d=async y=>{i(L.loading),C.current=!1;try{let{rpcUrl:b,uniqueId:rt}=y;await qt(b),C.current||(await r(v("isRpcMode",!0)),await r(v("currentNetworkUniqueId",rt)),await M(y),i(L.success),o.replace(st))}catch{C.current||i(L.failed)}},[S,tt]=(0,c.useState)(""),et=y=>{tt(y)},[ot,ae]=(0,c.useState)(parseInt(m.get("tab")||"0",10)),le=y=>{ae(y)},A=(0,se.useDebounce)(S,{wait:300}),{resetFilterInfo:me}=Ut(),{mainnetListForUI:pt,customListForUI:_t,testnetListForUI:dt,isEVMChainExisted:ft}=Ot(A),{isRpcMode:ce}=Ft(),pe=async y=>{let b=x.find(rt=>rt.uniqueId===y.id);if(ce&&St(E,b)){o.replace(st);return}b&&(w(b),await d(b))},_e=async y=>{await r(v("isRpcMode",!1)),await r(v("currentNetworkUniqueId",y.id)),me(!0),n()},de=async()=>{await gt().clearDappData(),await kt(r)},W=async(y,b)=>{await de(),b?await pe(y):await _e(y)},fe=Et(),Ne=()=>{globalThis.platform.openTab({url:fe.faucetCenter})},ut=ft?l("wallet_extension_cryptodetail_text_nodata_found"):l("extension_wallet_network_text_unused_testnet"),ue=[{title:l("extension_wallet_network_tab_main_network"),id:0,contentComponent:c.default.createElement(D,{listData:pt,keywords:A,onSelect:W,isRpcMode:!1})},{title:l("developer_mode_network_title_test_network"),id:1,contentComponent:c.default.createElement(J,{listData:dt,keywords:A,onSelect:W,emptyText:ut,isRpcMode:!0})},{title:l("developer_mode_network_title_editcustom"),id:2,contentComponent:c.default.createElement(X,{isEVMChainExisted:ft,emptyText:ut,listData:_t,keywords:A,onSelect:W,isRpcMode:!0})}];return c.default.createElement(g.Container,{className:re.root},c.default.createElement(Dt,{title:l("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),c.default.createElement(te,{onSearch:et,searchKeyword:S}),A?c.default.createElement(ct,{mainnetList:pt,testnetList:dt,customList:_t,debouncedKeywords:A,onSelect:W}):c.default.createElement(Bt,{currentTab:ot,onTabChange:le,tabsConfig:ue}),c.default.createElement(zt,{visible:s===L.failed,onRetry:async()=>{await d(_)},onChangeNet:()=>{i(L.init)}}),c.default.createElement(oe,{visible:s===L.loading,network:_?.name,onClose:()=>{i(L.init),C.current=!0}}))},En=Ce;export{Ce as NetworkManagement,En as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-AI235IPQ.js.map
