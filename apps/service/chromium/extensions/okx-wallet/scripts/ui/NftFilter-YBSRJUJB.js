import{a as pe}from"./chunk-B6MVHJZX.js";import{a as de}from"./chunk-F2JTGB57.js";import{a as ue}from"./chunk-COAFX7AN.js";import{a as fe}from"./chunk-HYFMV74Y.js";import"./chunk-LX6EREZR.js";import"./chunk-VP3JRWXQ.js";import{a as me}from"./chunk-7XOHQAJS.js";import"./chunk-2NGLDVXQ.js";import"./chunk-RQNRRXKS.js";import{a as ae}from"./chunk-GZ2ZKPO5.js";import{b as h,j as re}from"./chunk-UW2D7AS7.js";import{b as M}from"./chunk-Z3UC5W2F.js";import"./chunk-4HIOE2KZ.js";import"./chunk-KOPPPKVA.js";import"./chunk-6CI55CTV.js";import"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import"./chunk-74FNJDB7.js";import{a as ce}from"./chunk-GOMM7VSE.js";import{a as le}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import{a as ne}from"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import{q as w}from"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import{o as se}from"./chunk-AUURQ3HI.js";import{cc as Ye}from"./chunk-B32MCU7F.js";import"./chunk-VOLYN562.js";import{a as Ze}from"./chunk-VLKJDIZ5.js";import"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-OWU5GWTN.js";import"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import{c as F}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{Ac as ze,Bc as ie,Cc as We,yc as oe}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{E as ee,F as te,o as Q,q as R,r as E,y as K}from"./chunk-E44TZGUB.js";import{G as Z,ma as A,oa as qe}from"./chunk-KBQXBPIW.js";import{O as G,w as a,x as J}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{H as O,T as $,Z as X,ca as _}from"./chunk-W7JONHX2.js";import{a as Ve}from"./chunk-O3LHCDGR.js";import{a as N}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f,o as i,q as n}from"./chunk-FJHLV356.js";i();n();var o=f(N()),U=f(O()),we=f(Ze());qe();var Te=f(Ye());G();var Ee=f(se());i();n();var P=f(N());i();n();var I=f(N()),he=f(O()),L=f(Ve()),ge=({item:e,clickHandle:s,value:t})=>I.default.createElement("div",{className:(0,he.default)("ok-button-checkbox--item",{"ok-button-checkbox--item-outline":t.includes(e.value)}),onClick:()=>{s&&s(e.value)}},e.image&&I.default.createElement("img",{src:e.image}),I.default.createElement("span",null,e.label));ge.propTypes={item:L.default.object,clickHandle:L.default.func,value:L.default.array};var _e=ge;var Je=({options:e,valueOption:s=[],onChange:t})=>{let r=d=>{t&&t(d)};return P.default.createElement("div",{className:"ok-button-checkbox--content"},e[0]?e.map((d,g)=>P.default.createElement(_e,{key:g,item:d,value:s,clickHandle:r})):P.default.createElement(te,null))},Ce=Je;i();n();var m=f(N());G();var $e=({loading:e,loaded:s,collectionsList:t,searchResult:r,onSearchItemClick:d,loadingMore:g=!1})=>e||!s?m.default.createElement(ae,{overwriteClassName:!0,className:"ok-home--loading-parent"}):t.length===0?m.default.createElement("div",{className:"ok-nft-filter--no-collection"},m.default.createElement(K.State,{type:K.State.TYPE.noRecord,title:a("wallet_extension_nft_text_no_collection")})):m.default.createElement(m.default.Fragment,null,t.map((c,l)=>m.default.createElement("div",{onClick:()=>{d(c)},key:l,className:"ok-nft-filter--search-item"},m.default.createElement("div",{className:"ok-nft-filter--search-item-popup"}),m.default.createElement(ee,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:c.icon||"/static/images/tx-history/default-nft.svg",className:"ok-nft-filter--search-icon",alt:""}),m.default.createElement(fe,{className:"ok-nft-filter--search-name",maxWidth:"270px",text:c.name}),m.default.createElement(E,{checked:r.includes(c.projectId),className:"ok-nft-filter--search-selected"}))),m.default.createElement("div",{className:"ok-nft-filter--load-more"},g&&m.default.createElement(X,null))),ke=$e;i();n();var k=f(N());G();var ye=f(O());i();n();function Xe(e){let{setting:s,onChanged:t}=e,r=c=>l=>{t?.(c,l.target.checked)},d=(c,l,S)=>()=>{let y=Q.show({title:c,confirmText:S,children:l,onConfirm:()=>{y.destroy()}});return y};return{settings:[{key:h.hideUnverifiedCollection,checked:s.hideUnverifiedCollection,onChange:r(h.hideUnverifiedCollection)},{key:h.hideManualHidden,checked:s.hideManualHidden,onChange:r(h.hideManualHidden)},{key:h.hideNoValue,checked:s.hideNoValue,onChange:r(h.hideNoValue),onShowDetail:d}]}}var xe=Xe;i();n();var D={[h.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[h.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[h.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};i();n();var x={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function Qe(e){let{settings:s}=xe(e);return k.default.createElement(F.Box,{className:x.root},k.default.createElement(w.Text,{size:w.SIZE.md,strong:!0,className:x.title},a("extension_wallet_filter_title_itemfilter")),s.map(t=>{let r=D[t.key].dialog;return k.default.createElement(F.Box,{key:t.key,className:x.item},k.default.createElement(F.Box,{className:x.name},k.default.createElement(w.Text,{size:w.SIZE.sm},a(D[t.key].title)),r&&k.default.createElement($,{onClick:t.onShowDetail?.(a(r.title),k.default.createElement(F.Box,{className:x.dialogContent},J(r.content)),a(r.confirm)),className:(0,ye.default)("okds-information-circle",x.icon)})),k.default.createElement(E,{checked:t.checked,onChange:t.onChange,className:x.checkbox}))}))}var Ne=Qe;i();n();var H=f(se());var be=f(N());i();n();We();ze();var Se={NotCertified:0,Certified:1},ve=e=>oe(ie.getNftCollections,e);var Re=({searchKeyword:e,projectCertificated:s,hiddenStatus:t,ref:r})=>{let d=(0,H.useDebounce)(e,{wait:500}),{currentNetworkUniqueId:g}=me(),c=de(),[l,S]=(0,be.useState)(!1),{data:y,loading:B,loadingMore:j}=(0,H.useInfiniteScroll)(u=>{let v=u?.nextPageNo??1;return ve({nameSearch:d,pageNo:v,address:c(g).join(","),pageSize:M,projectCertificated:s,hiddenStatus:t,chain:g}).then(T=>({list:T?.data?.list??[],nextPageNo:v*M<T?.data?.total?v+1:void 0}))},{reloadDeps:[d,g,s,t,c],isNoMore:u=>u?.nextPageNo===void 0,target:r,onError(){},onFinally(){S(!0)}});return{list:y?.list?.map(u=>({icon:u.image,name:u.name,chain:u.chain,isIdentification:u.certificateFlag===Se.Certified,projectId:u.project}))??[],loading:B,loaded:l,ref:r,loadingMore:j}},Fe=Re;var et=()=>{let e=(0,we.useHistory)(),s=(0,o.useRef)(null),{hasCurrentWalletChanged:t,currentWalletSetting:r,setWalletSetting:d,resetWalletSetting:g,formattedCurrentSetting:c}=pe(),{filterInfo:l,changeFilterInfo:S,changeCollectionFilter:y,changeSaleStatusFilter:B,resetFilterInfo:j,resetData:q}=ue(),u=(0,o.useRef)();(0,Ee.useMount)(()=>{u.current={currentWalletSetting:r,filterInfo:l}});let v=(0,Te.useSelector)(re).total,T=Object.keys(l).some(p=>l[p].length!==0),Ie=[{label:a("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:a("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[V,z]=(0,o.useState)(""),Le=c.projectCertificated,Pe=c.hiddenStatus,{list:He,loading:Be,loaded:je,loadingMore:Ae}=Fe({projectCertificated:Le,hiddenStatus:Pe,searchKeyword:V,ref:s}),Ge=(0,o.useCallback)(p=>{z(p.target.value)},[]),Oe=p=>{let b=A(l.collectionFilter,[p.projectId]);y(b)},Ke=p=>{let b=A(l.saleStatusFilter,[p]);B(b)},Me=()=>{Z({currentWalletSetting:r,filterInfo:l},u.current)||q()},De=()=>{j(!0),z(""),g(),setTimeout(()=>{e.goBack()},100)},W=()=>{Me(),e.push(ne)},Ue=(p,b)=>{S(),d(p,b)},Y=!T&&!t;return o.default.createElement("div",{className:"ok-nft-filter--main",ref:s},o.default.createElement(ce,{title:a("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:W}),o.default.createElement("div",{className:"ok-nft-filter--block"},o.default.createElement("div",{className:"ok-nft-filter--block-title"},a("wallet_extension_nft_filter_status")),o.default.createElement(Ce,{options:Ie,onChange:p=>{Ke(p)},valueOption:l.saleStatusFilter})),o.default.createElement(Ne,{onChanged:Ue,setting:r}),o.default.createElement("div",{className:(0,U.default)("ok-nft-filter--block","ok-nft-filter--collections")},o.default.createElement("div",{className:(0,U.default)("ok-nft-filter--block-title","ok-nft-filter--block-title-collections")},a("wallet_extension_nft_text_collections")),o.default.createElement(R.Search,{className:"ok-nft-filter--search-input",placeholder:a("wallet_extension_nft_placeholder_search_collections"),value:V,size:"sm",onChange:Ge}),o.default.createElement(ke,{loading:Be,loaded:je,loadingMore:Ae,collectionsList:He,searchResult:l.collectionFilter,onSearchItemClick:Oe})),o.default.createElement(le.FooterActions,null,o.default.createElement(_,{category:_.CATEGORY.outline,type:_.TYPE.primary,size:_.SIZE.lg,disabled:Y,onClick:()=>{De()}},a("wallet_extension_nft_btn_clear")),o.default.createElement(_,{category:_.CATEGORY.fill,type:_.TYPE.highlight,size:_.SIZE.lg,disabled:Y,onClick:()=>{W()}},a("wallet_extension_nft_btn_apply",{number:v}))))},po=et;export{po as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NftFilter-YBSRJUJB.js.map
