import{a as Ie}from"./chunk-QSDQT55Q.js";import{a as wi}from"./chunk-LI7MZD2P.js";import{a as hu}from"./chunk-WTNDHHRR.js";import{b as ce}from"./chunk-TKZ7N5JX.js";import{d as Ue}from"./chunk-SHMKQUVK.js";import{c as g,o as a,p as f,q as u}from"./chunk-FJHLV356.js";var Rs=g(qs=>{"use strict";a();u();Object.defineProperty(qs,"__esModule",{value:!0})});var ir=g(d=>{"use strict";a();u();Object.defineProperty(d,"__esModule",{value:!0});d.s16=d.s8=d.nu64be=d.u48be=d.u40be=d.u32be=d.u24be=d.u16be=d.nu64=d.u48=d.u40=d.u32=d.u24=d.u16=d.u8=d.offset=d.greedy=d.Constant=d.UTF8=d.CString=d.Blob=d.Boolean=d.BitField=d.BitStructure=d.VariantLayout=d.Union=d.UnionLayoutDiscriminator=d.UnionDiscriminator=d.Structure=d.Sequence=d.DoubleBE=d.Double=d.FloatBE=d.Float=d.NearInt64BE=d.NearInt64=d.NearUInt64BE=d.NearUInt64=d.IntBE=d.Int=d.UIntBE=d.UInt=d.OffsetLayout=d.GreedyCount=d.ExternalLayout=d.bindConstructorLayout=d.nameWithProperty=d.Layout=d.uint8ArrayToBuffer=d.checkUint8Array=void 0;d.constant=d.utf8=d.cstr=d.blob=d.unionLayoutDiscriminator=d.union=d.seq=d.bits=d.struct=d.f64be=d.f64=d.f32be=d.f32=d.ns64be=d.s48be=d.s40be=d.s32be=d.s24be=d.s16be=d.ns64=d.s48=d.s40=d.s32=d.s24=void 0;var Oi=Ue();function nr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}d.checkUint8Array=nr;function O(r){return nr(r),Oi.Buffer.from(r.buffer,r.byteOffset,r.length)}d.uint8ArrayToBuffer=O;var E=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};d.Layout=E;function vi(r,e){return e.property?r+"["+e.property+"]":r}d.nameWithProperty=vi;function bu(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof E))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}d.bindConstructorLayout=bu;var re=class extends E{isCount(){throw new Error("ExternalLayout is abstract")}};d.ExternalLayout=re;var sn=class extends re{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){nr(e);let n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};d.GreedyCount=sn;var Or=class extends re{constructor(e,t=0,n){if(!(e instanceof E))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof de||this.layout instanceof Oe}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};d.OffsetLayout=Or;var de=class extends E{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return O(e).readUIntLE(t,this.span)}encode(e,t,n=0){return O(t).writeUIntLE(e,n,this.span),this.span}};d.UInt=de;var Oe=class extends E{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return O(e).readUIntBE(t,this.span)}encode(e,t,n=0){return O(t).writeUIntBE(e,n,this.span),this.span}};d.UIntBE=Oe;var St=class extends E{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return O(e).readIntLE(t,this.span)}encode(e,t,n=0){return O(t).writeIntLE(e,n,this.span),this.span}};d.Int=St;var Kt=class extends E{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return O(e).readIntBE(t,this.span)}encode(e,t,n=0){return O(t).writeIntBE(e,n,this.span),this.span}};d.IntBE=Kt;var Ii=Math.pow(2,32);function Pn(r){let e=Math.floor(r/Ii),t=r-e*Ii;return{hi32:e,lo32:t}}function wn(r,e){return r*Ii+e}var on=class extends E{constructor(e){super(8,e)}decode(e,t=0){let n=O(e),i=n.readUInt32LE(t),s=n.readUInt32LE(t+4);return wn(s,i)}encode(e,t,n=0){let i=Pn(e),s=O(t);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}};d.NearUInt64=on;var an=class extends E{constructor(e){super(8,e)}decode(e,t=0){let n=O(e),i=n.readUInt32BE(t),s=n.readUInt32BE(t+4);return wn(i,s)}encode(e,t,n=0){let i=Pn(e),s=O(t);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};d.NearUInt64BE=an;var un=class extends E{constructor(e){super(8,e)}decode(e,t=0){let n=O(e),i=n.readUInt32LE(t),s=n.readInt32LE(t+4);return wn(s,i)}encode(e,t,n=0){let i=Pn(e),s=O(t);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}};d.NearInt64=un;var cn=class extends E{constructor(e){super(8,e)}decode(e,t=0){let n=O(e),i=n.readInt32BE(t),s=n.readUInt32BE(t+4);return wn(i,s)}encode(e,t,n=0){let i=Pn(e),s=O(t);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}};d.NearInt64BE=cn;var dn=class extends E{constructor(e){super(4,e)}decode(e,t=0){return O(e).readFloatLE(t)}encode(e,t,n=0){return O(t).writeFloatLE(e,n),4}};d.Float=dn;var ln=class extends E{constructor(e){super(4,e)}decode(e,t=0){return O(e).readFloatBE(t)}encode(e,t,n=0){return O(t).writeFloatBE(e,n),4}};d.FloatBE=ln;var fn=class extends E{constructor(e){super(8,e)}decode(e,t=0){return O(e).readDoubleLE(t)}encode(e,t,n=0){return O(t).writeDoubleLE(e,n),8}};d.Double=fn;var gn=class extends E{constructor(e){super(8,e)}decode(e,t=0){return O(e).readDoubleBE(t)}encode(e,t,n=0){return O(t).writeDoubleBE(e,n),8}};d.DoubleBE=gn;var yn=class extends E{constructor(e,t,n){if(!(e instanceof E))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof re&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof re)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof re&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){let n=[],i=0,s=this.count;for(s instanceof re&&(s=s.decode(e,t));i<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){let i=this.elementLayout,s=e.reduce((o,c)=>o+i.encode(c,t,n+o),0);return this.count instanceof re&&this.count.encode(e.length,t,n),s}};d.Sequence=yn;var hn=class extends E{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof E,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(let s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{let o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){nr(e);let n=this.makeDestinationObject();for(let i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){let i=n,s=0,o=0;for(let c of this.fields){let l=c.span;if(o=0<l?l:0,c.property!==void 0){let p=e[c.property];p!==void 0&&(o=c.encode(p,t,n),0>l&&(l=c.getSpan(t,n)))}s=n,n+=l}return s+o-i}fromArray(e){let t=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(let n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};d.Structure=hn;var vr=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};d.UnionDiscriminator=vr;var rr=class extends vr{constructor(e,t){if(!(e instanceof re&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};d.UnionLayoutDiscriminator=rr;var Ar=class extends E{constructor(e,t,n){let i;if(e instanceof de||e instanceof Oe)i=new rr(new Or(e));else if(e instanceof re&&e.isCount())i=new rr(e);else if(e instanceof vr)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof E))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof de||e instanceof Oe)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof de||e instanceof Oe,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return o(c)},this.configGetSourceVariant=function(c){o=c.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;let n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(let t in this.registry){let n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n,i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){let c=this.defaultLayout,l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[c.property]=c.decode(e,t+l)}else n=o.decode(e,t);return n}encode(e,t,n=0){let i=this.getSourceVariant(e);if(i===void 0){let s=this.discriminator,o=this.defaultLayout,c=0;return this.usesPrefixDiscriminator&&(c=s.layout.span),s.encode(e[s.property],t,n),c+o.encode(e[o.property],t,n+c)}return i.encode(e,t,n)}addVariant(e,t,n){let i=new bn(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};d.Union=Ar;var bn=class extends E{constructor(e,t,n,i){if(!(e instanceof Ar))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof E))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),s+=this.layout.getSpan(t,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};d.VariantLayout=bn;function tr(r){return 0>r&&(r+=4294967296),r}var Er=class extends E{constructor(e,t,n){if(!(e instanceof de||e instanceof Oe))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=tr(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){let n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(let s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){let i=this.word.decode(t,n);this._packedSetValue(i);for(let s of this.fields)if(s.property!==void 0){let o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){let n=new kr(this,e,t);return this.fields.push(n),n}addBoolean(e){let t=new pn(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}};d.BitStructure=Er;var kr=class{constructor(e,t,n){if(!(e instanceof Er))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");let i=8*e.span,s=e.fields.reduce((o,c)=>o+c.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=tr(this.valueMask<<this.start),this.property=n}decode(e,t){let n=this.container._packedGetValue();return tr(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==tr(e&this.valueMask))throw new TypeError(vi("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),n=tr(e<<this.start);this.container._packedSetValue(tr(t&~this.wordMask)|n)}};d.BitField=kr;var pn=class extends kr{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};d.Boolean=pn;var _n=class extends E{constructor(e,t){if(!(e instanceof re&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof re||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),O(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof re&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(vi("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");let s=O(e);return O(t).write(s.toString("hex"),n,i,"hex"),this.length instanceof re&&this.length.encode(i,t,n),i}};d.Blob=_n;var mn=class extends E{constructor(e){super(-1,e)}getSpan(e,t=0){nr(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){let n=this.getSpan(e,t);return O(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Oi.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");let o=O(t);return i.copy(o,n),o[n+s]=0,s+1}};d.CString=mn;var Sn=class extends E{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return nr(e),e.length-t}decode(e,t=0){let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return O(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));let i=Oi.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(O(t),n),s}};d.UTF8=Sn;var Tn=class extends E{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};d.Constant=Tn;d.greedy=(r,e)=>new sn(r,e);d.offset=(r,e,t)=>new Or(r,e,t);d.u8=r=>new de(1,r);d.u16=r=>new de(2,r);d.u24=r=>new de(3,r);d.u32=r=>new de(4,r);d.u40=r=>new de(5,r);d.u48=r=>new de(6,r);d.nu64=r=>new on(r);d.u16be=r=>new Oe(2,r);d.u24be=r=>new Oe(3,r);d.u32be=r=>new Oe(4,r);d.u40be=r=>new Oe(5,r);d.u48be=r=>new Oe(6,r);d.nu64be=r=>new an(r);d.s8=r=>new St(1,r);d.s16=r=>new St(2,r);d.s24=r=>new St(3,r);d.s32=r=>new St(4,r);d.s40=r=>new St(5,r);d.s48=r=>new St(6,r);d.ns64=r=>new un(r);d.s16be=r=>new Kt(2,r);d.s24be=r=>new Kt(3,r);d.s32be=r=>new Kt(4,r);d.s40be=r=>new Kt(5,r);d.s48be=r=>new Kt(6,r);d.ns64be=r=>new cn(r);d.f32=r=>new dn(r);d.f32be=r=>new ln(r);d.f64=r=>new fn(r);d.f64be=r=>new gn(r);d.struct=(r,e,t)=>new hn(r,e,t);d.bits=(r,e,t)=>new Er(r,e,t);d.seq=(r,e,t)=>new yn(r,e,t);d.union=(r,e,t)=>new Ar(r,e,t);d.unionLayoutDiscriminator=(r,e)=>new rr(r,e);d.blob=(r,e)=>new _n(r,e);d.cstr=r=>new mn(r);d.utf8=(r,e)=>new Sn(r,e);d.constant=(r,e)=>new Tn(r,e)});var sr=g(In=>{"use strict";a();u();Object.defineProperty(In,"__esModule",{value:!0});In.encodeDecode=void 0;var pu=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};In.encodeDecode=pu});var Ai=g(B=>{"use strict";a();u();Object.defineProperty(B,"__esModule",{value:!0});B.u256be=B.u256=B.u192be=B.u192=B.u128be=B.u128=B.u64be=B.u64=B.bigIntBE=B.bigInt=void 0;var Cs=Ue(),Vs=ir(),On=wi(),zs=sr(),_u=r=>e=>{let t=(0,Vs.blob)(r,e),{encode:n,decode:i}=(0,zs.encodeDecode)(t),s=t;return s.decode=(o,c)=>{let l=i(o,c);return(0,On.toBigIntLE)(Cs.Buffer.from(l))},s.encode=(o,c,l)=>{let p=(0,On.toBufferLE)(o,r);return n(p,c,l)},s};B.bigInt=_u;var mu=r=>e=>{let t=(0,Vs.blob)(r,e),{encode:n,decode:i}=(0,zs.encodeDecode)(t),s=t;return s.decode=(o,c)=>{let l=i(o,c);return(0,On.toBigIntBE)(Cs.Buffer.from(l))},s.encode=(o,c,l)=>{let p=(0,On.toBufferBE)(o,r);return n(p,c,l)},s};B.bigIntBE=mu;B.u64=(0,B.bigInt)(8);B.u64be=(0,B.bigIntBE)(8);B.u128=(0,B.bigInt)(16);B.u128be=(0,B.bigIntBE)(16);B.u192=(0,B.bigInt)(24);B.u192be=(0,B.bigIntBE)(24);B.u256=(0,B.bigInt)(32);B.u256be=(0,B.bigIntBE)(32)});var Ys=g(Mt=>{"use strict";a();u();Object.defineProperty(Mt,"__esModule",{value:!0});Mt.decimal=Mt.WAD=void 0;var Ws=ce(),Su=sr(),Tu=Ai();Mt.WAD=new Ws.BigNumber("1e+18");var Pu=r=>{let e=(0,Tu.u128)(r),{encode:t,decode:n}=(0,Su.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let c=n(s,o).toString();return new Ws.BigNumber(c).div(Mt.WAD)},i.encode=(s,o,c)=>{let l=BigInt(s.times(Mt.WAD).integerValue().toString());return t(l,o,c)},i};Mt.decimal=Pu});var Hs=g(vn=>{"use strict";a();u();Object.defineProperty(vn,"__esModule",{value:!0});vn.bool=void 0;var wu=ir(),Iu=sr(),Ou=r=>{let e=(0,wu.u8)(r),{encode:t,decode:n}=(0,Iu.encodeDecode)(e),i=e;return i.decode=(s,o)=>!!n(s,o),i.encode=(s,o,c)=>{let l=Number(s);return t(l,o,c)},i};vn.bool=Ou});var Fs=g(An=>{"use strict";a();u();Object.defineProperty(An,"__esModule",{value:!0});An.publicKey=void 0;var vu=ir(),Au=V(),Eu=sr(),ku=r=>{let e=(0,vu.blob)(32,r),{encode:t,decode:n}=(0,Eu.encodeDecode)(e),i=e;return i.decode=(s,o)=>{let c=n(s,o);return new Au.PublicKey(c)},i.encode=(s,o,c)=>{let l=s.toBuffer();return t(l,o,c)},i};An.publicKey=ku});var Gs=g(je=>{"use strict";a();u();var Bu=je&&je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),or=je&&je.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Bu(e,r,t)};Object.defineProperty(je,"__esModule",{value:!0});or(sr(),je);or(Ai(),je);or(Ys(),je);or(Hs(),je);or(Fs(),je);or(ir(),je)});var $=g(Dt=>{"use strict";a();u();var Ku=Dt&&Dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xs=Dt&&Dt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ku(e,r,t)};Object.defineProperty(Dt,"__esModule",{value:!0});xs(ir(),Dt);xs(Gs(),Dt)});var Ei=g(ot=>{"use strict";a();u();var Mu=ot&&ot.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Du=ot&&ot.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Lu=ot&&ot.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Mu(e,r,t);return Du(e,r),e};Object.defineProperty(ot,"__esModule",{value:!0});ot.FeeCalculatorLayout=void 0;var Uu=Lu($());ot.FeeCalculatorLayout=Uu.nu64("lamportsPerSignature")});var $s=g(Ze=>{"use strict";a();u();Object.defineProperty(Ze,"__esModule",{value:!0});Ze.SOLANA_SCHEMA=Ze.Enum=Ze.Struct=void 0;var ju=Ue(),ki=hu(),En=class{constructor(e){Object.assign(this,e)}encode(){return ju.Buffer.from((0,ki.serialize)(Ze.SOLANA_SCHEMA,this))}static decode(e){return(0,ki.deserialize)(Ze.SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return(0,ki.deserializeUnchecked)(Ze.SOLANA_SCHEMA,this,e)}};Ze.Struct=En;var Bi=class extends En{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};Ze.Enum=Bi;Ze.SOLANA_SCHEMA=new Map});var Yt=g(kn=>{"use strict";a();u();Object.defineProperty(kn,"__esModule",{value:!0});kn.toBuffer=void 0;var Ki=Ue(),Nu=r=>Ki.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ki.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ki.Buffer.from(r);kn.toBuffer=Nu});var ve=g(qe=>{"use strict";a();u();Object.defineProperty(qe,"__esModule",{value:!0});qe.PublicKey=qe.PUBLIC_KEY_LENGTH=qe.MAX_SEED_LENGTH=void 0;var Xs=ce(),Tt=Ue(),Qs=$s(),qu=Yt(),Br=ce();qe.MAX_SEED_LENGTH=32;qe.PUBLIC_KEY_LENGTH=32;function Ru(r){return r._bn!==void 0}var Js=1,Ne=class extends Qs.Struct{constructor(e){if(super({}),Ru(e))this._bn=e._bn;else{if(typeof e=="string"){let t=Br.base.fromBase58(e);if(t.length!=qe.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new Xs.BN(t)}else this._bn=new Xs.BN(e);if(this._bn.byteLength()>qe.PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){let e=new Ne(Js);return Js+=1,new Ne(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Br.base.toBase58(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Tt.Buffer);if(e.length===qe.PUBLIC_KEY_LENGTH)return e;let t=Tt.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){let i=Tt.Buffer.concat([e.toBuffer(),Tt.Buffer.from(t),n.toBuffer()]),s=Br.base.sha256(i);return new Ne(s)}static createProgramAddressSync(e,t){let n=Tt.Buffer.alloc(0);e.forEach(function(s){if(s.length>qe.MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=Tt.Buffer.concat([n,(0,qu.toBuffer)(s)])}),n=Tt.Buffer.concat([n,t.toBuffer(),Tt.Buffer.from("ProgramDerivedAddress")]);let i=Br.base.sha256(n);if(Zs(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ne(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{let s=e.concat(Tt.Buffer.from([n]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){let t=new Ne(e);return Zs(t.toBytes())==1}};qe.PublicKey=Ne;Ne.default=new Ne("11111111111111111111111111111111");Qs.SOLANA_SCHEMA.set(Ne,{kind:"struct",fields:[["_bn","u256"]]});function Zs(r){try{return Br.signUtil.ed25519.publicKeyVerify(r)?1:0}catch{return 0}}});var eo=g(Kn=>{"use strict";a();u();Object.defineProperty(Kn,"__esModule",{value:!0});Kn.Keypair=void 0;var Cu=ve(),Bn=ce(),Kr=class{constructor(e){this._keypair=e}static fromSecretKey(e,t){if(!t||!t.skipValidation){let s=new TextEncoder().encode("@solana/web3.js-validation-v1"),o=Bn.signUtil.ed25519.sign(s,e),c=Bn.signUtil.ed25519.publicKeyCreate(e);if(!Bn.signUtil.ed25519.verify(s,o,c))throw new Error("provided secretKey is invalid")}let n=Bn.signUtil.ed25519.publicKeyCreate(e);return new Kr({publicKey:n,secretKey:e})}get publicKey(){return new Cu.PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}};Kn.Keypair=Kr});var Dn=g(Mn=>{"use strict";a();u();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.MessageAccountKeys=void 0;var Mi=class{constructor(e,t){this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});let i=s=>{let o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};Mn.MessageAccountKeys=Mi});var Pt=g(K=>{"use strict";a();u();var Vu=K&&K.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zu=K&&K.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wu=K&&K.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vu(e,r,t);return zu(e,r),e};Object.defineProperty(K,"__esModule",{value:!0});K.getAlloc=K.voteInit=K.lockup=K.authorized=K.rustString=K.uint64=K.signature=K.publicKey=void 0;var to=Ue(),Z=Wu($()),Yu=(r="publicKey")=>Z.blob(32,r);K.publicKey=Yu;var Hu=(r="signature")=>Z.blob(64,r);K.signature=Hu;var Fu=(r="uint64")=>Z.blob(8,r);K.uint64=Fu;var Gu=(r="string")=>{let e=Z.struct([Z.u32("length"),Z.u32("lengthPadding"),Z.blob(Z.offset(Z.u32(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,c)=>{let l={chars:to.Buffer.from(s,"utf8")};return n(l,o,c)},i.alloc=s=>Z.u32().span+Z.u32().span+to.Buffer.from(s,"utf8").length,i};K.rustString=Gu;var xu=(r="authorized")=>Z.struct([(0,K.publicKey)("staker"),(0,K.publicKey)("withdrawer")],r);K.authorized=xu;var $u=(r="lockup")=>Z.struct([Z.ns64("unixTimestamp"),Z.ns64("epoch"),(0,K.publicKey)("custodian")],r);K.lockup=$u;var Xu=(r="voteInit")=>Z.struct([(0,K.publicKey)("nodePubkey"),(0,K.publicKey)("authorizedVoter"),(0,K.publicKey)("authorizedWithdrawer"),Z.u8("commission")],r);K.voteInit=Xu;function ro(r,e){let t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){let s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return ro({layout:i},e[i.property]);return 0},n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}K.getAlloc=ro});var Ht=g(Lt=>{"use strict";a();u();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.SIGNATURE_LENGTH_IN_BYTES=Lt.VERSION_PREFIX_MASK=Lt.PACKET_DATA_SIZE=void 0;Lt.PACKET_DATA_SIZE=1280-40-8;Lt.VERSION_PREFIX_MASK=127;Lt.SIGNATURE_LENGTH_IN_BYTES=64});var Mr=g(ar=>{"use strict";a();u();Object.defineProperty(ar,"__esModule",{value:!0});ar.encodeLength=ar.decodeLength=void 0;function Ju(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,(n&128)===0)break}return e}ar.decodeLength=Ju;function Zu(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}ar.encodeLength=Zu});var Ft=g(Di=>{"use strict";a();u();Object.defineProperty(Di,"__esModule",{value:!0});function Qu(r,e){if(!r)throw new Error(e||"Assertion failed")}Di.default=Qu});var Li=g(ur=>{"use strict";a();u();var ec=ur&&ur.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ur,"__esModule",{value:!0});ur.CompiledKeys=void 0;var Ln=ec(Ft()),Dr=ve(),Lr=class{constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){let n=new Map,i=o=>{let c=o.toBase58(),l=n.get(c);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(c,l)),l},s=i(t);s.isSigner=!0,s.isWritable=!0;for(let o of e){i(o.programId).isInvoked=!0;for(let c of o.keys){let l=i(c.pubkey);l.isSigner||(l.isSigner=c.isSigner),l.isWritable||(l.isWritable=c.isWritable)}}return new Lr(t,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];(0,Ln.default)(e.length<=256,"Max static account keys length exceeded");let t=e.filter(([,l])=>l.isSigner&&l.isWritable),n=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{(0,Ln.default)(t.length>0,"Expected at least one writable signer key");let[l]=t[0];(0,Ln.default)(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let c=[...t.map(([l])=>new Dr.PublicKey(l)),...n.map(([l])=>new Dr.PublicKey(l)),...i.map(([l])=>new Dr.PublicKey(l)),...s.map(([l])=>new Dr.PublicKey(l))];return[o,c]}extractTableLookup(e){let[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){let n=new Array,i=new Array;for(let[s,o]of this.keyMetaMap.entries())if(t(o)){let c=new Dr.PublicKey(s),l=e.findIndex(p=>p.equals(c));l>=0&&((0,Ln.default)(l<256,"Max lookup table index exceeded"),n.push(l),i.push(c),this.keyMetaMap.delete(s))}return[n,i]}};ur.CompiledKeys=Lr});var ji=g(at=>{"use strict";a();u();var tc=at&&at.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rc=at&&at.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ui=at&&at.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tc(e,r,t);return rc(e,r),e};Object.defineProperty(at,"__esModule",{value:!0});at.Message=void 0;var cr=ce(),Re=Ue(),le=Ui($()),dr=ve(),no=Ui(Pt()),io=Ht(),Ut=Ui(Mr()),nc=Yt(),ic=Li(),so=Dn(),lr=class{constructor(e){this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new dr.PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:cr.base.fromBase58(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new so.MessageAccountKeys(this.staticAccountKeys)}static compile(e){let t=ic.CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),o=new so.MessageAccountKeys(i).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:cr.base.toBase58(c.data)}));return new lr({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<s}else{let n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){let e=this.accountKeys.length,t=[];Ut.encodeLength(t,e);let n=this.instructions.map(m=>{let{accounts:M,programIdIndex:k}=m,L=Array.from(cr.base.fromBase58(m.data)),b=[];Ut.encodeLength(b,M.length);let A=[];return Ut.encodeLength(A,L.length),{programIdIndex:k,keyIndicesCount:Re.Buffer.from(b),keyIndices:M,dataLength:Re.Buffer.from(A),data:L}}),i=[];Ut.encodeLength(i,n.length);let s=Re.Buffer.alloc(io.PACKET_DATA_SIZE);Re.Buffer.from(i).copy(s);let o=i.length;n.forEach(m=>{o+=le.struct([le.u8("programIdIndex"),le.blob(m.keyIndicesCount.length,"keyIndicesCount"),le.seq(le.u8("keyIndex"),m.keyIndices.length,"keyIndices"),le.blob(m.dataLength.length,"dataLength"),le.seq(le.u8("userdatum"),m.data.length,"data")]).encode(m,s,o)}),s=s.slice(0,o);let c=le.struct([le.blob(1,"numRequiredSignatures"),le.blob(1,"numReadonlySignedAccounts"),le.blob(1,"numReadonlyUnsignedAccounts"),le.blob(t.length,"keyCount"),le.seq(no.publicKey("key"),e,"keys"),no.publicKey("recentBlockhash")]),l={numRequiredSignatures:Re.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Re.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Re.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Re.Buffer.from(t),keys:this.accountKeys.map(m=>(0,nc.toBuffer)(m.toBytes())),recentBlockhash:cr.base.fromBase58(this.recentBlockhash)},p=Re.Buffer.alloc(2048),w=c.encode(l,p);return s.copy(p,w),p.slice(0,w+s.length)}static from(e){let t=[...e],n=t.shift();if(n!==(n&io.VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let i=t.shift(),s=t.shift(),o=Ut.decodeLength(t),c=[];for(let M=0;M<o;M++){let k=t.slice(0,dr.PUBLIC_KEY_LENGTH);t=t.slice(dr.PUBLIC_KEY_LENGTH),c.push(new dr.PublicKey(Re.Buffer.from(k)))}let l=t.slice(0,dr.PUBLIC_KEY_LENGTH);t=t.slice(dr.PUBLIC_KEY_LENGTH);let p=Ut.decodeLength(t),w=[];for(let M=0;M<p;M++){let k=t.shift(),L=Ut.decodeLength(t),b=t.slice(0,L);t=t.slice(L);let A=Ut.decodeLength(t),D=t.slice(0,A),Le=cr.base.toBase58(Re.Buffer.from(D));t=t.slice(A),w.push({programIdIndex:k,accounts:b,data:Le})}let m={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:cr.base.toBase58(Re.Buffer.from(l)),accountKeys:c,instructions:w};return new lr(m)}};at.Message=lr});var Ri=g(Ce=>{"use strict";a();u();var sc=Ce&&Ce.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oc=Ce&&Ce.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qi=Ce&&Ce.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sc(e,r,t);return oc(e,r),e},ac=Ce&&Ce.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.MessageV0=void 0;var oo=ce(),U=qi($()),Ni=qi(Pt()),Ur=ve(),fe=qi(Mr()),ao=ac(Ft()),Un=Ht(),uc=Li(),uo=Dn(),fr=class{constructor(e){this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new uo.MessageAccountKeys(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let i=e-n,s=this.addressTableLookups.reduce((o,c)=>o+c.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){let i=e-t,o=n-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{let i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){let t={writable:[],readonly:[]};for(let n of this.addressTableLookups){let i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let s of n.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(let s of n.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){let t=uc.CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(let w of s){let m=t.extractTableLookup(w);if(m!==void 0){let[M,{writable:k,readonly:L}]=m;n.push(M),i.writable.push(...k),i.readonly.push(...L)}}let[o,c]=t.getMessageComponents(),p=new uo.MessageAccountKeys(c,i).compileInstructions(e.instructions);return new fr({header:o,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:p,addressTableLookups:n})}serialize(){let e=Array();fe.encodeLength(e,this.staticAccountKeys.length);let t=this.serializeInstructions(),n=Array();fe.encodeLength(n,this.compiledInstructions.length);let i=this.serializeAddressTableLookups(),s=Array();fe.encodeLength(s,this.addressTableLookups.length);let o=U.struct([U.u8("prefix"),U.struct([U.u8("numRequiredSignatures"),U.u8("numReadonlySignedAccounts"),U.u8("numReadonlyUnsignedAccounts")],"header"),U.blob(e.length,"staticAccountKeysLength"),U.seq(Ni.publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),Ni.publicKey("recentBlockhash"),U.blob(n.length,"instructionsLength"),U.blob(t.length,"serializedInstructions"),U.blob(s.length,"addressTableLookupsLength"),U.blob(i.length,"serializedAddressTableLookups")]),c=new Uint8Array(Un.PACKET_DATA_SIZE),l=1<<7,p=o.encode({prefix:l,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(w=>w.toBytes()),recentBlockhash:oo.base.fromBase58(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},c);return c.slice(0,p)}serializeInstructions(){let e=0,t=new Uint8Array(Un.PACKET_DATA_SIZE);for(let n of this.compiledInstructions){let i=Array();fe.encodeLength(i,n.accountKeyIndexes.length);let s=Array();fe.encodeLength(s,n.data.length),e+=U.struct([U.u8("programIdIndex"),U.blob(i.length,"encodedAccountKeyIndexesLength"),U.seq(U.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),U.blob(s.length,"encodedDataLength"),U.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0,t=new Uint8Array(Un.PACKET_DATA_SIZE);for(let n of this.addressTableLookups){let i=Array();fe.encodeLength(i,n.writableIndexes.length);let s=Array();fe.encodeLength(s,n.readonlyIndexes.length),e+=U.struct([Ni.publicKey("accountKey"),U.blob(i.length,"encodedWritableIndexesLength"),U.seq(U.u8(),n.writableIndexes.length,"writableIndexes"),U.blob(s.length,"encodedReadonlyIndexesLength"),U.seq(U.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e],n=t.shift(),i=n&Un.VERSION_PREFIX_MASK;(0,ao.default)(n!==i,"Expected versioned message but received legacy message");let s=i;(0,ao.default)(s===0,`Expected versioned message with version 0 but found version ${s}`);let o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},c=[],l=fe.decodeLength(t);for(let L=0;L<l;L++)c.push(new Ur.PublicKey(t.splice(0,Ur.PUBLIC_KEY_LENGTH)));let p=oo.base.toBase58(t.splice(0,Ur.PUBLIC_KEY_LENGTH)),w=fe.decodeLength(t),m=[];for(let L=0;L<w;L++){let b=t.shift(),A=fe.decodeLength(t),D=t.splice(0,A),Le=fe.decodeLength(t),Ir=new Uint8Array(t.splice(0,Le));m.push({programIdIndex:b,accountKeyIndexes:D,data:Ir})}let M=fe.decodeLength(t),k=[];for(let L=0;L<M;L++){let b=new Ur.PublicKey(t.splice(0,Ur.PUBLIC_KEY_LENGTH)),A=fe.decodeLength(t),D=t.splice(0,A),Le=fe.decodeLength(t),Ir=t.splice(0,Le);k.push({accountKey:b,writableIndexes:D,readonlyIndexes:Ir})}return new fr({header:o,staticAccountKeys:c,recentBlockhash:p,compiledInstructions:m,addressTableLookups:k})}};Ce.MessageV0=fr});var Ci=g(jr=>{"use strict";a();u();Object.defineProperty(jr,"__esModule",{value:!0});jr.VersionedMessage=void 0;var cc=Ht(),dc=ji(),lc=Ri();jr.VersionedMessage={deserializeMessageVersion(r){let e=r[0],t=e&cc.VERSION_PREFIX_MASK;return t===e?"legacy":t},deserialize:r=>{let e=jr.VersionedMessage.deserializeMessageVersion(r);if(e==="legacy")return dc.Message.from(r);if(e===0)return lc.MessageV0.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}}});var Nn=g(ut=>{"use strict";a();u();var fc=ut&&ut.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jn=ut&&ut.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fc(e,r,t)};Object.defineProperty(ut,"__esModule",{value:!0});jn(Dn(),ut);jn(ji(),ut);jn(Ci(),ut);jn(Ri(),ut)});var Vi=g(Ve=>{"use strict";a();u();var gc=Ve&&Ve.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yc=Ve&&Ve.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fo=Ve&&Ve.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gc(e,r,t);return yc(e,r),e};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.NonceAccount=Ve.NONCE_ACCOUNT_LENGTH=void 0;var qn=fo($()),co=fo(Pt()),lo=ve(),hc=Ei(),bc=Yt(),go=qn.struct([qn.u32("version"),qn.u32("state"),co.publicKey("authorizedPubkey"),co.publicKey("nonce"),qn.struct([hc.FeeCalculatorLayout],"feeCalculator")]);Ve.NONCE_ACCOUNT_LENGTH=go.span;var Nr=class{constructor(e){this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let t=go.decode((0,bc.toBuffer)(e),0);return new Nr({authorizedPubkey:new lo.PublicKey(t.authorizedPubkey),nonce:new lo.PublicKey(t.nonce).toString(),feeCalculator:t.feeCalculator})}};Ve.NonceAccount=Nr});var qr=g(ct=>{"use strict";a();u();Object.defineProperty(ct,"__esModule",{value:!0});ct.u256=ct.u192=ct.u128=ct.u64=void 0;var pc=Ue(),_c=$(),yo=wi(),mc=r=>{let e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}},Rn=r=>e=>{let t=(0,_c.blob)(r,e),{encode:n,decode:i}=mc(t),s=t;return s.decode=(o,c)=>{let l=i(o,c);return(0,yo.toBigIntLE)(pc.Buffer.from(l))},s.encode=(o,c,l)=>{let p=(0,yo.toBufferLE)(o,r);return n(p,c,l)},s};ct.u64=Rn(8);ct.u128=Rn(16);ct.u192=Rn(24);ct.u256=Rn(32)});var Rr=g(ze=>{"use strict";a();u();var Sc=ze&&ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tc=ze&&ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Pc=ze&&ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sc(e,r,t);return Tc(e,r),e};Object.defineProperty(ze,"__esModule",{value:!0});ze.decodeData=ze.encodeData=void 0;var wc=Ue(),Ic=Pc(Pt());function Oc(r,e){let t=r.layout.span>=0?r.layout.span:Ic.getAlloc(r,e),n=wc.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}ze.encodeData=Oc;function vc(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}ze.decodeData=vc});var zi=g(F=>{"use strict";a();u();Object.defineProperty(F,"__esModule",{value:!0});F.SYSVAR_STAKE_HISTORY_PUBKEY=F.SYSVAR_SLOT_HISTORY_PUBKEY=F.SYSVAR_SLOT_HASHES_PUBKEY=F.SYSVAR_REWARDS_PUBKEY=F.SYSVAR_RENT_PUBKEY=F.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=F.SYSVAR_INSTRUCTIONS_PUBKEY=F.SYSVAR_EPOCH_SCHEDULE_PUBKEY=F.SYSVAR_CLOCK_PUBKEY=void 0;var wt=ve();F.SYSVAR_CLOCK_PUBKEY=new wt.PublicKey("SysvarC1ock11111111111111111111111111111111");F.SYSVAR_EPOCH_SCHEDULE_PUBKEY=new wt.PublicKey("SysvarEpochSchedu1e111111111111111111111111");F.SYSVAR_INSTRUCTIONS_PUBKEY=new wt.PublicKey("Sysvar1nstructions1111111111111111111111111");F.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new wt.PublicKey("SysvarRecentB1ockHashes11111111111111111111");F.SYSVAR_RENT_PUBKEY=new wt.PublicKey("SysvarRent111111111111111111111111111111111");F.SYSVAR_REWARDS_PUBKEY=new wt.PublicKey("SysvarRewards111111111111111111111111111111");F.SYSVAR_SLOT_HASHES_PUBKEY=new wt.PublicKey("SysvarS1otHashes111111111111111111111111111");F.SYSVAR_SLOT_HISTORY_PUBKEY=new wt.PublicKey("SysvarS1otHistory11111111111111111111111111");F.SYSVAR_STAKE_HISTORY_PUBKEY=new wt.PublicKey("SysvarStakeHistory1111111111111111111111111")});var ho=g(jt=>{"use strict";a();u();Object.defineProperty(jt,"__esModule",{value:!0});jt.TransactionExpiredNonceInvalidError=jt.TransactionExpiredTimeoutError=jt.TransactionExpiredBlockheightExceededError=void 0;var Cn=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=e}};jt.TransactionExpiredBlockheightExceededError=Cn;Object.defineProperty(Cn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Vn=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=e}};jt.TransactionExpiredTimeoutError=Vn;Object.defineProperty(Vn.prototype,"name",{value:"TransactionExpiredTimeoutError"});var zn=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=e}};jt.TransactionExpiredNonceInvalidError=zn;Object.defineProperty(zn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"})});var Wi=g(ge=>{"use strict";a();u();var Ac=ge&&ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ec=ge&&ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kc=ge&&ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Ac(e,r,t);return Ec(e,r),e},Bc=ge&&ge.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ge,"__esModule",{value:!0});ge.Transaction=ge.TransactionInstruction=void 0;var Ot=Ue(),Cr=Ht(),bo=Nn(),Kc=ve(),po=kc(Mr()),Mc=Yt(),It=Bc(Ft()),Gt=ce(),Dc=Ot.Buffer.alloc(Cr.SIGNATURE_LENGTH_IN_BYTES).fill(0),Vr=class{constructor(e){this.data=Ot.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}};ge.TransactionInstruction=Vr;var gr=class{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.instructions=[],!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{let{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Vr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<t.length;b++)if(t[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);let i=[],s=[];t.forEach(b=>{b.keys.forEach(D=>{s.push({...D})});let A=b.programId.toString();i.includes(A)||i.push(A)}),i.forEach(b=>{s.push({pubkey:new Kc.PublicKey(b),isSigner:!1,isWritable:!1})});let o=[];s.forEach(b=>{let A=b.pubkey.toString(),D=o.findIndex(Le=>Le.pubkey.toString()===A);D>-1?(o[D].isWritable=o[D].isWritable||b.isWritable,o[D].isSigner=o[D].isSigner||b.isSigner):o.push(b)}),o.sort(function(b,A){return b.isSigner!==A.isSigner?b.isSigner?-1:1:b.isWritable!==A.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(A.pubkey.toBase58())});let c=o.findIndex(b=>b.pubkey.equals(n));if(c>-1){let[b]=o.splice(c,1);b.isSigner=!0,b.isWritable=!0,o.unshift(b)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let b of this.signatures){let A=o.findIndex(D=>D.pubkey.equals(b.publicKey));if(A>-1)o[A].isSigner||(o[A].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let l=0,p=0,w=0,m=[],M=[];o.forEach(({pubkey:b,isSigner:A,isWritable:D})=>{A?(m.push(b.toString()),l+=1,D||(p+=1)):(M.push(b.toString()),D||(w+=1))});let k=m.concat(M),L=t.map(b=>{let{data:A,programId:D}=b;return{programIdIndex:k.indexOf(D.toString()),accounts:b.keys.map(Le=>k.indexOf(Le.pubkey.toString())),data:Gt.base.toBase58(A)}});return L.forEach(b=>{(0,It.default)(b.programIdIndex>=0),b.accounts.forEach(A=>(0,It.default)(A>=0))}),new bo.Message({header:{numRequiredSignatures:l,numReadonlySignedAccounts:p,numReadonlyUnsignedAccounts:w},accountKeys:k,recentBlockhash:e,instructions:L})}_compile(){let e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");let t=new Set;this.signatures=e.filter(n=>{let i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));let i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let t=new Set,n=[];for(let s of e){let o=s.publicKey.toString();t.has(o)||(t.add(o),n.push(s))}let i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){let n=e.serialize();t.forEach(i=>{let s=Gt.signUtil.ed25519.sign(n,i.secretKey);this._addSignature(i.publicKey,(0,Mc.toBuffer)(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){(0,It.default)(t.length===64);let n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Ot.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(let{signature:n,publicKey:i}of this.signatures)if(n===null){if(t)return!1}else if(!Gt.signUtil.ed25519.verify(e,n,i.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n&&!this._verifySignatures(i,t))throw new Error("Signature verification failed");return this._serialize(i)}_serialize(e){let{signatures:t}=this,n=[];po.encodeLength(n,t.length);let i=n.length+t.length*64+e.length,s=Ot.Buffer.alloc(i);return(0,It.default)(t.length<256),Ot.Buffer.from(n).copy(s,0),t.forEach(({signature:o},c)=>{o!==null&&((0,It.default)(o.length===64,"signature has invalid length"),Ot.Buffer.from(o).copy(s,n.length+c*64))}),e.copy(s,n.length+t.length*64),(0,It.default)(s.length<=Cr.PACKET_DATA_SIZE,`Transaction too large: ${s.length} > ${Cr.PACKET_DATA_SIZE}`),s}get keys(){return(0,It.default)(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return(0,It.default)(this.instructions.length===1),this.instructions[0].programId}get data(){return(0,It.default)(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e],n=po.decodeLength(t),i=[];for(let s=0;s<n;s++){let o=t.slice(0,Cr.SIGNATURE_LENGTH_IN_BYTES);t=t.slice(Cr.SIGNATURE_LENGTH_IN_BYTES),i.push(Gt.base.toBase58(Ot.Buffer.from(o)))}return gr.populate(bo.Message.from(t),i)}static populate(e,t=[]){let n=new gr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{let o={signature:i==Gt.base.toBase58(Dc)?null:Ot.Buffer.from(Gt.base.fromBase58(i)),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{let s=i.accounts.map(o=>{let c=e.accountKeys[o];return{pubkey:c,isSigner:n.signatures.some(l=>l.publicKey.toString()===c.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Vr({keys:s,programId:e.accountKeys[i.programIdIndex],data:Ot.Buffer.from(Gt.base.fromBase58(i.data))}))}),n._message=e,n._json=n.toJSON(),n}};ge.Transaction=gr});var So=g(yr=>{"use strict";a();u();var Lc=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.TransactionMessage=void 0;var _o=Lc(Ft()),Uc=Yt(),mo=Nn(),jc=Wi(),zr=class{constructor(e){this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){let{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l}=n,p=o-c;(0,_o.default)(p>0,"Message header is invalid");let w=e.staticAccountKeys.length-o-l;(0,_o.default)(w>=0,"Message header is invalid");let m=e.getAccountKeys(t),M=m.get(0);if(M===void 0)throw new Error("Failed to decompile message because no account keys were found");let k=[];for(let L of i){let b=[];for(let D of L.accountKeyIndexes){let Le=m.get(D);if(Le===void 0)throw new Error(`Failed to find key for account key index ${D}`);let Ir=D<o,nn;Ir?nn=D<p:D<m.staticAccountKeys.length?nn=D-o<w:nn=D-m.staticAccountKeys.length<m.accountKeysFromLookups.writable.length,b.push({pubkey:Le,isSigner:D<n.numRequiredSignatures,isWritable:nn})}let A=m.get(L.programIdIndex);if(A===void 0)throw new Error(`Failed to find program id for program id index ${L.programIdIndex}`);k.push(new jc.TransactionInstruction({programId:A,data:(0,Uc.toBuffer)(L.data),keys:b}))}return new zr({payerKey:M,instructions:k,recentBlockhash:s})}compileToLegacyMessage(){return mo.Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return mo.MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}};yr.TransactionMessage=zr});var wo=g(We=>{"use strict";a();u();var Nc=We&&We.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qc=We&&We.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yi=We&&We.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Nc(e,r,t);return qc(e,r),e},Rc=We&&We.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(We,"__esModule",{value:!0});We.VersionedTransaction=void 0;var Wn=Yi($()),Yn=Rc(Ft()),Cc=Ci(),To=Ht(),Po=Yi(Mr()),Vc=Yi(Pt()),zc=ce(),Wc=Ue(),Wr=class{get signature(){return this.signatures.length>0?Wc.Buffer.from(this.signatures[0]):null}get version(){return this.message.version}constructor(e,t){if(t!==void 0)(0,Yn.default)(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{let n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(To.SIGNATURE_LENGTH_IN_BYTES));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),t=Array();Po.encodeLength(t,this.signatures.length);let n=Wn.struct([Wn.blob(t.length,"encodedSignaturesLength"),Wn.seq(Vc.signature(),this.signatures.length,"signatures"),Wn.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e],n=[],i=Po.decodeLength(t);for(let o=0;o<i;o++)n.push(new Uint8Array(t.splice(0,To.SIGNATURE_LENGTH_IN_BYTES)));let s=Cc.VersionedMessage.deserialize(new Uint8Array(t));return new Wr(s,n)}sign(e){let t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let i of e){let s=n.findIndex(o=>o.equals(i.publicKey));(0,Yn.default)(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=zc.signUtil.ed25519.sign(t,i.secretKey)}}addSignature(e,t){(0,Yn.default)(t.byteLength===64,"Signature must be 64 bytes long");let i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));(0,Yn.default)(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};We.VersionedTransaction=Wr});var Hr=g(Qe=>{"use strict";a();u();var Yc=Qe&&Qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yr=Qe&&Qe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Yc(e,r,t)};Object.defineProperty(Qe,"__esModule",{value:!0});Yr(Ht(),Qe);Yr(ho(),Qe);Yr(Wi(),Qe);Yr(So(),Qe);Yr(wo(),Qe)});var Fi=g(S=>{"use strict";a();u();var Hc=S&&S.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Fc=S&&S.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vo=S&&S.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Hc(e,r,t);return Fc(e,r),e};Object.defineProperty(S,"__esModule",{value:!0});S.SystemProgram=S.SYSTEM_INSTRUCTION_LAYOUTS=S.SystemInstruction=void 0;var I=vo($()),q=Rr(),ie=vo(Pt()),Io=Vi(),Ye=ve(),Fr=zi(),dt=Hr(),et=Yt(),Oo=qr(),Hi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(S.SYSTEM_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t,space:n,programId:i}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Ye.PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:t,seed:n,programId:i}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Ye.PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,space:i,programId:s}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye.PublicKey(t),seed:n,space:i,programId:new Ye.PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ye.PublicKey(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:t,seed:n,programId:i}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye.PublicKey(t),seed:n,programId:new Ye.PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:t,seed:n,lamports:i,space:s,programId:o}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ye.PublicKey(t),seed:n,lamports:i,space:s,programId:new Ye.PublicKey(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ye.PublicKey(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:t}=(0,q.decodeData)(S.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ye.PublicKey(t)}}static checkProgramId(e){if(!e.equals(Nt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};S.SystemInstruction=Hi;S.SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:I.struct([I.u32("instruction"),I.ns64("lamports"),I.ns64("space"),ie.publicKey("programId")])},Assign:{index:1,layout:I.struct([I.u32("instruction"),ie.publicKey("programId")])},Transfer:{index:2,layout:I.struct([I.u32("instruction"),(0,Oo.u64)("lamports")])},CreateWithSeed:{index:3,layout:I.struct([I.u32("instruction"),ie.publicKey("base"),ie.rustString("seed"),I.ns64("lamports"),I.ns64("space"),ie.publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:I.struct([I.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:I.struct([I.u32("instruction"),ie.publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:I.struct([I.u32("instruction"),ie.publicKey("authorized")])},Allocate:{index:8,layout:I.struct([I.u32("instruction"),I.ns64("space")])},AllocateWithSeed:{index:9,layout:I.struct([I.u32("instruction"),ie.publicKey("base"),ie.rustString("seed"),I.ns64("space"),ie.publicKey("programId")])},AssignWithSeed:{index:10,layout:I.struct([I.u32("instruction"),ie.publicKey("base"),ie.rustString("seed"),ie.publicKey("programId")])},TransferWithSeed:{index:11,layout:I.struct([I.u32("instruction"),(0,Oo.u64)("lamports"),ie.rustString("seed"),ie.publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:I.struct([I.u32("instruction")])}});var Nt=class{constructor(){}static createAccount(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.Create,n=(0,q.encodeData)(t,{lamports:e.lamports,space:e.space,programId:(0,et.toBuffer)(e.programId.toBuffer())});return new dt.TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){let i=S.SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=(0,q.encodeData)(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:(0,et.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let i=S.SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=(0,q.encodeData)(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new dt.TransactionInstruction({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){let i=S.SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=(0,q.encodeData)(i,{base:(0,et.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,programId:(0,et.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=S.SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=(0,q.encodeData)(i,{programId:(0,et.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt.TransactionInstruction({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=(0,q.encodeData)(t,{base:(0,et.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:(0,et.toBuffer)(e.programId.toBuffer())}),i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new dt.TransactionInstruction({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){let t=new dt.Transaction;"basePubkey"in e&&"seed"in e?t.add(Nt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Io.NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(Nt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Io.NONCE_ACCOUNT_LENGTH,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=(0,q.encodeData)(t,{authorized:(0,et.toBuffer)(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Fr.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Fr.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new dt.TransactionInstruction(i)}static nonceAdvance(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=(0,q.encodeData)(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Fr.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new dt.TransactionInstruction(i)}static nonceWithdraw(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=(0,q.encodeData)(t,{lamports:e.lamports});return new dt.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Fr.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Fr.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let t=S.SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=(0,q.encodeData)(t,{authorized:(0,et.toBuffer)(e.newAuthorizedPubkey.toBuffer())});return new dt.TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){let i=S.SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=(0,q.encodeData)(i,{base:(0,et.toBuffer)(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:(0,et.toBuffer)(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let i=S.SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=(0,q.encodeData)(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new dt.TransactionInstruction({keys:n,programId:this.programId,data:t})}};S.SystemProgram=Nt;Nt.programId=new Ye.PublicKey("11111111111111111111111111111111")});var Ao=g(Hn=>{"use strict";a();u();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.decodeData=void 0;function Gc(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}Hn.decodeData=Gc});var Do=g(He=>{"use strict";a();u();var xc=He&&He.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$c=He&&He.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ko=He&&He.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xc(e,r,t);return $c(e,r),e},Xc=He&&He.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(He,"__esModule",{value:!0});He.AddressLookupTableAccount=void 0;var lt=Ko($()),Eo=Xc(Ft()),Mo=Ko(Pt()),ko=ve(),Jc=qr(),Zc=Ao(),Bo=56,Gi=class{constructor(e){this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let t=(0,Zc.decodeData)(Qc,e),n=e.length-Bo;(0,Eo.default)(n>=0,"lookup table is invalid"),(0,Eo.default)(n%32===0,"lookup table is invalid");let i=n/32,{addresses:s}=lt.struct([lt.seq(Mo.publicKey(),i,"addresses")]).decode(e.slice(Bo));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ko.PublicKey(t.authority[0]):void 0,addresses:s.map(o=>new ko.PublicKey(o))}}};He.AddressLookupTableAccount=Gi;var Qc={index:1,layout:lt.struct([lt.u32("typeIndex"),(0,Jc.u64)("deactivationSlot"),lt.nu64("lastExtendedSlot"),lt.u8("lastExtendedStartIndex"),lt.u8(),lt.seq(Mo.publicKey(),lt.offset(lt.u8(),-1),"authority")])}});var No=g(j=>{"use strict";a();u();var jo=j&&j.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ed=j&&j.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$i=j&&j.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&jo(e,r,t);return ed(e,r),e},td=j&&j.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&jo(e,r,t)};Object.defineProperty(j,"__esModule",{value:!0});j.AddressLookupTableProgram=j.AddressLookupTableInstruction=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=void 0;var rd=wi(),se=$i($()),nd=$i(Pt()),Xi=ve(),Lo=$i(qr()),Uo=Fi(),Gr=Hr(),xt=Rr();td(Do(),j);j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:se.struct([se.u32("instruction"),Lo.u64("recentSlot"),se.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:se.struct([se.u32("instruction")])},ExtendLookupTable:{index:2,layout:se.struct([se.u32("instruction"),Lo.u64(),se.seq(nd.publicKey(),se.offset(se.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:se.struct([se.u32("instruction")])},CloseLookupTable:{index:4,layout:se.struct([se.u32("instruction")])}});var xi=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=se.u32("instruction").decode(e.data),i;for(let[s,o]of Object.entries(j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:t}=(0,xt.decodeData)(j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:t}=(0,xt.decodeData)(j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new Xi.PublicKey(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(xr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};j.AddressLookupTableInstruction=xi;var xr=class{constructor(){}static createLookupTable(e){let[t,n]=Xi.PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,rd.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s=(0,xt.encodeData)(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Uo.SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new Gr.TransactionInstruction({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){let t=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=(0,xt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Gr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){let t=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=(0,xt.encodeData)(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Uo.SystemProgram.programId,isSigner:!1,isWritable:!1}),new Gr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){let t=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=(0,xt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Gr.TransactionInstruction({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){let t=j.LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=(0,xt.encodeData)(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Gr.TransactionInstruction({programId:this.programId,keys:i,data:n})}};j.AddressLookupTableProgram=xr;xr.programId=new Xi.PublicKey("AddressLookupTab1e1111111111111111111111111")});var Gn=g(z=>{"use strict";a();u();var id=z&&z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),sd=z&&z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),od=z&&z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&id(e,r,t);return sd(e,r),e};Object.defineProperty(z,"__esModule",{value:!0});z.ComputeBudgetProgram=z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=z.ComputeBudgetInstruction=void 0;var Ae=od($()),qt=Rr(),ad=ve(),Fn=Hr(),ud=qr(),Ji=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=Ae.u8("instruction").decode(e.data),i;for(let[s,o]of Object.entries(z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:t,additionalFee:n}=(0,qt.decodeData)(z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:t}=(0,qt.decodeData)(z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:t}=(0,qt.decodeData)(z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:t}=(0,qt.decodeData)(z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals($r.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};z.ComputeBudgetInstruction=Ji;z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:Ae.struct([Ae.u8("instruction"),Ae.u32("units"),Ae.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Ae.struct([Ae.u8("instruction"),Ae.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Ae.struct([Ae.u8("instruction"),Ae.u32("units")])},SetComputeUnitPrice:{index:3,layout:Ae.struct([Ae.u8("instruction"),(0,ud.u64)("microLamports")])}});var $r=class{constructor(){}static requestUnits(e){let t=z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=(0,qt.encodeData)(t,e);return new Fn.TransactionInstruction({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let t=z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=(0,qt.encodeData)(t,e);return new Fn.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let t=z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=(0,qt.encodeData)(t,e);return new Fn.TransactionInstruction({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let t=z.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=(0,qt.encodeData)(t,{microLamports:BigInt(e.microLamports)});return new Fn.TransactionInstruction({keys:[],programId:this.programId,data:n})}};z.ComputeBudgetProgram=$r;$r.programId=new ad.PublicKey("ComputeBudget111111111111111111111111111111")});var qo=g(vt=>{"use strict";a();u();var cd=vt&&vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zi=vt&&vt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cd(e,r,t)};Object.defineProperty(vt,"__esModule",{value:!0});Zi(No(),vt);Zi(Fi(),vt);Zi(Gn(),vt)});var V=g(Q=>{"use strict";a();u();var dd=Q&&Q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),At=Q&&Q.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dd(e,r,t)};Object.defineProperty(Q,"__esModule",{value:!0});Q.LAMPORTS_PER_SOL=void 0;At(Rs(),Q);At(Ei(),Q);At(eo(),Q);At(Nn(),Q);At(Vi(),Q);At(qo(),Q);At(ve(),Q);At(Hr(),Q);At(zi(),Q);Q.LAMPORTS_PER_SOL=1e9});var ft=g(oe=>{"use strict";a();u();Object.defineProperty(oe,"__esModule",{value:!0});oe.programSupportsExtensions=oe.NATIVE_MINT_2022=oe.NATIVE_MINT=oe.ASSOCIATED_TOKEN_PROGRAM_ID=oe.TOKEN_2022_PROGRAM_ID=oe.TOKEN_PROGRAM_ID=void 0;var Xr=V();oe.TOKEN_PROGRAM_ID=new Xr.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");oe.TOKEN_2022_PROGRAM_ID=new Xr.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");oe.ASSOCIATED_TOKEN_PROGRAM_ID=new Xr.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");oe.NATIVE_MINT=new Xr.PublicKey("So11111111111111111111111111111111111111112");oe.NATIVE_MINT_2022=new Xr.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function ld(r){return r!==oe.TOKEN_PROGRAM_ID}oe.programSupportsExtensions=ld});var Et=g(R=>{"use strict";a();u();Object.defineProperty(R,"__esModule",{value:!0});R.TokenInvalidInstructionTypeError=R.TokenInvalidInstructionDataError=R.TokenInvalidInstructionKeysError=R.TokenInvalidInstructionProgramError=R.TokenOwnerOffCurveError=R.TokenInvalidOwnerError=R.TokenInvalidMintError=R.TokenInvalidAccountSizeError=R.TokenInvalidAccountOwnerError=R.TokenAccountNotFoundError=R.TokenError=void 0;var Ee=class extends Error{constructor(e){super(e)}};R.TokenError=Ee;var Qi=class extends Ee{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};R.TokenAccountNotFoundError=Qi;var es=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};R.TokenInvalidAccountOwnerError=es;var ts=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};R.TokenInvalidAccountSizeError=ts;var rs=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};R.TokenInvalidMintError=rs;var ns=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};R.TokenInvalidOwnerError=ns;var is=class extends Ee{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};R.TokenOwnerOffCurveError=is;var ss=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};R.TokenInvalidInstructionProgramError=ss;var os=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};R.TokenInvalidInstructionKeysError=os;var as=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};R.TokenInvalidInstructionDataError=as;var us=class extends Ee{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};R.TokenInvalidInstructionTypeError=us});var Rt=g(Jr=>{"use strict";a();u();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.TokenInstruction=void 0;var fd;(function(r){r[r.InitializeMint=0]="InitializeMint",r[r.InitializeAccount=1]="InitializeAccount",r[r.InitializeMultisig=2]="InitializeMultisig",r[r.Transfer=3]="Transfer",r[r.Approve=4]="Approve",r[r.Revoke=5]="Revoke",r[r.SetAuthority=6]="SetAuthority",r[r.MintTo=7]="MintTo",r[r.Burn=8]="Burn",r[r.CloseAccount=9]="CloseAccount",r[r.FreezeAccount=10]="FreezeAccount",r[r.ThawAccount=11]="ThawAccount",r[r.TransferChecked=12]="TransferChecked",r[r.ApproveChecked=13]="ApproveChecked",r[r.MintToChecked=14]="MintToChecked",r[r.BurnChecked=15]="BurnChecked",r[r.InitializeAccount2=16]="InitializeAccount2",r[r.SyncNative=17]="SyncNative",r[r.InitializeAccount3=18]="InitializeAccount3",r[r.InitializeMultisig2=19]="InitializeMultisig2",r[r.InitializeMint2=20]="InitializeMint2"})(fd=Jr.TokenInstruction||(Jr.TokenInstruction={}))});var $t=g(xn=>{"use strict";a();u();Object.defineProperty(xn,"__esModule",{value:!0});xn.addSigners=void 0;var gd=V();function yd(r,e,t){if(t.length){r.push({pubkey:e,isSigner:!1,isWritable:!1});for(let n of t)r.push({pubkey:n instanceof gd.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1})}else r.push({pubkey:e,isSigner:!0,isWritable:!1});return r}xn.addSigners=yd});var zo=g(ye=>{"use strict";a();u();Object.defineProperty(ye,"__esModule",{value:!0});ye.decodeTransferInstructionUnchecked=ye.decodeTransferInstruction=ye.createTransferInstruction=ye.transferInstructionData=void 0;var cs=$(),hd=V(),Ro=ft(),$n=Et(),bd=$t(),Co=Rt();ye.transferInstructionData=(0,cs.struct)([(0,cs.u8)("instruction"),(0,cs.u64)("amount")]);function pd(r,e,t,n,i=[],s=Ro.TOKEN_PROGRAM_ID){let o=(0,bd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),c=f.Buffer.alloc(ye.transferInstructionData.span);return ye.transferInstructionData.encode({instruction:Co.TokenInstruction.Transfer,amount:BigInt(n)},c),new hd.TransactionInstruction({keys:o,programId:s,data:c})}ye.createTransferInstruction=pd;function _d(r,e=Ro.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new $n.TokenInvalidInstructionProgramError;if(r.data.length!==ye.transferInstructionData.span)throw new $n.TokenInvalidInstructionDataError;let{keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}=Vo(r);if(o.instruction!==Co.TokenInstruction.Transfer)throw new $n.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new $n.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:n,owner:i,multiSigners:s},data:o}}ye.decodeTransferInstruction=_d;function Vo({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{source:e,destination:t,owner:n,multiSigners:i},data:ye.transferInstructionData.decode(s)}}ye.decodeTransferInstructionUnchecked=Vo});var Fo=g(he=>{"use strict";a();u();Object.defineProperty(he,"__esModule",{value:!0});he.decodeTransferCheckedInstructionUnchecked=he.decodeTransferCheckedInstruction=he.createTransferCheckedInstruction=he.transferCheckedInstructionData=void 0;var Xn=$(),md=V(),Wo=ft(),Jn=Et(),Sd=$t(),Yo=Rt();he.transferCheckedInstructionData=(0,Xn.struct)([(0,Xn.u8)("instruction"),(0,Xn.u64)("amount"),(0,Xn.u8)("decimals")]);function Td(r,e,t,n,i,s,o=[],c=Wo.TOKEN_PROGRAM_ID){let l=(0,Sd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0}],n,o),p=f.Buffer.alloc(he.transferCheckedInstructionData.span);return he.transferCheckedInstructionData.encode({instruction:Yo.TokenInstruction.TransferChecked,amount:BigInt(i),decimals:s},p),new md.TransactionInstruction({keys:l,programId:c,data:p})}he.createTransferCheckedInstruction=Td;function Pd(r,e=Wo.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Jn.TokenInvalidInstructionProgramError;if(r.data.length!==he.transferCheckedInstructionData.span)throw new Jn.TokenInvalidInstructionDataError;let{keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:c}=Ho(r);if(c.instruction!==Yo.TokenInstruction.TransferChecked)throw new Jn.TokenInvalidInstructionTypeError;if(!t||!n||!i||!s)throw new Jn.TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,mint:n,destination:i,owner:s,multiSigners:o},data:c}}he.decodeTransferCheckedInstruction=Pd;function Ho({programId:r,keys:[e,t,n,i,...s],data:o}){return{programId:r,keys:{source:e,mint:t,destination:n,owner:i,multiSigners:s},data:he.transferCheckedInstructionData.decode(o)}}he.decodeTransferCheckedInstructionUnchecked=Ho});var xo=g(Zn=>{"use strict";a();u();Object.defineProperty(Zn,"__esModule",{value:!0});Zn.createAssociatedTokenAccountInstruction=void 0;var ds=V(),Go=ft();function wd(r,e,t,n,i=Go.TOKEN_PROGRAM_ID,s=Go.ASSOCIATED_TOKEN_PROGRAM_ID){let o=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ds.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ds.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new ds.TransactionInstruction({keys:o,programId:s,data:f.Buffer.alloc(0)})}Zn.createAssociatedTokenAccountInstruction=wd});var Zo=g(be=>{"use strict";a();u();Object.defineProperty(be,"__esModule",{value:!0});be.decodeBurnInstructionUnchecked=be.decodeBurnInstruction=be.createBurnInstruction=be.burnInstructionData=void 0;var ls=$(),Id=V(),$o=ft(),Qn=Et(),Od=$t(),Xo=Rt();be.burnInstructionData=(0,ls.struct)([(0,ls.u8)("instruction"),(0,ls.u64)("amount")]);function vd(r,e,t,n,i=[],s=$o.TOKEN_PROGRAM_ID){let o=(0,Od.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),c=f.Buffer.alloc(be.burnInstructionData.span);return be.burnInstructionData.encode({instruction:Xo.TokenInstruction.Burn,amount:BigInt(n)},c),new Id.TransactionInstruction({keys:o,programId:s,data:c})}be.createBurnInstruction=vd;function Ad(r,e=$o.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new Qn.TokenInvalidInstructionProgramError;if(r.data.length!==be.burnInstructionData.span)throw new Qn.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}=Jo(r);if(o.instruction!==Xo.TokenInstruction.Burn)throw new Qn.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new Qn.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}}be.decodeBurnInstruction=Ad;function Jo({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:be.burnInstructionData.decode(s)}}be.decodeBurnInstructionUnchecked=Jo});var ra=g(pe=>{"use strict";a();u();Object.defineProperty(pe,"__esModule",{value:!0});pe.decodeBurnCheckedInstructionUnchecked=pe.decodeBurnCheckedInstruction=pe.createBurnCheckedInstruction=pe.burnCheckedInstructionData=void 0;var ei=$(),Ed=V(),Qo=ft(),ti=Et(),kd=$t(),ea=Rt();pe.burnCheckedInstructionData=(0,ei.struct)([(0,ei.u8)("instruction"),(0,ei.u64)("amount"),(0,ei.u8)("decimals")]);function Bd(r,e,t,n,i,s=[],o=Qo.TOKEN_PROGRAM_ID){let c=(0,kd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,s),l=f.Buffer.alloc(pe.burnCheckedInstructionData.span);return pe.burnCheckedInstructionData.encode({instruction:ea.TokenInstruction.BurnChecked,amount:BigInt(n),decimals:i},l),new Ed.TransactionInstruction({keys:c,programId:o,data:l})}pe.createBurnCheckedInstruction=Bd;function Kd(r,e=Qo.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new ti.TokenInvalidInstructionProgramError;if(r.data.length!==pe.burnCheckedInstructionData.span)throw new ti.TokenInvalidInstructionDataError;let{keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}=ta(r);if(o.instruction!==ea.TokenInstruction.BurnChecked)throw new ti.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new ti.TokenInvalidInstructionKeysError;return{programId:e,keys:{account:t,mint:n,owner:i,multiSigners:s},data:o}}pe.decodeBurnCheckedInstruction=Kd;function ta({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{account:e,mint:t,owner:n,multiSigners:i},data:pe.burnCheckedInstructionData.decode(s)}}pe.decodeBurnCheckedInstructionUnchecked=ta});var oa=g(_e=>{"use strict";a();u();Object.defineProperty(_e,"__esModule",{value:!0});_e.decodeMintToInstructionUnchecked=_e.decodeMintToInstruction=_e.createMintToInstruction=_e.mintToInstructionData=void 0;var fs=$(),Md=V(),na=ft(),ri=Et(),Dd=$t(),ia=Rt();_e.mintToInstructionData=(0,fs.struct)([(0,fs.u8)("instruction"),(0,fs.u64)("amount")]);function Ld(r,e,t,n,i=[],s=na.TOKEN_PROGRAM_ID){let o=(0,Dd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,i),c=f.Buffer.alloc(_e.mintToInstructionData.span);return _e.mintToInstructionData.encode({instruction:ia.TokenInstruction.MintTo,amount:BigInt(n)},c),new Md.TransactionInstruction({keys:o,programId:s,data:c})}_e.createMintToInstruction=Ld;function Ud(r,e=na.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new ri.TokenInvalidInstructionProgramError;if(r.data.length!==_e.mintToInstructionData.span)throw new ri.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}=sa(r);if(o.instruction!==ia.TokenInstruction.MintTo)throw new ri.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new ri.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}}_e.decodeMintToInstruction=Ud;function sa({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:_e.mintToInstructionData.decode(s)}}_e.decodeMintToInstructionUnchecked=sa});var da=g(me=>{"use strict";a();u();Object.defineProperty(me,"__esModule",{value:!0});me.decodeMintToCheckedInstructionUnchecked=me.decodeMintToCheckedInstruction=me.createMintToCheckedInstruction=me.mintToCheckedInstructionData=void 0;var ni=$(),jd=V(),aa=ft(),ii=Et(),Nd=$t(),ua=Rt();me.mintToCheckedInstructionData=(0,ni.struct)([(0,ni.u8)("instruction"),(0,ni.u64)("amount"),(0,ni.u8)("decimals")]);function qd(r,e,t,n,i,s=[],o=aa.TOKEN_PROGRAM_ID){let c=(0,Nd.addSigners)([{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,s),l=f.Buffer.alloc(me.mintToCheckedInstructionData.span);return me.mintToCheckedInstructionData.encode({instruction:ua.TokenInstruction.MintToChecked,amount:BigInt(n),decimals:i},l),new jd.TransactionInstruction({keys:c,programId:o,data:l})}me.createMintToCheckedInstruction=qd;function Rd(r,e=aa.TOKEN_PROGRAM_ID){if(!r.programId.equals(e))throw new ii.TokenInvalidInstructionProgramError;if(r.data.length!==me.mintToCheckedInstructionData.span)throw new ii.TokenInvalidInstructionDataError;let{keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}=ca(r);if(o.instruction!==ua.TokenInstruction.MintToChecked)throw new ii.TokenInvalidInstructionTypeError;if(!t||!n||!i)throw new ii.TokenInvalidInstructionKeysError;return{programId:e,keys:{mint:t,destination:n,authority:i,multiSigners:s},data:o}}me.decodeMintToCheckedInstruction=Rd;function ca({programId:r,keys:[e,t,n,...i],data:s}){return{programId:r,keys:{mint:e,destination:t,authority:n,multiSigners:i},data:me.mintToCheckedInstructionData.decode(s)}}me.decodeMintToCheckedInstructionUnchecked=ca});var la=g(Se=>{"use strict";a();u();var Cd=Se&&Se.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ct=Se&&Se.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Cd(e,r,t)};Object.defineProperty(Se,"__esModule",{value:!0});Ct(Rt(),Se);Ct(zo(),Se);Ct(Fo(),Se);Ct(xo(),Se);Ct(Zo(),Se);Ct(ra(),Se);Ct(oa(),Se);Ct(da(),Se)});var si=g(tt=>{"use strict";a();u();var Vd=tt&&tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gs=tt&&tt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vd(e,r,t)};Object.defineProperty(tt,"__esModule",{value:!0});tt.getAssociatedTokenAddress=void 0;var fa=V(),ga=ft(),zd=Et();gs(la(),tt);gs(ft(),tt);gs(Et(),tt);async function Wd(r,e,t=!1,n=ga.TOKEN_PROGRAM_ID,i=ga.ASSOCIATED_TOKEN_PROGRAM_ID){if(!t&&!fa.PublicKey.isOnCurve(e.toBuffer()))throw new zd.TokenOwnerOffCurveError;let[s]=await fa.PublicKey.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return s}tt.getAssociatedTokenAddress=Wd});var ai=g(oi=>{"use strict";a();u();Object.defineProperty(oi,"__esModule",{value:!0});oi.publicKey=void 0;var Yd=V(),Hd=Ie(),ys=(0,Hd.fixedSizeUint8Array)(32);oi.publicKey={write:function(r,e,t){let n=t.toBytes();ys.write(r,e,n)},read:function(r,e){let t=ys.read(r,e);return new Yd.PublicKey(t)},byteSize:ys.byteSize,description:"PublicKey"}});var bs=g(gt=>{"use strict";a();u();var Fd=gt&&gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gd=gt&&gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xd=gt&&gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fd(e,r,t);return Gd(e,r),e};Object.defineProperty(gt,"__esModule",{value:!0});gt.seedsVecBeet=void 0;var hs=xd(Ie());gt.seedsVecBeet=new hs.FixableBeetArgsStruct([["seeds",hs.array(hs.bytes)]],"SeedsVec")});var ps=g(yt=>{"use strict";a();u();var $d=yt&&yt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Xd=yt&&yt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jd=yt&&yt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$d(e,r,t);return Xd(e,r),e};Object.defineProperty(yt,"__esModule",{value:!0});yt.leafInfoBeet=void 0;var hr=Jd(Ie());yt.leafInfoBeet=new hr.FixableBeetArgsStruct([["leaf",hr.uniformFixedSizeArray(hr.u8,32)],["proof",hr.array(hr.uniformFixedSizeArray(hr.u8,32))]],"LeafInfo")});var _s=g(X=>{"use strict";a();u();var Zd=X&&X.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qd=X&&X.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ya=X&&X.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Zd(e,r,t);return Qd(e,r),e};Object.defineProperty(X,"__esModule",{value:!0});X.payloadTypeBeet=X.isPayloadTypeNumber=X.isPayloadTypeMerkleProof=X.isPayloadTypeSeeds=X.isPayloadTypePubkey=void 0;var ht=ya(Ie()),el=ya(ai()),tl=bs(),rl=ps(),nl=r=>r.__kind==="Pubkey";X.isPayloadTypePubkey=nl;var il=r=>r.__kind==="Seeds";X.isPayloadTypeSeeds=il;var sl=r=>r.__kind==="MerkleProof";X.isPayloadTypeMerkleProof=sl;var ol=r=>r.__kind==="Number";X.isPayloadTypeNumber=ol;X.payloadTypeBeet=ht.dataEnum([["Pubkey",new ht.BeetArgsStruct([["fields",ht.fixedSizeTuple([el.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new ht.FixableBeetArgsStruct([["fields",ht.tuple([tl.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new ht.FixableBeetArgsStruct([["fields",ht.tuple([rl.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new ht.BeetArgsStruct([["fields",ht.fixedSizeTuple([ht.u64])]],'PayloadTypeRecord["Number"]')]])});var Ss=g(bt=>{"use strict";a();u();var al=bt&&bt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ul=bt&&bt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cl=bt&&bt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&al(e,r,t);return ul(e,r),e};Object.defineProperty(bt,"__esModule",{value:!0});bt.payloadBeet=void 0;var ms=cl(Ie()),dl=_s();bt.payloadBeet=new ms.FixableBeetArgsStruct([["map",ms.map(ms.utf8String,dl.payloadTypeBeet)]],"Payload")});var ui=g(pt=>{"use strict";a();u();var ll=pt&&pt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fl=pt&&pt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gl=pt&&pt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ll(e,r,t);return fl(e,r),e};Object.defineProperty(pt,"__esModule",{value:!0});pt.authorizationDataBeet=void 0;var yl=gl(Ie()),hl=Ss();pt.authorizationDataBeet=new yl.FixableBeetArgsStruct([["payload",hl.payloadBeet]],"AuthorizationData")});var Ts=g(Fe=>{"use strict";a();u();var bl=Fe&&Fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pl=Fe&&Fe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_l=Fe&&Fe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&bl(e,r,t);return pl(e,r),e};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.transferArgsBeet=Fe.isTransferArgsV1=void 0;var ci=_l(Ie()),ml=ui(),Sl=r=>r.__kind==="V1";Fe.isTransferArgsV1=Sl;Fe.transferArgsBeet=ci.dataEnum([["V1",new ci.FixableBeetArgsStruct([["amount",ci.u64],["authorizationData",ci.coption(ml.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])});var pa=g(ne=>{"use strict";a();u();var Tl=ne&&ne.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pl=ne&&ne.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ba=ne&&ne.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Tl(e,r,t);return Pl(e,r),e};Object.defineProperty(ne,"__esModule",{value:!0});ne.createTransferInstruction=ne.transferInstructionDiscriminator=ne.TransferStruct=void 0;var ha=ba(Ie()),Ps=ba(V()),wl=Ts();ne.TransferStruct=new ha.FixableBeetArgsStruct([["instructionDiscriminator",ha.u8],["transferArgs",wl.transferArgsBeet]],"TransferInstructionArgs");ne.transferInstructionDiscriminator=49;function Il(r,e,t=new Ps.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){let[n]=ne.TransferStruct.serialize({instructionDiscriminator:ne.transferInstructionDiscriminator,...e}),i=[{pubkey:r.token,isWritable:!0,isSigner:!1},{pubkey:r.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:r.destination,isWritable:!0,isSigner:!1},{pubkey:r.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:r.mint,isWritable:!1,isSigner:!1},{pubkey:r.metadata,isWritable:!0,isSigner:!1},{pubkey:r.edition??t,isWritable:!1,isSigner:!1},{pubkey:r.ownerTokenRecord??t,isWritable:r.ownerTokenRecord!=null,isSigner:!1},{pubkey:r.destinationTokenRecord??t,isWritable:r.destinationTokenRecord!=null,isSigner:!1},{pubkey:r.authority,isWritable:!1,isSigner:!0},{pubkey:r.payer,isWritable:!0,isSigner:!0},{pubkey:r.systemProgram??Ps.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:r.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:r.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:r.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRulesProgram??t,isWritable:!1,isSigner:!1},{pubkey:r.authorizationRules??t,isWritable:!1,isSigner:!1}];return new Ps.TransactionInstruction({programId:t,keys:i,data:n})}ne.createTransferInstruction=Il});var _a=g(Xt=>{"use strict";a();u();var Ol=Xt&&Xt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vl=Xt&&Xt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ol(e,r,t)};Object.defineProperty(Xt,"__esModule",{value:!0});vl(pa(),Xt)});var Sa=g(ke=>{"use strict";a();u();var Al=ke&&ke.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),El=ke&&ke.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kl=ke&&ke.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Al(e,r,t);return El(e,r),e};Object.defineProperty(ke,"__esModule",{value:!0});ke.authorityTypeBeet=ke.AuthorityType=void 0;var Bl=kl(Ie()),ma;(function(r){r[r.None=0]="None",r[r.Metadata=1]="Metadata",r[r.Holder=2]="Holder",r[r.MetadataDelegate=3]="MetadataDelegate",r[r.TokenDelegate=4]="TokenDelegate"})(ma=ke.AuthorityType||(ke.AuthorityType={}));ke.authorityTypeBeet=Bl.fixedScalarEnum(ma)});var Pa=g(P=>{"use strict";a();u();var Kl=P&&P.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ml=P&&P.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ta=P&&P.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Kl(e,r,t);return Ml(e,r),e};Object.defineProperty(P,"__esModule",{value:!0});P.delegateArgsBeet=P.isDelegateArgsProgrammableConfigItemV1=P.isDelegateArgsCollectionItemV1=P.isDelegateArgsDataItemV1=P.isDelegateArgsAuthorityItemV1=P.isDelegateArgsProgrammableConfigV1=P.isDelegateArgsLockedTransferV1=P.isDelegateArgsStandardV1=P.isDelegateArgsStakingV1=P.isDelegateArgsUtilityV1=P.isDelegateArgsDataV1=P.isDelegateArgsTransferV1=P.isDelegateArgsSaleV1=P.isDelegateArgsCollectionV1=void 0;var v=Ta(Ie()),Dl=Ta(ai()),Ge=ui(),Ll=r=>r.__kind==="CollectionV1";P.isDelegateArgsCollectionV1=Ll;var Ul=r=>r.__kind==="SaleV1";P.isDelegateArgsSaleV1=Ul;var jl=r=>r.__kind==="TransferV1";P.isDelegateArgsTransferV1=jl;var Nl=r=>r.__kind==="DataV1";P.isDelegateArgsDataV1=Nl;var ql=r=>r.__kind==="UtilityV1";P.isDelegateArgsUtilityV1=ql;var Rl=r=>r.__kind==="StakingV1";P.isDelegateArgsStakingV1=Rl;var Cl=r=>r.__kind==="StandardV1";P.isDelegateArgsStandardV1=Cl;var Vl=r=>r.__kind==="LockedTransferV1";P.isDelegateArgsLockedTransferV1=Vl;var zl=r=>r.__kind==="ProgrammableConfigV1";P.isDelegateArgsProgrammableConfigV1=zl;var Wl=r=>r.__kind==="AuthorityItemV1";P.isDelegateArgsAuthorityItemV1=Wl;var Yl=r=>r.__kind==="DataItemV1";P.isDelegateArgsDataItemV1=Yl;var Hl=r=>r.__kind==="CollectionItemV1";P.isDelegateArgsCollectionItemV1=Hl;var Fl=r=>r.__kind==="ProgrammableConfigItemV1";P.isDelegateArgsProgrammableConfigItemV1=Fl;P.delegateArgsBeet=v.dataEnum([["CollectionV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new v.FixableBeetArgsStruct([["amount",v.u64],["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new v.FixableBeetArgsStruct([["amount",v.u64],["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new v.FixableBeetArgsStruct([["amount",v.u64],["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new v.FixableBeetArgsStruct([["amount",v.u64],["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new v.BeetArgsStruct([["amount",v.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new v.FixableBeetArgsStruct([["amount",v.u64],["lockedAddress",Dl.publicKey],["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new v.FixableBeetArgsStruct([["authorizationData",v.coption(Ge.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])});var Ia=g(Be=>{"use strict";a();u();var Gl=Be&&Be.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xl=Be&&Be.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$l=Be&&Be.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gl(e,r,t);return xl(e,r),e};Object.defineProperty(Be,"__esModule",{value:!0});Be.metadataDelegateRoleBeet=Be.MetadataDelegateRole=void 0;var Xl=$l(Ie()),wa;(function(r){r[r.AuthorityItem=0]="AuthorityItem",r[r.Collection=1]="Collection",r[r.Use=2]="Use",r[r.Data=3]="Data",r[r.ProgrammableConfig=4]="ProgrammableConfig",r[r.DataItem=5]="DataItem",r[r.CollectionItem=6]="CollectionItem",r[r.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(wa=Be.MetadataDelegateRole||(Be.MetadataDelegateRole={}));Be.metadataDelegateRoleBeet=Xl.fixedScalarEnum(wa)});var va=g(Ke=>{"use strict";a();u();var Jl=Ke&&Ke.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zl=Ke&&Ke.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ql=Ke&&Ke.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Jl(e,r,t);return Zl(e,r),e};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.tokenDelegateRoleBeet=Ke.TokenDelegateRole=void 0;var ef=Ql(Ie()),Oa;(function(r){r[r.Sale=0]="Sale",r[r.Transfer=1]="Transfer",r[r.Utility=2]="Utility",r[r.Staking=3]="Staking",r[r.Standard=4]="Standard",r[r.LockedTransfer=5]="LockedTransfer",r[r.Migration=6]="Migration"})(Oa=Ke.TokenDelegateRole||(Ke.TokenDelegateRole={}));Ke.tokenDelegateRoleBeet=ef.fixedScalarEnum(Oa)});var Ea=g(Me=>{"use strict";a();u();var tf=Me&&Me.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rf=Me&&Me.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),nf=Me&&Me.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&tf(e,r,t);return rf(e,r),e};Object.defineProperty(Me,"__esModule",{value:!0});Me.tokenStandardBeet=Me.TokenStandard=void 0;var sf=nf(Ie()),Aa;(function(r){r[r.NonFungible=0]="NonFungible",r[r.FungibleAsset=1]="FungibleAsset",r[r.Fungible=2]="Fungible",r[r.NonFungibleEdition=3]="NonFungibleEdition",r[r.ProgrammableNonFungible=4]="ProgrammableNonFungible"})(Aa=Me.TokenStandard||(Me.TokenStandard={}));Me.tokenStandardBeet=sf.fixedScalarEnum(Aa)});var ka=g(ee=>{"use strict";a();u();var of=ee&&ee.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rt=ee&&ee.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&of(e,r,t)};Object.defineProperty(ee,"__esModule",{value:!0});rt(Sa(),ee);rt(ui(),ee);rt(Pa(),ee);rt(ps(),ee);rt(Ia(),ee);rt(Ss(),ee);rt(_s(),ee);rt(bs(),ee);rt(va(),ee);rt(Ea(),ee);rt(Ts(),ee)});var Vt=g(De=>{"use strict";a();u();var af=De&&De.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ba=De&&De.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&af(e,r,t)};Object.defineProperty(De,"__esModule",{value:!0});De.PROGRAM_ID=De.PROGRAM_ADDRESS=void 0;var uf=V();Ba(_a(),De);Ba(ka(),De);De.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";De.PROGRAM_ID=new uf.PublicKey(De.PROGRAM_ADDRESS)});var ws=g(kt=>{"use strict";a();u();Object.defineProperty(kt,"__esModule",{value:!0});kt.isBigNumber=kt.toOptionBigNumber=kt.toBigNumber=void 0;var cf=ce(),df=(r,e)=>new cf.BN(r,e);kt.toBigNumber=df;var lf=r=>r===null?null:(0,kt.toBigNumber)(r);kt.toOptionBigNumber=lf;var ff=r=>r?.__opaque__==="BigNumber";kt.isBigNumber=ff});var Ma=g(di=>{"use strict";a();u();Object.defineProperty(di,"__esModule",{value:!0});di.token=void 0;var Ka=ws(),gf=(r,e=0,t="Token")=>(typeof r!="number"&&(r=(0,Ka.toBigNumber)(r).toNumber()),{basisPoints:(0,Ka.toBigNumber)(r*Math.pow(10,e)),currency:{symbol:t,decimals:e,namespace:"spl-token"}});di.token=gf});var La=g(li=>{"use strict";a();u();Object.defineProperty(li,"__esModule",{value:!0});li.Pda=void 0;var Da=V(),Zr=class extends Da.PublicKey{constructor(e,t){super(e),this.bump=t}static find(e,t){let[n,i]=Da.PublicKey.findProgramAddressSync(t,e);return new Zr(n,i)}};li.Pda=Zr});var ja=g(_t=>{"use strict";a();u();Object.defineProperty(_t,"__esModule",{value:!0});_t.systemProgram=_t.associatedTokenProgram=_t.tokenProgram=_t.tokenMetadataProgram=void 0;var yf=V(),hf=Vt(),Ua=si();_t.tokenMetadataProgram={name:"TokenMetadataProgram",address:hf.PROGRAM_ID};_t.tokenProgram={name:"TokenProgram",address:Ua.TOKEN_PROGRAM_ID};_t.associatedTokenProgram={name:"AssociatedTokenProgram",address:Ua.ASSOCIATED_TOKEN_PROGRAM_ID};_t.systemProgram={name:"SystemProgram",address:yf.SystemProgram.programId}});var Na=g(br=>{"use strict";a();u();Object.defineProperty(br,"__esModule",{value:!0});br.toPublicKey=br.PublicKey=void 0;var bf=V(),pf=V();Object.defineProperty(br,"PublicKey",{enumerable:!0,get:function(){return pf.PublicKey}});var _f=r=>typeof r=="object"&&"publicKey"in r?r.publicKey:typeof r=="object"&&"address"in r?r.address:new bf.PublicKey(r);br.toPublicKey=_f});var qa=g(ae=>{"use strict";a();u();Object.defineProperty(ae,"__esModule",{value:!0});ae.getSignerHistogram=ae.isIdentitySigner=ae.isKeypairSigner=ae.isSigner=void 0;var mf=r=>typeof r=="object"&&"publicKey"in r&&("secretKey"in r||"signTransaction"in r);ae.isSigner=mf;var Sf=r=>(0,ae.isSigner)(r)&&"secretKey"in r&&r.secretKey!=null;ae.isKeypairSigner=Sf;var Tf=r=>(0,ae.isSigner)(r)&&!(0,ae.isKeypairSigner)(r);ae.isIdentitySigner=Tf;var Pf=r=>r.reduce((e,t)=>{let n=e.all.findIndex(({publicKey:c})=>c.equals(t.publicKey)),i=e.all[n]??null,s=i?(0,ae.isIdentitySigner)(i):!1,o=(0,ae.isIdentitySigner)(t);if(!i)e.all.push(t),o?e.identities.push(t):e.keypairs.push(t);else if(s&&!o){let c=e.identities.findIndex(({publicKey:l})=>l.equals(t.publicKey));e.all.splice(n,1),e.identities.splice(c,1),e.all.push(t),e.keypairs.push(t)}return e},{all:[],keypairs:[],identities:[]});ae.getSignerHistogram=Pf});var _r=g(xe=>{"use strict";a();u();var wf=xe&&xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pr=xe&&xe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wf(e,r,t)};Object.defineProperty(xe,"__esModule",{value:!0});pr(Ma(),xe);pr(ws(),xe);pr(La(),xe);pr(ja(),xe);pr(Na(),xe);pr(qa(),xe)});var Ra=g(nt=>{"use strict";a();u();Object.defineProperty(nt,"__esModule",{value:!0});nt.getDefaultDelegateArgs=nt.getMetadataDelegateRoleSeed=nt.getMetadataDelegateRole=nt.getTokenDelegateRole=void 0;var te=Vt(),If={StandardV1:te.TokenDelegateRole.Standard,TransferV1:te.TokenDelegateRole.Transfer,LockedTransferV1:te.TokenDelegateRole.LockedTransfer,SaleV1:te.TokenDelegateRole.Sale,UtilityV1:te.TokenDelegateRole.Utility,StakingV1:te.TokenDelegateRole.Staking},Of={CollectionV1:te.MetadataDelegateRole.Collection,DataV1:te.MetadataDelegateRole.Data,ProgrammableConfigV1:te.MetadataDelegateRole.ProgrammableConfig},vf={[te.MetadataDelegateRole.AuthorityItem]:"authority_item_delegate",[te.MetadataDelegateRole.Collection]:"collection_delegate",[te.MetadataDelegateRole.Use]:"use_delegate",[te.MetadataDelegateRole.Data]:"data_delegate",[te.MetadataDelegateRole.ProgrammableConfig]:"programmable_config_delegate",[te.MetadataDelegateRole.DataItem]:"data_item_delegate",[te.MetadataDelegateRole.CollectionItem]:"collection_item_delegate",[te.MetadataDelegateRole.ProgrammableConfigItem]:"prog_config_item_delegate"},Af={CollectionV1:!1,DataV1:!1,ProgrammableConfigV1:!1,StandardV1:!0,TransferV1:!0,SaleV1:!0,UtilityV1:!0,StakingV1:!0,LockedTransferV1:!0},Ef=r=>{let e=If[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};nt.getTokenDelegateRole=Ef;var kf=r=>{let e=Of[r];if(!e)throw new Error(`UnreachableCaseError: ${r}`);return e};nt.getMetadataDelegateRole=kf;var Bf=r=>vf[(0,nt.getMetadataDelegateRole)(r)];nt.getMetadataDelegateRoleSeed=Bf;var Kf=r=>{let e=Af[r];if(e===void 0)throw new Error(`UnreachableCaseError: ${r}`);if(e)throw new Error(`DelegateRoleRequiredDataError: ${r}`);return{__kind:r}};nt.getDefaultDelegateArgs=Kf});var Is=g($e=>{"use strict";a();u();Object.defineProperty($e,"__esModule",{value:!0});$e.getMetadataDelegateRecord=$e.getTokenRecord=$e.getAssociatedTokenAccount=$e.getMasterEdition=$e.getMetadata=void 0;var Zt=Ue(),fi=Vt(),Jt=_r(),Mf=Ra(),Df=r=>{let e=fi.PROGRAM_ID;return Jt.Pda.find(e,[Zt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer()])};$e.getMetadata=Df;var Lf=r=>{let e=fi.PROGRAM_ID;return Jt.Pda.find(e,[Zt.Buffer.from("metadata","utf8"),e.toBuffer(),r.toBuffer(),Zt.Buffer.from("edition","utf8")])};$e.getMasterEdition=Lf;var Uf=r=>Jt.Pda.find(Jt.associatedTokenProgram.address,[r.owner.toBuffer(),Jt.tokenProgram.address.toBuffer(),r.mint.toBuffer()]);$e.getAssociatedTokenAccount=Uf;var jf=r=>{let e=fi.PROGRAM_ID;return Jt.Pda.find(e,[Zt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Zt.Buffer.from("token_record","utf8"),r.token.toBuffer()])};$e.getTokenRecord=jf;var Nf=r=>{let e=fi.PROGRAM_ID;return Jt.Pda.find(e,[Zt.Buffer.from("metadata","utf8"),e.toBuffer(),r.mint.toBuffer(),Zt.Buffer.from((0,Mf.getMetadataDelegateRoleSeed)(r.type),"utf8"),r.updateAuthority.toBuffer(),r.delegate.toBuffer()])};$e.getMetadataDelegateRecord=Nf});var Ca=g(gi=>{"use strict";a();u();Object.defineProperty(gi,"__esModule",{value:!0});gi.parseTokenMetadataDelegateInput=void 0;var qf=_r(),Os=Is(),Rf=(r,e,t)=>{if("updateAuthority"in e)return{isTokenDelegate:!1,delegate:e.delegate,approver:e.updateAuthority,delegateRecord:(0,Os.getMetadataDelegateRecord)({mint:r,type:e.type,updateAuthority:e.updateAuthority,delegate:(0,qf.isSigner)(e.delegate)?e.delegate.publicKey:e.delegate,programs:t})};let n=e.token??(0,Os.getAssociatedTokenAccount)({mint:r,owner:e.owner,programs:t});return{isTokenDelegate:!0,delegate:e.delegate,approver:e.owner,delegateRecord:(0,Os.getTokenRecord)({mint:r,token:n,programs:t}),tokenAccount:n}};gi.parseTokenMetadataDelegateInput=Rf});var za=g(mr=>{"use strict";a();u();Object.defineProperty(mr,"__esModule",{value:!0});mr.getSignerFromTokenMetadataAuthority=mr.parseTokenMetadataAuthorization=void 0;var yi=Vt(),Va=Ca(),Cf=r=>{let e={accounts:{authorizationRules:r.authorizationDetails?.rules??null},signers:[],data:{authorizationData:r.authorizationDetails?.data??null}};if(r.authority.__kind==="metadata")e.accounts.authority=r.authority.updateAuthority.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.updateAuthority),e.data.authorityType=yi.AuthorityType.Metadata;else if(r.authority.__kind==="metadataDelegate"){let{delegateRecord:t,approver:n}=(0,Va.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=yi.AuthorityType.MetadataDelegate}else if(r.authority.__kind==="tokenDelegate"){let{delegateRecord:t,approver:n,tokenAccount:i}=(0,Va.parseTokenMetadataDelegateInput)(r.mint,r.authority,r.programs);e.accounts.authority=r.authority.delegate.publicKey,e.accounts.token=i,e.accounts.delegateRecord=t,e.accounts.approver=n,e.signers.push(r.authority.delegate),e.data.authorityType=yi.AuthorityType.TokenDelegate}else if(r.authority.__kind==="holder")e.accounts.authority=r.authority.owner.publicKey,e.accounts.token=r.authority.token,e.signers.push(r.authority.owner),e.data.authorityType=yi.AuthorityType.Holder;else throw new Error(`UnreachableCaseError: ${r.authority.__kind}`);return e};mr.parseTokenMetadataAuthorization=Cf;var Vf=r=>{if(!("__kind"in r))return r;switch(r.__kind){case"metadata":return r.updateAuthority;case"metadataDelegate":case"tokenDelegate":return r.delegate;case"holder":return r.owner;default:throw new Error(`UnreachableCaseError: ${r.__kind}`)}};mr.getSignerFromTokenMetadataAuthority=Vf});var Ha=g(zt=>{"use strict";a();u();Object.defineProperty(zt,"__esModule",{value:!0});zt.getSerializedTransaction=zt.getSignedTransaction=zt.TransactionBuilder=void 0;var zf=V(),Wf=_r(),Wa=ce(),Bt=class{constructor(e={}){this.records=[],this.feePayer=void 0,this.context={},this.transactionOptions=e}static make(e){return new Bt(e)}prepend(...e){let t=e.flatMap(n=>n instanceof Bt?n.getInstructionsWithSigners():[n]);return this.records=[...t,...this.records],this}append(...e){let t=e.flatMap(n=>n instanceof Bt?n.getInstructionsWithSigners():[n]);return this.records=[...this.records,...t],this}add(...e){return this.append(...e)}splitUsingKey(e,t=!0){let n=new Bt(this.transactionOptions),i=new Bt(this.transactionOptions),s=this.records.findIndex(o=>o.key===e);return s>-1?(s+=t?1:0,n.add(...this.records.slice(0,s)),i.add(...this.records.slice(s))):n.add(this),[n,i]}splitBeforeKey(e){return this.splitUsingKey(e,!1)}splitAfterKey(e){return this.splitUsingKey(e,!0)}getInstructionsWithSigners(){return this.records}getInstructions(){return this.records.map(e=>e.instruction)}getInstructionCount(){return this.records.length}isEmpty(){return this.getInstructionCount()===0}getSigners(){let e=this.feePayer==null?[]:[this.feePayer],t=this.records.flatMap(n=>n.signers);return[...e,...t]}setTransactionOptions(e){return this.transactionOptions=e,this}getTransactionOptions(){return this.transactionOptions}setFeePayer(e){return this.feePayer=e,this}getFeePayer(){return this.feePayer}setContext(e){return this.context=e,this}getContext(){return this.context}when(e,t){return e?t(this):this}unless(e,t){return this.when(!e,t)}toTransaction(e,t={}){t={...this.getTransactionOptions(),...t};let n=new zf.Transaction({feePayer:this.getFeePayer()?.publicKey,signatures:t.signatures,blockhash:e.blockhash,lastValidBlockHeight:e.lastValidBlockHeight});return n.add(...this.getInstructions()),n}};zt.TransactionBuilder=Bt;function Ya(r,e,t){return!("records"in r)&&r.recentBlockhash&&r.lastValidBlockHeight&&(t={blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight}),"records"in r&&(e=[...r.getSigners(),...e],r=r.toTransaction(t)),{transaction:r,signers:e,blockhashWithExpiryBlockHeight:t}}function Yf(r,e){let{keypairs:t}=(0,Wf.getSignerHistogram)(e);return t.length>0&&r.partialSign(...t),r}function Hf(r,e=[],t){let n=Ya(r,e,t);return r=n.transaction,e=n.signers,r=Yf(r,e),Wa.base.toBase58(r.serialize())}zt.getSignedTransaction=Hf;function Ff(r,e=[],t){return r=Ya(r,e,t).transaction,Wa.base.toBase58(r.serialize({requireAllSignatures:!1,verifySignatures:!1}))}zt.getSerializedTransaction=Ff});var Ga=g(Fa=>{"use strict";a();u();Object.defineProperty(Fa,"__esModule",{value:!0})});var vs=g(Wt=>{"use strict";a();u();var Gf=Wt&&Wt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),xa=Wt&&Wt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gf(e,r,t)};Object.defineProperty(Wt,"__esModule",{value:!0});xa(Ha(),Wt);xa(Ga(),Wt)});var $a=g(Sr=>{"use strict";a();u();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.isProgrammable=Sr.isNonFungible=void 0;var hi=Vt(),xf=r=>r.tokenStandard===null||r.tokenStandard===hi.TokenStandard.NonFungible||r.tokenStandard===hi.TokenStandard.NonFungibleEdition||r.tokenStandard===hi.TokenStandard.ProgrammableNonFungible;Sr.isNonFungible=xf;var $f=r=>r.tokenStandard===hi.TokenStandard.ProgrammableNonFungible;Sr.isProgrammable=$f});var Xa=g(Qt=>{"use strict";a();u();var Xf=Qt&&Qt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jf=Qt&&Qt.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Xf(e,r,t)};Object.defineProperty(Qt,"__esModule",{value:!0});Jf($a(),Qt)});var Qa=g(bi=>{"use strict";a();u();Object.defineProperty(bi,"__esModule",{value:!0});bi.transferNftBuilder=void 0;var Zf=Vt(),Za=V(),Qr=_r(),Tr=Is(),Ja=za(),Qf=vs(),As=Xa(),eg=new Za.PublicKey("auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),tg=(r,e,t)=>{let{nftOrSft:n,authority:i,toOwner:s,amount:o=(0,Qr.token)(1),authorizationDetails:c}=r,l=r.fromOwner??(0,Ja.getSignerFromTokenMetadataAuthority)(i).publicKey,p=(0,Tr.getMetadata)(n.address),w=(0,Tr.getMasterEdition)(n.address),m=r.fromToken??(0,Tr.getAssociatedTokenAccount)({mint:n.address,owner:l}),M=r.toToken??(0,Tr.getAssociatedTokenAccount)({mint:n.address,owner:s}),k=(0,Tr.getTokenRecord)({mint:n.address,token:m}),L=(0,Tr.getTokenRecord)({mint:n.address,token:M}),b=(0,Ja.parseTokenMetadataAuthorization)({mint:n.address,authority:"__kind"in i?i:{__kind:"holder",owner:i,token:m},authorizationDetails:c,programs:t});return Qf.TransactionBuilder.make().setFeePayer(e).add({instruction:(0,Zf.createTransferInstruction)({token:m,tokenOwner:l,destination:M,destinationOwner:s,mint:n.address,metadata:p,edition:(0,As.isNonFungible)(n)?w:void 0,ownerTokenRecord:(0,As.isProgrammable)(n)?k:void 0,destinationTokenRecord:(0,As.isProgrammable)(n)?L:void 0,authority:b.accounts.authority,payer:e.publicKey,systemProgram:Qr.systemProgram.address,sysvarInstructions:Za.SYSVAR_INSTRUCTIONS_PUBKEY,splTokenProgram:Qr.tokenProgram.address,splAtaProgram:Qr.associatedTokenProgram.address,authorizationRules:b.accounts.authorizationRules,authorizationRulesProgram:eg},{transferArgs:{__kind:"V1",amount:o.basisPoints,...b.data}},Qr.tokenMetadataProgram.address),signers:[e,...b.signers],key:r.instructionKey??"transferNft"})};bi.transferNftBuilder=tg});var pi=g(it=>{"use strict";a();u();var rg=it&&it.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),en=it&&it.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&rg(e,r,t)};Object.defineProperty(it,"__esModule",{value:!0});en(ai(),it);en(Vt(),it);en(Qa(),it);en(vs(),it);en(_r(),it)});var ks=g(Te=>{"use strict";a();u();var ng=Te&&Te.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ig=Te&&Te.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Es=Te&&Te.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ng(e,r,t);return ig(e,r),e};Object.defineProperty(Te,"__esModule",{value:!0});Te.metaplex=Te.web3=Te.spl=void 0;Te.spl=Es(si());Te.web3=Es(V());Te.metaplex=Es(pi())});var tu=g(_=>{"use strict";a();u();Object.defineProperty(_,"__esModule",{value:!0});_.validSignedTransaction=_.getSerializedMplTransaction=_.signMplTransaction=_.createAndSignVersionedTransaction=_.getSerializedVersionedTransaction=_.getSerializedTokenTransferVersionedTransaction=_.signTokenTransferVersionedTransaction=_.signTransferVersionedTransaction=_.getSerializedTransferVersionedTransaction=_.getHardwareTransaction=_.deserializeMessages=_.signMessage=_.appendTokenBurnInstruction=_.appendTokenMintToInstruction=_.appendTokenTransferInstruction=_.appendTransferInstruction=_.signTransaction=_.appendInstruction=_.createRawTransaction=_.validAddress=_.getNewAddress=void 0;var W=ce(),y=ks(),J=V(),Pr=pi(),mt=si(),ue=Gn(),eu=Rr();function sg(r){if(!r)throw new Error("invalid key");let e=W.base.fromBase58(r);if(e.length!=64)throw new Error("invalid key length");let t=W.signUtil.ed25519.publicKeyCreate(e);return W.base.toBase58(t)}_.getNewAddress=sg;function og(r){try{return W.base.fromBase58(r).length==32}catch{return!1}}_.validAddress=og;function ag(r,e){return new y.web3.Transaction({feePayer:new y.web3.PublicKey(r),blockhash:e,lastValidBlockHeight:0})}_.createRawTransaction=ag;async function ug(r,...e){r.add(...e)}_.appendInstruction=ug;async function cg(r,...e){let t=[];return e.forEach(n=>{t.push(y.web3.Keypair.fromSecretKey(W.base.fromBase58(n)))}),r.sign(...t),r.signature?Promise.resolve(W.base.toBase58(r.serialize())):Promise.reject("sign error")}_.signTransaction=cg;async function dg(r,e,t,n){r.add(y.web3.SystemProgram.transfer({fromPubkey:new y.web3.PublicKey(e),toPubkey:new y.web3.PublicKey(t),lamports:n}))}_.appendTransferInstruction=dg;async function lg(r,e,t,n,i,s,o,c){let l=o===!0?mt.TOKEN_2022_PROGRAM_ID:mt.TOKEN_PROGRAM_ID,p=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(n),new y.web3.PublicKey(e),!1,l),w=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(n),new y.web3.PublicKey(t),!0,l);if(s&&r.add(y.spl.createAssociatedTokenAccountInstruction(new y.web3.PublicKey(e),new y.web3.PublicKey(w),new y.web3.PublicKey(t),new y.web3.PublicKey(n),new y.web3.PublicKey(l))),o){if(!c)throw new Error("invalid decimal for token 2022");r.add(y.spl.createTransferCheckedInstruction(new y.web3.PublicKey(p),new y.web3.PublicKey(n),new y.web3.PublicKey(w),new y.web3.PublicKey(e),i,c,[],new y.web3.PublicKey(l)))}else r.add(y.spl.createTransferInstruction(new y.web3.PublicKey(p),new y.web3.PublicKey(w),new y.web3.PublicKey(e),i,[],new y.web3.PublicKey(l)))}_.appendTokenTransferInstruction=lg;async function fg(r,e,t,n,i,s,o,c){let l=c===!0?mt.TOKEN_2022_PROGRAM_ID:mt.TOKEN_PROGRAM_ID,p=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(n),new y.web3.PublicKey(t),!1,l);o&&r.add(y.spl.createAssociatedTokenAccountInstruction(new y.web3.PublicKey(e),new y.web3.PublicKey(p),new y.web3.PublicKey(t),new y.web3.PublicKey(n),new y.web3.PublicKey(l))),r.add(y.spl.createMintToInstruction(new y.web3.PublicKey(n),new y.web3.PublicKey(p),new y.web3.PublicKey(i),s,[],new y.web3.PublicKey(l)))}_.appendTokenMintToInstruction=fg;async function gg(r,e,t,n,i,s){let o=s===!0?mt.TOKEN_2022_PROGRAM_ID:mt.TOKEN_PROGRAM_ID;r.add(y.spl.createBurnInstruction(new y.web3.PublicKey(t),new y.web3.PublicKey(n),new y.web3.PublicKey(e),i,[],new y.web3.PublicKey(o)))}_.appendTokenBurnInstruction=gg;async function yg(r,e){let t=W.base.fromBase58(r),n=W.signUtil.ed25519.sign(t,W.base.fromBase58(e));return Promise.resolve(W.base.toBase58(n))}_.signMessage=yg;async function hg(r){let e=[];for(let t=0;t<r.length;t++){let n=!0,i=0,s=!1,o=0,c=r[t];try{let p=y.web3.VersionedTransaction.deserialize(W.base.fromBase58(c)).message;for(let w=0;w<p.compiledInstructions.length;w++){let m=p.compiledInstructions[w];if(p.staticAccountKeys[m.programIdIndex].toBase58()==ue.ComputeBudgetProgram.programId.toBase58()){let M=f.Buffer.from(m.data);try{let{units:k}=(0,eu.decodeData)(ue.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,M);i=k,s=!0}catch{}try{let{microLamports:k}=(0,eu.decodeData)(ue.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,M);o=k}catch{}}}s||(i=0,p.compiledInstructions.length>1&&(i=(p.compiledInstructions.length-1)*2e5))}catch(l){console.log(l),n=!1}e.push({deserialized:n,computeUnitLimit:i.toString(),computeUnitPrice:o.toString()})}return Promise.resolve(e)}_.deserializeMessages=hg;async function bg(r,e,t){let n=y.web3.Transaction.from(W.base.fromHex(r));return n.addSignature(new J.PublicKey(e),W.base.fromHex(t)),n.signature?Promise.resolve(W.base.toBase58(n.serialize())):Promise.reject("getHardwareTransaction error")}_.getHardwareTransaction=bg;async function pg(r,...e){let t=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let n=ue.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(y.web3.SystemProgram.transfer({fromPubkey:new y.web3.PublicKey(r.from),toPubkey:new y.web3.PublicKey(r.to),lamports:r.amount})),Bs(r.payer,r.blockHash,t,e)}_.getSerializedTransferVersionedTransaction=pg;async function _g(r,...e){let t=[];if(r.computeUnitLimit&&r.computeUnitPrice){let n=ue.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),i=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});t.push(n),t.push(i)}return t.push(y.web3.SystemProgram.transfer({fromPubkey:new y.web3.PublicKey(r.from),toPubkey:new y.web3.PublicKey(r.to),lamports:r.amount})),Ks(r.payer,r.blockHash,t,e)}_.signTransferVersionedTransaction=_g;async function mg(r,...e){let t=r.token2022===!0?mt.TOKEN_2022_PROGRAM_ID:mt.TOKEN_PROGRAM_ID,n=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(r.mint),new y.web3.PublicKey(r.from),!1,t),i=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(r.mint),new y.web3.PublicKey(r.to),!0,t),s=[];if(r.computeUnitLimit&&r.computeUnitPrice){let o=ue.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),c=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});s.push(o),s.push(c)}return r.createAssociatedAddress&&s.push(y.spl.createAssociatedTokenAccountInstruction(new y.web3.PublicKey(r.from),new y.web3.PublicKey(i),new y.web3.PublicKey(r.to),new y.web3.PublicKey(r.mint),new y.web3.PublicKey(t))),s.push(y.spl.createTransferInstruction(new y.web3.PublicKey(n),new y.web3.PublicKey(i),new y.web3.PublicKey(r.from),r.amount,[],new y.web3.PublicKey(t))),Ks(r.payer,r.blockHash,s,e)}_.signTokenTransferVersionedTransaction=mg;async function Sg(r,...e){let t=r.token2022===!0?mt.TOKEN_2022_PROGRAM_ID:mt.TOKEN_PROGRAM_ID,n=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(r.mint),new y.web3.PublicKey(r.from),!1,t),i=await y.spl.getAssociatedTokenAddress(new y.web3.PublicKey(r.mint),new y.web3.PublicKey(r.to),!1,t),s=[];if(r.needPriorityFee&&r.computeUnitLimit&&r.computeUnitPrice){let o=ue.ComputeBudgetProgram.setComputeUnitLimit({units:r.computeUnitLimit}),c=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:r.computeUnitPrice});s.push(o),s.push(c)}return r.createAssociatedAddress&&s.push(y.spl.createAssociatedTokenAccountInstruction(new y.web3.PublicKey(r.from),new y.web3.PublicKey(i),new y.web3.PublicKey(r.to),new y.web3.PublicKey(r.mint),new y.web3.PublicKey(t))),s.push(y.spl.createTransferInstruction(new y.web3.PublicKey(n),new y.web3.PublicKey(i),new y.web3.PublicKey(r.from),r.amount,[],new y.web3.PublicKey(t))),Bs(r.payer,r.blockHash,s,e)}_.getSerializedTokenTransferVersionedTransaction=Sg;async function Bs(r,e,t,n){let i=new J.TransactionMessage({payerKey:new J.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),s=new J.VersionedTransaction(i);return Promise.resolve(W.base.toBase58(s.serialize()))}_.getSerializedVersionedTransaction=Bs;async function Ks(r,e,t,n){let i=new J.TransactionMessage({payerKey:new J.PublicKey(r),recentBlockhash:e,instructions:t}).compileToV0Message(),s=new J.VersionedTransaction(i),o=[];return n.forEach(c=>{let l=J.Keypair.fromSecretKey(W.base.fromBase58(c));o.push({publicKey:l.publicKey,secretKey:l.secretKey})}),s.sign(o),s.signature?Promise.resolve(W.base.toBase58(s.serialize())):Promise.reject("sign error")}_.createAndSignVersionedTransaction=Ks;async function Tg(r,e,t,n,i,s,o=Pr.TokenStandard.ProgrammableNonFungible,c,l){let p={tokenStandard:o,address:new J.PublicKey(n)},w={publicKey:new J.PublicKey(e),secretKey:W.base.fromBase58(s)},m=(0,Pr.transferNftBuilder)({nftOrSft:p,authority:w,fromOwner:new J.PublicKey(e),toOwner:new J.PublicKey(t)},w);if(c&&l){let M=ue.ComputeBudgetProgram.setComputeUnitLimit({units:c}),k=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:l});m.add({instruction:M,signers:[]}),m.add({instruction:k,signers:[]})}return(0,Pr.getSignedTransaction)(m,void 0,{blockhash:i,lastValidBlockHeight:0})}_.signMplTransaction=Tg;async function Pg(r,e,t,n,i,s,o=Pr.TokenStandard.ProgrammableNonFungible,c,l){let p={tokenStandard:o,address:new J.PublicKey(n)},w={publicKey:new J.PublicKey(e),secretKey:W.base.fromBase58(s)},m=(0,Pr.transferNftBuilder)({nftOrSft:p,authority:w,fromOwner:new J.PublicKey(e),toOwner:new J.PublicKey(t)},w);if(c&&l){let M=ue.ComputeBudgetProgram.setComputeUnitLimit({units:c}),k=ue.ComputeBudgetProgram.setComputeUnitPrice({microLamports:l});m.add({instruction:M,signers:[]}),m.add({instruction:k,signers:[]})}return(0,Pr.getSerializedTransaction)(m,void 0,{blockhash:i,lastValidBlockHeight:0})}_.getSerializedMplTransaction=Pg;function wg(r,e,t){if(e){let c=J.VersionedTransaction.deserialize(W.base.fromBase58(r)),l=c.signature,p=c.message.serialize(),w=c.message.getAccountKeys().get(0)?.toBytes();if(!t&&!W.signUtil.ed25519.verify(p,l,w))throw Error("signature error");return c}let n=J.Transaction.from(W.base.fromBase58(r)),i=n.signature,s=n.serializeMessage(),o=n.feePayer.toBytes();if(!t&&!W.signUtil.ed25519.verify(s,i,o))throw Error("signature error");return n}_.validSignedTransaction=wg});var Ms=g(tn=>{"use strict";a();u();Object.defineProperty(tn,"__esModule",{value:!0});tn.SignType=void 0;var Ig;(function(r){r[r.Secp256k1=1]="Secp256k1",r[r.ECDSA_P256=2]="ECDSA_P256",r[r.ED25519=3]="ED25519",r[r.StarknetSignType=4]="StarknetSignType",r[r.TezosSignType=5]="TezosSignType"})(Ig=tn.SignType||(tn.SignType={}))});var ru=g(Xe=>{"use strict";a();u();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.CoinCurveMap=Xe.MultiAddressCoins=Xe.segwitType=Xe.Currency=void 0;var T;(function(r){r[r.NULL=-1]="NULL",r[r.BTC=0]="BTC",r[r.TBTC=1]="TBTC",r[r.ETH=60]="ETH",r[r.LTC=2]="LTC",r[r.DOGE=3]="DOGE",r[r.BCH=145]="BCH",r[r.BSV=236]="BSV",r[r.TRX=195]="TRX",r[r.SOL=501]="SOL",r[r.APTOS=637]="APTOS",r[r.OMNI_USDT=20001]="OMNI_USDT",r[r.OMNI_USDT_TEST=20002]="OMNI_USDT_TEST",r[r.SUI=784]="SUI",r[r.ATOM=118]="ATOM",r[r.OSMO=1e3]="OSMO",r[r.EVMOS=1001]="EVMOS",r[r.AXL=1002]="AXL",r[r.CRO=1003]="CRO",r[r.Iris=1004]="Iris",r[r.Juno=1005]="Juno",r[r.Kava=1006]="Kava",r[r.Kujira=1007]="Kujira",r[r.SCRT=1008]="SCRT",r[r.Stargaze=1009]="Stargaze",r[r.Terra=1010]="Terra",r[r.ZKSPACE=1011]="ZKSPACE",r[r.ZKSYNC=804]="ZKSYNC",r[r.Stx=5757]="Stx",r[r.SEI=2837]="SEI",r[r.WAX=14001]="WAX",r[r.Starknet=9004]="Starknet",r[r.ADA=1815]="ADA",r[r.INJ=2892]="INJ",r[r.Celestia=2854]="Celestia",r[r.DYDX=2897]="DYDX",r[r.Kaspa=111111]="Kaspa",r[r.TON=607]="TON",r[r.NostrAssets=1237]="NostrAssets",r[r.Near=397]="Near"})(T=Xe.Currency||(Xe.Currency={}));var Og;(function(r){r[r.SEGWIT_NESTED=1]="SEGWIT_NESTED",r[r.SEGWIT_NESTED_49=2]="SEGWIT_NESTED_49",r[r.SEGWIT_NATIVE=3]="SEGWIT_NATIVE",r[r.SEGWIT_TAPROOT=4]="SEGWIT_TAPROOT"})(Og=Xe.segwitType||(Xe.segwitType={}));Xe.MultiAddressCoins=[T.BTC,T.TBTC,T.LTC,T.DOGE,T.BSV,T.OMNI_USDT,T.OMNI_USDT_TEST];var N="secp256k1",_i="ed25519";Xe.CoinCurveMap=new Map([[T.BTC,N],[T.TBTC,N],[T.ETH,N],[T.LTC,N],[T.DOGE,N],[T.BCH,N],[T.BSV,N],[T.TRX,N],[T.OMNI_USDT,N],[T.OMNI_USDT_TEST,N],[T.ATOM,N],[T.OSMO,N],[T.EVMOS,N],[T.AXL,N],[T.CRO,N],[T.Iris,N],[T.Juno,N],[T.Kava,N],[T.Kujira,N],[T.SCRT,N],[T.Stargaze,N],[T.Terra,N],[T.SEI,N],[T.Celestia,N],[T.DYDX,N],[T.SOL,_i],[T.APTOS,_i],[T.SUI,_i],[T.TON,_i]])});var Ds=g(h=>{"use strict";a();u();Object.defineProperty(h,"__esModule",{value:!0});h.SignCommonMsgError=h.EstimateFeeError=h.validSignedTransactionError=h.GetPayLoadError=h.HardwareDerivePubKeyError=h.CalcTxHashError=h.SignMsgStep3Error=h.SignMsgSetupError=h.Ed25519Step3Error=h.Ed25519Step2Error=h.Ed25519Step1Error=h.Ed25519SetupError=h.EcdsaStep3Error=h.EcdsaStep2Error=h.EcdsaStep1Error=h.EcdsaSetupError=h.MPCShakeHandsError=h.MPCStepError=h.MPCAesKeyMissError=h.GetHardWareMessageHashError=h.GetHardwareSignedTransactionError=h.GetHardwareRawTransactionError=h.GetMpcTransactionError=h.GetMpcRawTransactionError=h.DerivePathError=h.GenMnemonicError=h.GenPrivateKeyError=h.UnsupportedCoinError=h.SignMsgError=h.SignTxError=h.ValidAddressError=h.NewAddressError=h.NotImplementedError=void 0;h.NotImplementedError="no implementation method";h.NewAddressError="generate address error";h.ValidAddressError="valid address error";h.SignTxError="sign tx error";h.SignMsgError="sign message error";h.UnsupportedCoinError="unsupported currency";h.GenPrivateKeyError="generate private key error";h.GenMnemonicError="generate mnemonic error";h.DerivePathError="derive hdPath error";h.GetMpcRawTransactionError="get mpc raw transaction error";h.GetMpcTransactionError="get mpc transaction error";h.GetHardwareRawTransactionError="get hardware raw transaction error";h.GetHardwareSignedTransactionError="get hardware signed transaction error";h.GetHardWareMessageHashError="get hardware message hash error";h.MPCAesKeyMissError="mpc get aes key error";h.MPCStepError="mpc step error";h.MPCShakeHandsError="mpc shake hands error";h.EcdsaSetupError="ecdsa setup error";h.EcdsaStep1Error="ecdsa step1 error";h.EcdsaStep2Error="ecdsa step2 error";h.EcdsaStep3Error="ecdsa step3 error";h.Ed25519SetupError="ed25519 setup error";h.Ed25519Step1Error="ed25519 step1 error";h.Ed25519Step2Error="ed25519 step2 error";h.Ed25519Step3Error="ed25519 step3 error";h.SignMsgSetupError="sign message setup error";h.SignMsgStep3Error="sign message step3 error";h.CalcTxHashError="calculate tx hash error";h.HardwareDerivePubKeyError="derive sub pub key error";h.GetPayLoadError="get payload error";h.validSignedTransactionError="valid signed transaction error";h.EstimateFeeError="estimate fee error";h.SignCommonMsgError="sign common msg error"});var nu=g(Pe=>{"use strict";a();u();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.jsonStringifyUniform=Pe.cloneObject=Pe.assertBufferLength=Pe.convert2BigNumber=Pe.convert2Number=Pe.buildCommonSignMsg=void 0;var mi=ce();function vg(r,e){return`OKX Wallet Sign In

publicKey: ${r}
walletId: ${e}
host: api.wallet.okx
OKX Wallet Sign In`}Pe.buildCommonSignMsg=vg;function Ag(r){if(r!=null)return typeof r=="string"?parseInt(r):r}Pe.convert2Number=Ag;function Eg(r){if(r!=null)return mi.BigNumber.isBigNumber(r)?r:new mi.BigNumber(r)}Pe.convert2BigNumber=Eg;function kg(r,e){if(r.length!=e)throw Error("buffer length is illegal")}Pe.assertBufferLength=kg;function Bg(r){return JSON.parse(JSON.stringify(r))}Pe.cloneObject=Bg;function Kg(r){return JSON.stringify(r,(e,t)=>t&&(t.type==="Buffer"||t instanceof Uint8Array?mi.base.toHex(t):typeof t=="bigint"?t.toString():t))}Pe.jsonStringifyUniform=Kg});var Ls=g(er=>{"use strict";a();u();var Mg=er&&er.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dg=er&&er.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Mg(e,r,t)};Object.defineProperty(er,"__esModule",{value:!0});Dg(nu(),er)});var uu=g(C=>{"use strict";a();u();Object.defineProperty(C,"__esModule",{value:!0});C.SimpleWallet=C.BaseWallet=C.ecdsaSign=C.fromSigned=C.padWithZeroes=C.toUnsigned=C.intToHex=C.makeSignature=C.secp256k1SignTest=void 0;var G=Ds(),wr=Ms(),x=ce(),Lg=Ls();function iu(r){let e=x.base.sha256("secp256k1-test"),t=x.signUtil.secp256k1.publicKeyCreate(r,!1),{signature:n,recovery:i}=x.signUtil.secp256k1.sign(f.Buffer.from(e),r);return x.signUtil.secp256k1.verify(e,n,i,t)}C.secp256k1SignTest=iu;function su(r,e,t){let n=(0,C.fromSigned)(e),i=(0,C.fromSigned)(t),s=r,o=Us((0,C.toUnsigned)(n).toString("hex"),64),c=Us((0,C.toUnsigned)(i).toString("hex"),64);return x.base.stripHexPrefix(ou(s)).concat(o,c)}C.makeSignature=su;function ou(r){return`0x${r.toString(16)}`}C.intToHex=ou;var Ug=function(r){return f.Buffer.from(r.toTwos(256).toArray())};C.toUnsigned=Ug;function Us(r,e){if(r!==""&&!/^[a-f0-9]+$/iu.test(r))throw new Error(`Expected an unprefixed hex string. Received: ${r}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(r,e,"0")}C.padWithZeroes=Us;var jg=function(r){return new x.BN(r).fromTwos(256)};C.fromSigned=jg;function au(r,e,t){let{signature:n,recovery:i}=x.signUtil.secp256k1.sign(r,e),s=f.Buffer.from(n.slice(0,32)),o=f.Buffer.from(n.slice(32,64));if(t&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{v:t?i+(t*2+35):i+27,r:s,s:o}}C.ecdsaSign=au;var Si=class{getRandomPrivateKey(){try{for(;;){let e=x.base.randomBytes(32);if(iu(e))return Promise.resolve(x.base.toHex(e,!0))}}catch{}return Promise.reject(G.GenPrivateKeyError)}getDerivedPrivateKey(e){return x.bip39.mnemonicToSeed(e.mnemonic).then(t=>{let n=x.bip32.fromSeed(t).derivePath(e.hdPath);if(n.privateKey){let i=x.base.toHex(n.privateKey);return Promise.resolve("0x"+i)}else return Promise.reject(G.GenPrivateKeyError)}).catch(t=>Promise.reject(G.GenPrivateKeyError))}getDerivedPath(e){return Promise.reject(G.NotImplementedError)}validPrivateKey(e){return Promise.reject(G.NotImplementedError)}signMessage(e){return Promise.reject(G.NotImplementedError)}async signCommonMsg(e){e.signType||(e.signType=wr.SignType.Secp256k1);let t;if(e.message.text)t=e.message.text;else{let c;if(e.publicKey?c=e.publicKey:c=(await this.getNewAddress({privateKey:e.privateKey,addressType:e.addressType,hrp:e.hrp,version:e.version})).publicKey,c.startsWith("0x")&&(c=c.substring(2)),!e.message.walletId)return Promise.reject("invalid walletId");t=(0,Lg.buildCommonSignMsg)(c,e.message.walletId)}let n=x.base.magicHash(t),i=e.privateKeyHex?e.privateKeyHex:e.privateKey,s=x.base.fromHex(i);var o;switch(e.signType){case wr.SignType.Secp256k1:let{v:c,r:l,s:p}=au(f.Buffer.from(n),s);return Promise.resolve(su(c,l,p));case wr.SignType.ECDSA_P256:return o=x.signUtil.p256.sign(f.Buffer.from(n),s).signature,Promise.resolve(x.base.toHex(o));case wr.SignType.ED25519:return o=x.signUtil.ed25519.sign(n,s),Promise.resolve(x.base.toHex(o));case wr.SignType.StarknetSignType:return o=x.signUtil.schnorr.stark.sign(n,s).toCompactRawBytes(),Promise.resolve(x.base.toHex(o));case wr.SignType.TezosSignType:return Promise.reject("not support")}}verifyMessage(e){return Promise.reject(G.NotImplementedError)}ecRecover(e,t){return Promise.reject(G.NotImplementedError)}getAddressByPublicKey(e){return Promise.reject(G.NotImplementedError)}getMPCRawTransaction(e){return Promise.reject(G.NotImplementedError)}getMPCTransaction(e){return Promise.reject(G.NotImplementedError)}getMPCRawMessage(e){return Promise.reject(G.NotImplementedError)}getMPCSignedMessage(e){return Promise.reject(G.NotImplementedError)}getHardWareRawTransaction(e){return Promise.reject(G.NotImplementedError)}getHardWareSignedTransaction(e){return Promise.reject(G.NotImplementedError)}getHardWareMessageHash(e){return Promise.reject(G.NotImplementedError)}calcTxHash(e){return Promise.reject(G.NotImplementedError)}getRawTransaction(e){return Promise.reject(G.NotImplementedError)}validSignedTransaction(e){return Promise.reject(G.NotImplementedError)}estimateFee(e){return Promise.reject(G.NotImplementedError)}};C.BaseWallet=Si;var js=class extends Si{mockData(e,t){this.mockAddress=e,this.mockPublicKey=t}getNewAddress(e){return Promise.resolve({address:this.mockAddress,publicKey:this.mockPublicKey})}validAddress(e){throw new Error("Method not implemented.")}signTransaction(e){throw new Error("Method not implemented.")}};C.SimpleWallet=js});var cu=g(st=>{"use strict";a();u();var Ng=st&&st.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),rn=st&&st.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ng(e,r,t)};Object.defineProperty(st,"__esModule",{value:!0});rn(Ms(),st);rn(ru(),st);rn(Ds(),st);rn(uu(),st);rn(Ls(),st)});var lu=g(Pi=>{"use strict";a();u();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.SolWallet=void 0;var Y=cu(),Je=ce(),H=fu(),Ti=Gn(),du=pi(),Ns=class extends Y.BaseWallet{async getDerivedPath(e){return`m/44'/501'/${e.index}'/0'`}async getRandomPrivateKey(){try{return Promise.resolve(Je.signUtil.ed25519.ed25519_getRandomPrivateKey(!0,"base58"))}catch{return Promise.reject(Y.GenPrivateKeyError)}}async getDerivedPrivateKey(e){try{let t=await Je.signUtil.ed25519.ed25519_getDerivedPrivateKey(e.mnemonic,e.hdPath,!0,"base58");return Promise.resolve(t)}catch{return Promise.reject(Y.GenPrivateKeyError)}}checkPrivateKey(e){let t=Je.base.fromBase58(e);return t.length==64&&!t.every(n=>n===0)}async getNewAddress(e){try{if(!this.checkPrivateKey(e.privateKey))return Promise.reject(Y.NewAddressError);let t=H.api.getNewAddress(e.privateKey),n={address:t,publicKey:Je.base.toHex(Je.base.fromBase58(t))};return Promise.resolve(n)}catch{return Promise.reject(Y.NewAddressError)}}async validPrivateKey(e){let t;try{t=this.checkPrivateKey(e.privateKey)}catch{t=!1}let n={isValid:t,privateKey:e.privateKey};return Promise.resolve(n)}async validAddress(e){let t;try{t=Je.base.fromBase58(e.address).length==32}catch{t=!1}let n={isValid:t,address:e.address};return Promise.resolve(n)}async signCommonMsg(e){let t=Je.base.fromBase58(e.privateKey);return super.signCommonMsg({privateKey:e.privateKey,privateKeyHex:Je.base.toHex(t),message:e.message,signType:Y.SignType.ED25519})}async signTransaction(e){try{let t=e.data,n=H.api.createRawTransaction(t.payer,t.blockHash);if(t.computeUnitLimit&&t.computeUnitPrice){let s=Ti.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),o=Ti.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(s).add(o)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(Y.SignTxError);if(t.version===0)return H.api.signTransferVersionedTransaction(e.data,e.privateKey);await H.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(Y.SignTxError);if(t.version===0)return H.api.signTokenTransferVersionedTransaction(e.data,e.privateKey);await H.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(Y.SignTxError);let s=t.tokenStandard??du.TokenStandard.ProgrammableNonFungible;return await H.api.signMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s,t.computeUnitLimit,t.computeUnitPrice)}else return Promise.reject(Y.SignTxError);if(!e.privateKey)return Promise.resolve(Je.base.toHex(n.serialize({verifySignatures:!1})));let i=await H.api.signTransaction(n,e.privateKey);return Promise.resolve(i)}catch{return Promise.reject(Y.SignTxError)}}async signMessage(e){try{let t=e.data,n=await H.api.signMessage(t,e.privateKey);return Promise.resolve(n)}catch{return Promise.reject(Y.SignTxError)}}async deserializeMessages(e){try{let t=await H.api.deserializeMessages(e.data);return Promise.resolve(t)}catch{return Promise.reject("deserializeMessages error")}}async getSerializedTransaction(e){try{let t=e.data,n=H.api.createRawTransaction(t.payer,t.blockHash);if(t.needPriorityFee&&t.computeUnitLimit&&t.computeUnitPrice){let s=Ti.ComputeBudgetProgram.setComputeUnitLimit({units:t.computeUnitLimit}),o=Ti.ComputeBudgetProgram.setComputeUnitPrice({microLamports:t.computeUnitPrice});n.add(s).add(o)}if(t.type==="transfer"){if(t.from==null||t.to==null||t.amount==null)return Promise.reject(Y.SignTxError);if(t.version===0)return H.api.getSerializedTransferVersionedTransaction(e.data,e.privateKey);await H.api.appendTransferInstruction(n,t.from,t.to,t.amount)}else if(t.type==="tokenTransfer"){if(t.from==null||t.to==null||t.mint==null||t.amount==null||t.createAssociatedAddress==null)return Promise.reject(Y.SignTxError);if(t.version===0)return H.api.getSerializedTokenTransferVersionedTransaction(e.data,e.privateKey);await H.api.appendTokenTransferInstruction(n,t.from,t.to,t.mint,t.amount,t.createAssociatedAddress,t.token2022,t.decimal)}else if(t.type==="mplTransfer"){if(t.from==null||t.to==null||t.mint==null)return Promise.reject(Y.SignTxError);let s=t.tokenStandard??du.TokenStandard.ProgrammableNonFungible;return t.needPriorityFee?await H.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s,t.computeUnitLimit,t.computeUnitPrice):await H.api.getSerializedMplTransaction(t.payer,t.from,t.to,t.mint,t.blockHash,e.privateKey,s)}else return Promise.reject(Y.SignTxError);let i=Je.base.toBase58(n.serialize({requireAllSignatures:!1,verifySignatures:!1}));return Promise.resolve(i)}catch{return Promise.reject(Y.SignTxError)}}async calcTxHash(e){try{let t=Je.base.fromBase58(e.data),n;try{n=H.web3.Transaction.from(t)}catch{n=H.web3.VersionedTransaction.deserialize(t)}return n.signature==null?Promise.reject(Y.CalcTxHashError):Promise.resolve(Je.base.toBase58(n.signature))}catch{return Promise.reject(Y.CalcTxHashError)}}async getHardWareRawTransaction(e){try{return this.signTransaction(e)}catch{return Promise.reject(Y.GetHardwareRawTransactionError)}}async getHardWareSignedTransaction(e){try{let t=H.api.getHardwareTransaction(e.raw,e.pubKey,e.sig);return Promise.resolve(t)}catch{return Promise.reject(Y.GetHardwareSignedTransactionError)}}async validSignedTransaction(e){try{let t=e.data?e.data.version:void 0,n=e.data?e.data.skipCheckSign:void 0,i=H.api.validSignedTransaction(e.tx,t||!1,n||!1);return Promise.resolve((0,Y.jsonStringifyUniform)(i))}catch{return Promise.reject(Y.validSignedTransactionError)}}};Pi.SolWallet=Ns});var fu=g(we=>{a();u();var gu=we&&we.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qg=we&&we.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rg=we&&we.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gu(e,r,t);return qg(e,r),e},yu=we&&we.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gu(e,r,t)};Object.defineProperty(we,"__esModule",{value:!0});we.api=void 0;we.api=Rg(tu());yu(ks(),we);yu(lu(),we)});export{fu as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-IODYNLYU.js.map
