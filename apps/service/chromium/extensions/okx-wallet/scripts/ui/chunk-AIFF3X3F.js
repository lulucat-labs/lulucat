import{b as Re,f as ut,g as tn,h as ee,i as no,j as ro}from"./chunk-VUKLCWMB.js";import{a as en}from"./chunk-7K7KPFPU.js";import{a as qi,b as Ji,c as Qi,d as O}from"./chunk-PDO3D532.js";import{b as io}from"./chunk-YNDUHMHI.js";import{a as oo}from"./chunk-QN3BHKDM.js";import{a as Xi}from"./chunk-LZOTZSLP.js";import{a as ji}from"./chunk-N5KXYLI6.js";import{a as zi}from"./chunk-OL23QTWJ.js";import{a as $i,e as Wi,m as Ki,s as Zi}from"./chunk-JFV2UG4S.js";import{a as Gi}from"./chunk-VPEGTYK6.js";import{a as Dt}from"./chunk-HYFMV74Y.js";import{a as Vi,b as eo}from"./chunk-LX6EREZR.js";import{e as Mi}from"./chunk-TZ4DRGVV.js";import{a as Qt}from"./chunk-XZD4GKLJ.js";import{a as je}from"./chunk-QHPYMFK2.js";import{b as Ui,d as qt,g as Jt}from"./chunk-F4XZWNG2.js";import{b as to,e as Yi}from"./chunk-52ESRIYZ.js";import{a as Hi}from"./chunk-S3KOFL77.js";import{a as Oi}from"./chunk-SBQTMPJM.js";import{c as Xt}from"./chunk-7YQLUBDN.js";import{c as Ai,d as jt,f as vi}from"./chunk-2NGLDVXQ.js";import{b as Kt,h as Ei,i as Zt,m as Yt,n as Ii,o as wi}from"./chunk-46N6STYV.js";import{a as gi}from"./chunk-KABAXRU7.js";import{c as Di}from"./chunk-2LFRM3KT.js";import{b as bt}from"./chunk-WRZIZFIL.js";import{a as bi}from"./chunk-KYU5M654.js";import{b as Ro}from"./chunk-SIAVCB4G.js";import{d as Fo}from"./chunk-4X3SKD2N.js";import{a as Si}from"./chunk-7SQ3GPJR.js";import{a as ki}from"./chunk-KOPPPKVA.js";import{B as ai,Q as At,V as _i,da as ci,ea as bo,fa as mi}from"./chunk-ZV6IBWDM.js";import{a as Fi,f as Ri,h as Pi}from"./chunk-HZPID3WW.js";import{g as Li,h as Bi}from"./chunk-4HGOSSS7.js";import{Ya as Vt,jb as Ni,kb as Ci}from"./chunk-WSXZYUQ4.js";import{b as hi}from"./chunk-JRZXGORL.js";import{l as yi,m as ie,q as we}from"./chunk-IRNZUYU4.js";import{e as Ht,f as $t}from"./chunk-DZHQUYHS.js";import{o as Bo}from"./chunk-AUURQ3HI.js";import{Eb as Wt,cc as Fe,ka as xi,m as K,w as ot,ya as Ti,z as ui}from"./chunk-B32MCU7F.js";import{a as Lo}from"./chunk-VLKJDIZ5.js";import{d as ft,f as fi}from"./chunk-TKFT6XV3.js";import{e as be}from"./chunk-OWU5GWTN.js";import{e as B,f as o,h as j,i as vt,k as ve}from"./chunk-2BGRD7AD.js";import{c as Z}from"./chunk-AIPMH74P.js";import{a as zt}from"./chunk-DJDG7W5Q.js";import{Ac as Do,Bc as it,Cc as So,Ec as Mt,Fa as ht,Ga as oi,Hc as Gt,Ib as Ot,Jc as pi,Kb as Ut,Lb as ni,Pa as ii,Yb as Ao,_a as ho,a as Jo,ac as ri,b as dl,hc as vo,vc as di,yc as pt}from"./chunk-Q23SA7M6.js";import{A as de,G as si,H as Ee,M as Me,P as tt,Q as Ie,o as Ne,y as dt}from"./chunk-E44TZGUB.js";import{F as Qo,K as Oe,ea as ei,oa as ct}from"./chunk-KBQXBPIW.js";import{B as Q,C as ti,O as P,e as Ye,w as a}from"./chunk-364XNTHB.js";import{H as Ue,T as ge,Z as mt,ca as ze}from"./chunk-W7JONHX2.js";import{a as li}from"./chunk-O3LHCDGR.js";import{a as w}from"./chunk-PDSGFBX4.js";import{f as x,o as r,q as l}from"./chunk-FJHLV356.js";r();l();P();ct();var on="okx-wallet-plugin-report-centre",nn="okx-wallet-plugin-nft",pl="okx-wallet-plugin-report-centre",fl="okx-wallet-plugin-lock-1",ul="okx-wallet-plugin-swap-1",xl="okx-wallet-plugin-documentation",rn=(e=[],t="en-US",i=!1)=>{if(!Array.isArray(e))return[[],[]];let n=new Map,_=[],s=[],m=0,d=c=>{let f=Ye(c.txTime,{format:"yyyyMMdd",locale:t});Oe(n.get(f))&&(n.set(f,m),s[m]={},s[m].date=f,s[m].list=[],m++);let C=n.get(f);s[C].list.push(c)};return e.forEach(c=>{c.txStatus===B.PENDING?!c.isShowPending&&i?d(c):_.push(c):d(c)}),[_,s]},Po=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.MINT_NFT||t===o.CANCEL_NFT||t===o.NFT_AUTHORIZATION?nn:t===o.NFT_CANCEL_AUTHORIZATION?xl:t===o.DAPP_NFT||t===o.CONTRACTCALL?pl:t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION?fl:t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT?ul:on},ln=(e={})=>{let{txType:t}=e;return t===o.SEND_NFT||t===o.RECEIVE_NFT||t===o.BUY_NFT||t===o.SELL_NFT||t===o.MINT_NFT||t===o.DAPP_NFT||t===o.CANCEL_NFT},sn=(e={},t={})=>{let{nftId:i}=e,{txType:n}=t;return i||n===o.ORDINAL_NFT?nn:n===o.ORDINAL_TEXT?`${zt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:on},an=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==Kt.NORMAL},xt=e=>e.txType===o.TRANS_OUT&&e.okexAccount;r();l();var D=x(w()),Pr=x(Bo());ct();r();l();So();Do();var _n=e=>di(it.getGiftReceiveList,e);r();l();var se=x(w()),Nn=x(Lo());r();l();var Xe=x(w());r();l();var nt=x(w());P();fi();So();Do();var Tl=({tx:e,closeVisible:t,repeatVisible:i,onClose:n,onConfirm:_})=>{let s=_,m=t||i,{txHash:d,coinId:p,txId:c,include:f,coinSymbol:C}=e,T=f?.[0]?.protocolName,v=C,h=Fi(),g=qt(p)?.chainId||0,M=async()=>{try{let b=await ft().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),S={txHash:d,accountId:h,chainId:g};return await pt(it.postCloseTranscation,S,{headers:b})}catch(b){let S=Ne.tip({title:a("extension_biz_title_cancel_transaction_failed"),confirmText:a("commonall_text_btn_ok_active"),children:nt.default.createElement("div",null,b.msg),onConfirm:()=>{s(c),S.destroy()}});throw b}},F=async()=>{try{let b=await ft().getRequestHeaders({walletId:h,needSign:!0,currency:"usd"}),S={txHash:d,accountId:h,chainId:g};await pt(it.postRepeatTranscation,S,{headers:b})}catch(b){let S=Ne.tip({title:a("extension_biz_title_cancel_broadcast_failed"),confirmText:a("commonall_text_btn_ok_active"),children:nt.default.createElement("div",null,b.msg),onConfirm:()=>{s(c),S.destroy()}});throw b}},G=async()=>{try{t?(ci({token_name:v,protocol:T}),await M()):i&&(mi({token_name:v,protocol:T}),await F())}catch{return}_(c),Ee.success({title:a("extension_defi_toast_header_tips_request_submit")})};return nt.default.createElement(Ne.Prompt,{visible:m,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:G,onClose:()=>{n&&n()},confirmText:a("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:ze.TYPE.highlight,size:ze.SIZE.lg},renderContent:b=>nt.default.createElement(b,null,nt.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&a("extension_defi_toast_title_release_utxo"),i&&a("extension_defi_toast_title_rebroadcast")),nt.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&a("extension_defi_toast_desc_release_utxo"),i&&a("extension_defi_toast_desc_rebroadcast")))})},cn=Tl;function Nl({data:e,onRefresh:t}){let{showCloseTransaction:i,showTxRepeatBroadcast:n,include:_,coinSymbol:s}=e,[m,d]=(0,Xe.useState)(!1),[p,c]=(0,Xe.useState)(!1),f=_?.[0]?.protocolName,C=s;return Xe.default.createElement(Xe.default.Fragment,null,Xe.default.createElement(ut,{showCloseTransaction:i,showTxRepeatBroadcast:n,onClose:()=>{d(!0),bo({token_name:C,protocol:f,button_name:"releaseutxo"})},onRepeat:()=>{c(!0),bo({token_name:C,protocol:f,button_name:"rebroadcast"})}}),(m||p)&&Xe.default.createElement(cn,{tx:e,closeVisible:m,repeatVisible:p,onConfirm:T=>{t(T),d(!1),c(!1)},onClose:()=>{d(!1),c(!1)}}))}var mn=Nl;r();l();var St=x(w());r();l();var H=x(w()),Tt=x(Ue());P();vo();r();l();var Y={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var Cl=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:i,ancestorsTxSize:n,totalFee:_,totalFeeUSD:s})=>H.default.createElement("div",{className:Y.transactionDetailBox},H.default.createElement("div",{className:Y.transactionAccelerationDetails},H.default.createElement("p",{className:Y.transactionDetailRow},n?H.default.createElement(de,{title:a("extension_defi_popup_tooltips_feerate_before_speedup"),placement:de.DIRECTION.topLeft,arrowAlignBoundary:!0},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel,Y.textUnderline)},a("extension_defi_toast_item_current_fee_rate"))):H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_current_fee_rate")),H.default.createElement("span",{className:Y.transactionDetailValue},`${e} sats/vb`)),H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_speedup_rate")),H.default.createElement("span",{className:Y.transactionDetailValue},`${t} sats/vb`)),H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_txn_size")),H.default.createElement("span",{className:Y.transactionDetailValue},`${i}vb`)),n?H.default.createElement("p",{className:Y.transactionDetailRow},H.default.createElement("span",{className:Y.transactionDetailLabel},a("extension_defi_toast_item_ancestor_txn")),H.default.createElement("span",{className:Y.transactionDetailValue},`${n}vb`)):null,H.default.createElement("div",{className:Y.transactionDetailRow},n?H.default.createElement(de,{title:a("extension_defi_popup_tooltips_desc_total_fee_meaning")},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel,Y.textUnderline)},a("extension_defi_toast_item_total_fee"))):H.default.createElement("span",{className:(0,Tt.default)(Y.transactionDetailLabel)},a("extension_defi_toast_item_total_fee")),H.default.createElement("p",{className:(0,Tt.default)(Y.transactionDetailValue,Y.transactionDetailFiatValue)},Ao(_)," ~ ",s))),H.default.createElement("p",{className:Y.transactionAccelerationFooter},a("extension_defi_toast_desc_0service_fee"))),gl=({tx:e,feeInfo:t,visible:i,networkError:n,onClose:_,onConfirm:s,onRetry:m})=>{let{currencyPrice:d,currencySymbol:p}=Mi(e.mainCoinId),c=`${p}${ri(Ot(Ao(t.totalFee),d),2)}`;return H.default.createElement(qi,{visible:i,error:n,onClose:_,onConfirm:s,title:a("extension_defi_toast_title_speedup_txn"),headerTitle:ti("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:H.default.createElement(de,{title:a("extension_defi_popup_tooltips_cpfp_meaning")},H.default.createElement("span",{className:(0,Tt.default)(Y.transactionAccelerationSubtitle,Y.textUnderline)},`${a("extension_defi_toast_subtitle_using_cpfp")}`))}),content:H.default.createElement(Cl,{...t,totalFeeUSD:c}),errContent:H.default.createElement(dt.State,{title:a("extension_defi_toast_title_internet_error"),type:dt.State.TYPE.noNetwork,description:a("extension_defi_toast_subtitle_cant_get_fee"),buttonText:a("extension_defi_toast_btn_retry"),onButtonClick:()=>{m&&m()},className:Y.emptyState}),confirmText:a("wallet_extension_btn_general_confirm")})},dn=gl;r();l();var le=x(w()),pn=x(Fe());P();vo();var El=(e,t)=>{let{address:i,mainCoinId:n,txHash:_,txId:s,btcSpeedUpInfo:m}=e,d=m?.cpfpSpeedUpUtxo?.[0].address||i,p=400002,[c,f]=(0,le.useState)(!1),[C,T]=(0,le.useState)(!1),[v,h]=(0,le.useState)(!1),[E,g]=(0,le.useState)(!1),[M,F]=(0,le.useState)(!1),[G,b]=(0,le.useState)({}),[S,z]=(0,le.useState)({}),[W,k,oe,X,xe]=$i({...e,address:d}),R=(0,pn.useSelector)(Wt),{currencyId:y}=R,A=Ki({address:i,coinId:n,currencyId:y,doubleConfirmSource:Wi.ACCELERATE});(0,le.useEffect)(()=>{(async()=>{if(W&&k?.expectedFeeRate){let[Ae,Be,,yt]=await X(W,k);(Ae||Be)&&b({...k,totalFee:Ut(Number(k.increaseFee)+yt)})}})()},[k,W,X]);let I=(0,le.useCallback)((Te,Ae)=>{if(Ae==="init")if(Te.msg){let Be=Ne.tip({title:a("extension_biz_title_speed_up_failed"),confirmText:a("commonall_text_btn_ok_active"),children:le.default.createElement("div",null,Te.msg),onConfirm:()=>{t(s),Be.destroy()}})}else T(!0),f(!0);else{if(Te?.code===p){Ee.error({title:a("extension_defi_top_toast_speedup_fail")}),t(s);return}if(Te?.code===Xi.BALANCE_NOT_ENOUGH){At({accelerate_status:"utxo_fail"}),Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}At({accelerate_status:"other_fail"}),h(!0)}},[]),L=(0,le.useCallback)(async()=>{if(!E){try{if(xe)throw xe;g(!0);let[Te,Ae,,Be]=await X(W,k);if(Te||Ae)b({...k,totalFee:Ut(Number(k.increaseFee)+Be)});else{Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")});return}f(!0),T(!1),h(!1)}catch(Te){I(Te,"init")}g(!1)}},[xe,W,k,I,E,X]),U=ki()?.find(Te=>Te.coinId===n)?.localType,J=Zi({coinId:n,fromAddr:d,toAddr:d,outputs:[{address:d,amount:S.sendAmountInt}],networkFee:S.networkFeeInt,localType:U,dustSize:S.totalInput,satBytes:k.expectedFeeRate,coinAmount:S.sendAmountInt,extraPublishParams:{coinAmount:S.sendAmountInt,txType:o.TRANS_OUT}});(0,le.useEffect)(()=>{(async()=>{try{let{confirm:Ae,utxoList:Be}=S;Ae&&(await J({utxoList:Be}),Ee.success(a("extension_defi_top_toast_speedup_success")),At({accelerate_status:"success"}),t(s))}catch{Ee.error({title:a("extension_defi_top_toast_speedup_fail")})}})()},[S]);let Ce=(0,le.useCallback)(async()=>{if(M)return;if(F(!0),await Hi())try{let[Ae,Be,yt,_l]=await X(W,k);if(!Ae&&!Be){Ee.error({title:a("extension_defi_top_text_insufficient_utxo_pay")}),At({accelerate_status:"utxo_fail"}),F(!1);return}try{await A(yt)}catch{F(!1);return}let jo=yt.reduce((cl,ml)=>cl+ml.coinAmount,0),Xo=Ut(_l,Number(k.increaseFee)),qo=Number(ni(jo,Xo));Be&&(qo=oe),z({totalInput:jo,sendAmountInt:qo,networkFeeInt:Xo,utxoList:yt,confirm:!0}),T(!1),h(!1),F(!1),f(!1)}catch(Ae){I(Ae,"confirm"),F(!1)}},[W,k,_]),yo=(0,le.useCallback)(async()=>{C&&L(),v&&Ce()},[L,v,C,Ce]);return{isFetchingTxFee:E,btcSpeedUpHandle:L,isBTCSpeedUpDialogVisible:c,displayFee:G,isFetchBTCFeeInfoNetworkError:C,isConfirmAccelerateError:v,onConfirmAccelerateBTCTX:Ce,setIsBTCSpeedUpDialogVisible:f,onRetryBtcSpeedUp:yo}},fn=El;function Il({data:e,onRefresh:t}){let{isFetchingTxFee:i,btcSpeedUpHandle:n,isBTCSpeedUpDialogVisible:_,displayFee:s,isFetchBTCFeeInfoNetworkError:m,isConfirmAccelerateError:d,onConfirmAccelerateBTCTX:p,setIsBTCSpeedUpDialogVisible:c,onRetryBtcSpeedUp:f}=fn(e,t);return St.default.createElement(St.default.Fragment,null,St.default.createElement(ut,{isLoading:i,canAccelerateBtcTx:!0,onBtcSpeedUp:n}),_&&St.default.createElement(dn,{tx:e,feeInfo:s,networkError:m||d,visible:_,onConfirm:async()=>{await p()},onClose:()=>{c(!1)},onRetry:f}))}var un=Il;r();l();r();l();var wl=()=>null,xn=wl;var Tn=xn;function yl({data:e,onRefresh:t}){let i=(0,Nn.useHistory)(),{from:n,coinId:_,txStatus:s,isShowSpeedUp:m,isShowCancel:d,isShowSpeedupCancel:p,mainCoinId:c,showCloseTransaction:f,showTxRepeatBroadcast:C,txType:T,bizData:v}=e,h=qt(_),[E,g]=(0,se.useState)(!1),[M,F]=(0,se.useState)(!1),G=Ai(c),b=vi(c),S=G&&s===B.PENDING,z=b&&s===B.PENDING,W=f||C,[k]=(0,se.useState)(b&&m),oe=T===o.RED_PACKET&&s===B.SUCCESS||T===o.RECEIVE_PACKET;(0,se.useEffect)(()=>{_i({button_appear:k?"yes":"no"})},[k]);let[X,xe]=Gi({coinId:_,address:n,chainId:h?.chainId},{ready:S});return se.default.createElement("div",{className:"tx-detail-action"},S&&!oe&&se.default.createElement(se.default.Fragment,null,se.default.createElement(ut,{isShowCancel:d,isShowSpeedUp:m&&G,isShowSpeedupCancel:p,onCancel:()=>{g(!0)},onSpeedUp:()=>{F(!0)}}),E&&se.default.createElement(Ji,{tx:e,signInfo:xe,visible:E,onConfirm:R=>{t(R),g(!1)},onClose:()=>{g(!1)}}),M&&se.default.createElement(Qi,{tx:e,loading:X,signInfo:xe,visible:M,onConfirm:R=>{t(R),F(!1)},onClose:()=>{F(!1)}})),z&&se.default.createElement(se.default.Fragment,null,W&&se.default.createElement(mn,{data:e,onRefresh:t}),k&&se.default.createElement(un,{data:e,onRefresh:t})),oe&&se.default.createElement(Tn,{onClick:()=>{T===o.RED_PACKET?i.push(`${Ci}?giftId=${v?.redPacketId}`):i.push(`${Ni}?giftId=${v?.redPacketId}&backMode=1`)}}))}var Cn=yl;r();l();var re=x(w()),ao=x(Ue()),er=x(li());r();l();var q=x(w()),hn=x(Ue());P();r();l();var lo=x(w());P();r();l();var gn=x(w()),En=x(Bo());P();Do();So();fi();var hl=e=>{let{coinId:t}=e||{},i=(0,gn.useRef)(!1),n=Li();return(0,En.useMemoizedFn)(async()=>{try{if(i.current===!0||!t)return;i.current=!0;let _=await ft().getUserUniqueId(),s={coinId:t,accountId:n,userUniqueId:_},d={headers:await ft().getSignRequestHeaders({walletId:n})},[p]=await Promise.all([Ti({coinId:t}),pt(it.postAddCoin,s,d)]);await Di(p),Ee.success(a("wallet_extension_customtoken_notification_title_token_added"))}catch{Ee.error(a("wallet_home_toast_network_error"))}finally{i.current=!1}})},In=hl;r();l();var wn={root:"_root_4qsur_1"};function Al({coinId:e,hideTxType:t}){let i=zi(),n=(0,lo.useMemo)(()=>!i||!e||!!i.some(s=>(s?.childrenCoin||[]).some(m=>m.coinId===e)||s.coinId===e),[e,i]),_=In({coinId:e});return n||t===Kt.RISKY?null:lo.default.createElement(hi.IconButton,{className:wn.root,icon:"okx-wallet-plugin-add",tooltip:{title:a("wallet_extension_customtoken_tooltips_add_token"),placement:de.DIRECTION.topLeft},onClick:_})}var yn=Al;r();l();var N={"retina-border-basic":"_retina-border-basic_1lyft_1",retinaBorderBasic:"_retina-border-basic_1lyft_1","coin-flow":"_coin-flow_1lyft_29",coinFlow:"_coin-flow_1lyft_29","coin-flow__include":"_coin-flow__include_1lyft_35",coinFlowInclude:"_coin-flow__include_1lyft_35","coin-flow__include-title":"_coin-flow__include-title_1lyft_42",coinFlowIncludeTitle:"_coin-flow__include-title_1lyft_42","coin-flow__include-item":"_coin-flow__include-item_1lyft_49",coinFlowIncludeItem:"_coin-flow__include-item_1lyft_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1lyft_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1lyft_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1lyft_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1lyft_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1lyft_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1lyft_70","coin-flow__protocol":"_coin-flow__protocol_1lyft_74",coinFlowProtocol:"_coin-flow__protocol_1lyft_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1lyft_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1lyft_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1lyft_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1lyft_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1lyft_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1lyft_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1lyft_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1lyft_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1lyft_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1lyft_109","coin-flow__hidden-label":"_coin-flow__hidden-label_1lyft_113",coinFlowHiddenLabel:"_coin-flow__hidden-label_1lyft_113","coin-flow__label-text":"_coin-flow__label-text_1lyft_113",coinFlowLabelText:"_coin-flow__label-text_1lyft_113","coin-flow__label":"_coin-flow__label_1lyft_113",coinFlowLabel:"_coin-flow__label_1lyft_113","coin-flow__label__overflow":"_coin-flow__label__overflow_1lyft_125",coinFlowLabelOverflow:"_coin-flow__label__overflow_1lyft_125","coin-flow__label__expand":"_coin-flow__label__expand_1lyft_128",coinFlowLabelExpand:"_coin-flow__label__expand_1lyft_128","coin-flow__receive":"_coin-flow__receive_1lyft_141",coinFlowReceive:"_coin-flow__receive_1lyft_141","coin-flow__record-title":"_coin-flow__record-title_1lyft_141",coinFlowRecordTitle:"_coin-flow__record-title_1lyft_141","coin-flow__record":"_coin-flow__record_1lyft_141",coinFlowRecord:"_coin-flow__record_1lyft_141","coin-flow__record-left-box":"_coin-flow__record-left-box_1lyft_152",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1lyft_152","coin-flow__record-title-box":"_coin-flow__record-title-box_1lyft_158",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1lyft_158","coin-flow__tool-tip":"_coin-flow__tool-tip_1lyft_164",coinFlowToolTip:"_coin-flow__tool-tip_1lyft_164","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1lyft_168",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1lyft_168","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1lyft_172",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1lyft_172","protocol-margin":"_protocol-margin_1lyft_188",protocolMargin:"_protocol-margin_1lyft_188","coin-flow__record-icon":"_coin-flow__record-icon_1lyft_194",coinFlowRecordIcon:"_coin-flow__record-icon_1lyft_194","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1lyft_202",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1lyft_202","coin-flow__record-right-box":"_coin-flow__record-right-box_1lyft_216",coinFlowRecordRightBox:"_coin-flow__record-right-box_1lyft_216","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1lyft_221",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1lyft_221","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1lyft_225",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1lyft_225","coin-flow__record__plus":"_coin-flow__record__plus_1lyft_232",coinFlowRecordPlus:"_coin-flow__record__plus_1lyft_232","coin-flow__pointer":"_coin-flow__pointer_1lyft_237",coinFlowPointer:"_coin-flow__pointer_1lyft_237","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1lyft_240",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1lyft_240","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1lyft_246",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1lyft_246","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1lyft_256",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1lyft_256","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1lyft_262",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1lyft_262","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1lyft_268",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1lyft_268","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1lyft_279",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1lyft_279","coin-flow__claim":"_coin-flow__claim_1lyft_284",coinFlowClaim:"_coin-flow__claim_1lyft_284","coin-flow__claim__icon":"_coin-flow__claim__icon_1lyft_288",coinFlowClaimIcon:"_coin-flow__claim__icon_1lyft_288","coin-flow__claim-info":"_coin-flow__claim-info_1lyft_291",coinFlowClaimInfo:"_coin-flow__claim-info_1lyft_291",flowRightToken:"_flowRightToken_1lyft_333",flowRightApply:"_flowRightApply_1lyft_338"};var vl=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},bl=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function Dl(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function Sl({recordData:e,isNFT:t,icon:i,title:n,subTitle:_,right:s,autoWidth:m,jumpInfo:d,hasPlus:p,isNewInclude:c,addCustomCoin:f}){let C=Si(),T=zt(),v=typeof i=="string"?q.default.createElement(Vi,{isNFT:t,className:(0,hn.default)({}),src:i,alt:""}):i;return c?q.default.createElement("div",{className:`${c?N["coin-flow__protocol"]:N["coin-flow__include"]}`},q.default.createElement("div",{className:`${N["coin-flow__include-title"]}`},a("extension_defi_card_text_include_assets")),(e?.items||[]).map(h=>q.default.createElement("div",{className:`${N["coin-flow__include-item"]}`},q.default.createElement("img",{className:`${N["coin-flow__include-item-icon"]}`,alt:"",src:h.icon}),q.default.createElement(we.AdaptiveText,{className:`${N["coin-flow__include-item-token"]}`,text:h.title,ellipsis:{tooltip:!0},autoSize:bl},h.title),h.right))):q.default.createElement(q.default.Fragment,null,q.default.createElement("div",{className:`${N["coin-flow__record"]} ${d?N["coin-flow__pointer"]:""}`,onClick:()=>{vl(d,C)}},q.default.createElement("div",{className:N["coin-flow__record-icon"]},v),q.default.createElement("div",{className:N["coin-flow__record-left-box--middle"]},q.default.createElement("div",{className:s?N["coin-flow__record-left-box--has-right"]:N["coin-flow__record-left-box"]},q.default.createElement("div",{className:`${m?N["protocol-margin"]:N["coin-flow__record-title-box"]}`},!s||m?q.default.createElement(we.AdaptiveText,{className:"coin-flow__record-title",text:n,ellipsis:{tooltip:!0},autoSize:Dl},n):q.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${N["coin-flow__record-title"]}`},n),_&&q.default.createElement("div",{className:N["coin-flow__record-sub-title"]},_)),s&&q.default.createElement("div",{className:`${N["coin-flow__record-right-box"]} ${m?"":N["coin-flow__record-halfwidth"]}`},s))),f&&q.default.createElement(yn,{...f}),d&&q.default.createElement("img",{className:N["coin-flow__record-jumpInfo-box"],src:`${T}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:"goto"})),p&&q.default.createElement(ge,{className:`${N["coin-flow__record__plus"]} okds-plus`}))}var Lt=Sl;r();l();var ne=x(w()),ko=x(Ue());P();r();l();var rt=x(w());r();l();var so={wrap:"_wrap_swpmf_1",topRight:"_topRight_swpmf_7",bottomRight:"_bottomRight_swpmf_11"};function Ll({logo:e}){let{middleLogo:t,bottomRightLogo:i,topRightLogo:n}=e||{},_,s;Array.isArray(t)?(_=t,s="normal"):t&&typeof t=="object"&&(_=t.logos,s=t.size);let m,d;Array.isArray(i)?(m=i,d="small"):i&&typeof i=="object"&&(m=i.logos,d=i.size);let p,c;Array.isArray(n)?(p=n,c="small"):n&&typeof n=="object"&&(p=n.logos,c=n.size);let f=m&&m.length>0,C=p&&p.length>0;return rt.default.createElement(rt.default.Fragment,null,rt.default.createElement(eo,{srcset:_&&_.length>0?_:[be],size:s}),(C||f)&&rt.default.createElement("div",{className:so.wrap},C&&rt.default.createElement(eo,{className:so.topRight,size:c,srcset:p}),f&&rt.default.createElement(eo,{className:so.bottomRight,size:d,srcset:m})))}var Nt=Ll;r();l();var Ge=(e,t)=>e?t?`+ ${ie(e,{symbol:t})}`:`+ ${ie(e)}`:"--",lt=(e,t)=>e?t?`- ${ie(e,{symbol:t})}`:`- ${ie(e)}`:"--";var{NFT_AUTHORIZATION:An,NFT_CANCEL_AUTHORIZATION:vn,CANCEL_NFT:Oo,AUTHORIZATION:bn,CANCEL_AUTHORIZATION:Dn,REGISTRATION:Bl,DAPP_APPLY:Sn,DAPP_REDEEM:Ln,DAPP_CLAIM:Bn,BRC20_TRADE:Fn,BRC20_SEND:Rn,BRC20_RECEIVE:Pn,BRC20_MINT:kn,BRC20_INSCRIBE:On,BRC20_DEPLOY:Un,BRC30_TRADE:Fl,EARN_BRC30_APPLY:Mn,EARN_BRC30_REDEEM:Gn,EARN_BRC30_CLAIM:Vn,EARN_BRC30_DEPLOY:Rl,BRC30_SEND:Hn,BRC30_RECEIVE:$n,BRC30_INSCRIBE:Wn,ORDINAL_NFT:Kn,ORDINAL_TEXT:Zn,MINT_NFT:Pl,BTC_NFT_BULK_RECEIVE:kl,BTC_NFT_BULK_SEND:Ol,BTC_NFT_BULK_TRADE:Ul,DEFI_MINT:Ml,DEFI_REPAY:Gl,RUNES_ETCH:Yn,RUNES_SWEEP:zn}=o,Vl="/static/images/tx-history/default-nft-detail.svg";function Hl(e){return e?Vl:be}var qe={[bn]:"wallet_extension_header_approval_title_for",[Dn]:"wallet_extension_header_approval_title_for",[Oo]:"wallet_extension_text_cancel_listing_on",[An]:"wallet_extension_approve_text_for",[vn]:"wallet_extension_approve_text_for",[Sn]:"wallet_extension_subtitle_into",[Ln]:"wallet_extension_subtitle_receive",[Bn]:"wallet_extension_subtitle_from",[Gn]:"wallet_extension_subtitle_receive",[Mn]:"wallet_extension_subtitle_into",[Vn]:"wallet_extension_subtitle_receive",[Wn]:"wallet_extension_header_redeem_title_reveive",[On]:"wallet_extension_header_redeem_title_reveive",[$n]:"extension_wallet_details_text_include",[Pn]:"extension_wallet_details_text_include",[Kn]:"extension_wallet_details_text_receive",[Zn]:"extension_wallet_details_text_receive",[Un]:"extension_wallet_details_text_receive",[kn]:"extension_wallet_details_text_receive",[Hn]:"extension_wallet_details_text_include",[Rn]:"extension_wallet_details_text_include",[Fn]:"extension_wallet_details_text_receive",[Yn]:"extension_wallet_details_text_receive",[zn]:"extension_wallet_details_text_receive",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[o.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[o.DEFI_MINT]:"extension_defi_history_header_text_receive",[o.DEFI_REPAY]:"extension_defi_history_header_text_into"},$l="/static/images/tx-history/default-protocol.svg",Bt="/static/images/tx-history/default-brcnft.svg";function Wl(e){let t=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol"),n=Object.values(o);return(0,ne.useMemo)(()=>{let{txType:_,input:s,include:m,investTxData:d,contractInfo:p,output:c,hideTxType:f}=e,{investInfo:C,investOutCoins:T}=d??{},v=()=>!s||!s.length?null:{label:a("wallet_extension_header_redeem_title_reveive"),items:s.map(({name:y,amount:A,icon:I,nftId:L,protocolName:V,coinId:U})=>(I=I||Hl(L),{isNFT:!!L,icon:I,title:Ge(A,y),right:V?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},V):null,autoWidth:!!V,addCustomCoin:{coinId:U,hideTxType:f}})),className:"coin-flow__receive"},h=()=>d?{label:a("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:d?.investInfo?.investLogo?.middleLogo[0]||be,title:d?.investInfo?.investName,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},d?.investInfo?.poolId?`ID: ${d?.investInfo?.poolId}`:"")}]}:null,E=()=>s&&s.length>0?{label:a(qe[e.txType]),items:s.map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U,protocolName:J})=>(I=I||Bt,{isNFT:!!L||V||U,icon:I,title:Ge(A,y),right:J?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},J):null,autoWidth:!!J})),className:"coin-flow__receive"}:null,g=()=>m?.length?{isNewInclude:!0,items:(m||[]).map(({name:y,amount:A,icon:I,vdecimalNum:L,nftId:V,brc20Coin:U,brc20sCoin:J,protocolName:Ce})=>({isNFT:!!V||U||J,icon:I||Bt,title:`- ${Ro(A,{fixed:L})} ${y}`,right:Ce?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},Ce):null,autoWidth:!!Ce}))}:null,M=()=>({items:(c||[]).map(({name:y,amount:A,icon:I,vdecimalNum:L,nftId:V,brc20Coin:U,brc20sCoin:J})=>({isNFT:!!V||U||J,icon:I||Bt,title:`- ${Ro(A,{fixed:L})} ${y}`}))}),F=()=>s&&s.length>0?{items:(s||[]).map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U})=>({isNFT:!!L||V||U,icon:I||Bt,title:`+ ${ie(A,{symbol:y})}`}))}:null,G=()=>({label:a(qe[e.txType]),items:[{icon:p?.icon||$l,title:p?.name||i,subTitle:e.txType!==Oo&&p?.address&&ne.default.createElement(Re,{className:N["coin-flow__record-address"],label:K(p.address),value:p.address,message:a("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}),b=()=>{let{investName:y,investLogo:A,poolId:I}=C||{},L;return{isNFT:!0,label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:A}),title:y??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I?`ID: ${I}`:""),right:L}]}},S=()=>{let{investName:y,platformName:A,investLogo:I}=C||{},L,V="",U="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN&&(V=N.flowRightToken,U=N.flowRightApply),(e.investTxData.investmentDetailType===ve.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===ve.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===ve.FARM_OTHER_TOKEN)&&T&&T.length>0){let[{tokenName:J,num:Ce}]=T;L=ne.default.createElement("div",{className:(0,ko.default)(N["coin-flow__invest-apply-right"],U)},ne.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ne.default.createElement(Dt,{text:ie(Ce),maxWidth:"85px"})),ne.default.createElement("div",{className:(0,ko.default)(N["coin-flow__invest-apply-token"],V)},J))}return{label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:I}),title:y??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},A??i),right:L}]}},z=()=>({label:a(qe[e.txType]),items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:L})=>(I=Ge(I),{icon:L??t,title:`${I} ${A}`})),className:"coin-flow__receive"}),W=()=>!T||T?.length===0?null:{label:a(qe[e.txType]),items:(T||[]).map(({tokenName:y,num:A,tokenLogo:I,tokenId:L})=>{let V=Ge(A),U=e.txStatus===B.SUCCESS&&L,J=U?`${V} ${y} #${U}`:`${V} ${y}`;return{icon:I,title:J}}),className:"coin-flow__receive"},k=()=>{let y=a(qe[e.txType]);return d?{isNFT:!0,label:y,items:(d.investInCoins||[]).map(({tokenName:A,num:I,tokenLogo:L})=>(I=Ge(I),{icon:L??t,title:`${I} ${A}`})),className:"coin-flow__receive"}:null},oe=()=>{let{platformName:y,investLogo:A,investName:I}=C||{};return{label:a(qe[e.txType]),items:[{icon:ne.default.createElement(Nt,{logo:A}),title:I??t,subTitle:ne.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},y??i)}]}},X=()=>m&&m.length>0?{isNewInclude:!0,items:(m||[]).map(({name:y,amount:A,icon:I,nftId:L,brc20Coin:V,brc20sCoin:U,protocolName:J})=>({isNFT:!!L||V||U,icon:I||Bt,title:`+ ${ie(A,{symbol:y})}`,right:J?ne.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},J):null,autoWidth:!!J,includeAssets:m}))}:null,xe=()=>null,R={[Rl]:h,[Wn]:E,[On]:E,[Kn]:E,[Zn]:E,[Un]:E,[kn]:E,[Yn]:E,[zn]:E,[$n]:X,[Pn]:X,[Fl]:E,[Fn]:E,[Hn]:g,[Rn]:g,[An]:G,[vn]:G,[Dn]:G,[bn]:G,[Oo]:G,[Mn]:b,[Sn]:S,[Gn]:z,[Ln]:W,[Vn]:k,[Bn]:oe,[Bl]:xe,[Pl]:v,[Ol]:M,[kl]:F,[Ul]:E,[Ml]:W,[Gl]:S};return R[_]?R[_]():n.includes(_)?v():null},[e])}var jn=Wl;r();l();var ae=x(w()),Ct=x(Ue());P();var Jn="/static/images/tx-history/default-nft-detail.svg",Kl="/static/images/tx-history/default-nft.svg",Xn="/static/images/tx-history/default-brcnft.svg";function qn(e){return e?Jn:be}var Pe={[o.AUTHORIZATION]:"wallet_extension_header_approval_title_approve",[o.CANCEL_AUTHORIZATION]:"wallet_extension_header_approval_title_cancel_approval",[o.CANCEL_NFT]:"wallet_extension_text_cancel_listing",[o.NFT_AUTHORIZATION]:"wallet_extension_approve_text_approve",[o.NFT_CANCEL_AUTHORIZATION]:"wallet_extension_title_revoke_approve",[o.DAPP_APPLY]:"wallet_extension_subtitle_investwith",[o.DAPP_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_DEPLOY]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_REDEEM]:"wallet_extension_subtitle_redeem_from",[o.EARN_BRC30_APPLY]:"wallet_extension_subtitle_investwith",[o.EARN_BRC30_CLAIM]:"wallet_extension_subtitle_claim",[o.BRC20_RECEIVE]:"extension_wallet_details_text_receive",[o.BRC30_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_INSCRIBE]:"extension_wallet_details_text_inscribe",[o.BRC20_DEPLOY]:"extension_wallet_details_text_send",[o.ORDINAL_NFT]:"extension_wallet_details_text_send",[o.ORDINAL_TEXT]:"extension_wallet_details_text_send",[o.BRC20_MINT]:"extension_wallet_details_text_send",[o.BRC30_TRADE]:"extension_wallet_details_text_send",[o.BRC20_TRADE]:"extension_wallet_details_text_send",[o.BRC20_SEND]:"extension_wallet_details_text_send",[o.BRC30_SEND]:"extension_wallet_details_text_send",[o.RUNES_SWEEP]:"extension_wallet_details_text_send",[o.DAPP_CLAIM]:"wallet_extension_subtitle_claimwith",[o.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[o.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[o.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[o.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[o.DEFI_REPAY]:"extension_defi_history_header_text_repay_with"};function Zl(e){let t=a("wallet_extension_history_text_unknown_token"),i=a("wallet_extension_history_text_unknown_protocol");return(0,ae.useMemo)(()=>{let{txType:n,txStatus:_,approveInfo:s,input:m,output:d,investTxData:p,poolId:c}=e,{investInCoins:f}=e.investTxData||{},C=Object.values(o),T=()=>d&&d.length>0?{label:a(Pe[n]),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:L,brc20sCoin:V,protocolName:U})=>({isNFT:!!I||L||V,icon:A||Xn,title:lt(y,R),right:U?ae.default.createElement(Ie,{className:N.protocol,size:tt.SIZE.sm},U):null,autoWidth:!!U}))}:null,v=()=>!m||!m?.length?null:{label:a("extension_wallet_details_text_receive"),className:"coin-flow__receive",items:(m||[]).map(({name:R,amount:y,icon:A,nftId:I,brc20Coin:L,brc20sCoin:V,protocolName:U})=>({isNFT:!!I||L||V,icon:A||Xn,title:Ge(y,R),right:U?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},U):null,autoWidth:!!U}))},h=()=>({label:a(Pe[n]),items:[{icon:s?.icon||be,title:s?.name||t}]}),E=()=>({label:a(Pe[n]),items:[{icon:s?.nftCollectionIcon||Kl,title:s?.nftCollectionName||a("wallet_extension_title_approve_nft_collection")}]}),g=()=>({label:a(Pe[n]),items:(d||[]).map(({nftId:R,icon:y,name:A})=>({isNFT:!!R,icon:y||Jn,title:A||a("wallet_extension_title_approve_nft")}))}),M=()=>{let{registerInfo:R}=e;return R?{label:"",items:[{icon:R?.icon||be,title:R?.name||t}],title:a("wallet_extension_title_approve_nft")}:null},F=()=>({label:a(Pe[n]),items:(f||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=lt(y),{icon:A??t,title:`${y} ${R}`}))}),G=()=>({label:a(Pe[n]),items:(f||[]).map(({tokenName:R,num:y,tokenLogo:A})=>(y=lt(y),{icon:A??t,title:`${y} ${R}`}))}),b=()=>{let{investInfo:R,redeemShowNum:y}=e.investTxData||{},{investName:A,platformName:I,investLogo:L}=R||{},V=null,U="",J="";if(!e.investTxData)return null;let Ce=e.investTxData.investmentDetailType;if((Ce==ve.FARM_LP_TOKEN||Ce==ve.FARM_OTHER_TOKEN)&&(U=N.flowRightToken,J=N.flowRightApply),y&&f&&f.length){let yo=lt(f[0]?.num);V=ae.default.createElement("div",{className:(0,Ct.default)(N["coin-flow__invest-apply-right"],J)},ae.default.createElement("div",{className:N["coin-flow__invest-apply-num"]},ae.default.createElement(we.Text,{ellipsis:{tooltip:!0},className:N["coin-flow__invest-apply-num__tooltip"]},yo)),ae.default.createElement("div",{className:(0,Ct.default)(N["coin-flow__invest-apply-token"],U)},f[0]?.tokenName))}return{label:a(Pe[n]),items:[{icon:ae.default.createElement(Nt,{logo:L}),title:A??t,right:V,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},I??i)}]}},S=()=>p?{label:a(Pe[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||be,title:p.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},p.investInfo.poolId?`ID: ${p.investInfo.poolId}`:"")}]}:null,z=()=>p?{label:a(Pe[n]),items:[{isNFT:!1,icon:p.investInfo.investLogo.middleLogo[0]||be,title:p.investInfo.investName,subTitle:ae.default.createElement("div",{className:N["coin-flow__invest-platform-name"]},c?`ID: ${c}`:"")}]}:null,W=()=>{let R;return _===B.PENDING?R=ae.default.createElement("div",{className:N["coin-flow__claim"]},a("wallet_extension_subtitle_claimwith"),ae.default.createElement(de,{title:a("wallet_extension_card_ntfy_claim_text"),placement:de.DIRECTION.bottomLeft},ae.default.createElement("span",{className:`okds-information-circle ${N["coin-flow__claim__icon"]}`}))):R=a(Pe[n]),{label:R,items:(f||[]).map(({tokenName:y,num:A,tokenLogo:I})=>(A=Ge(A),{icon:I??t,title:`${A} ${y}`,className:"coin-flow__receive"}))}},k=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:L,include:V})=>({isNFT:!!I,icon:A||qn(I),title:lt(y,R),right:L?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},L):null,autoWidth:!!L,includeAssets:V}))}:null,oe=()=>d&&d.length>0?{label:a("wallet_extension_header_redeem_title_sent"),items:(d||[]).map(({name:R,amount:y,icon:A,nftId:I,protocolName:L})=>({isNFT:!!I,icon:A||qn(I),title:lt(y,R),right:L?ae.default.createElement("div",{className:(0,Ct.default)(N.protocol)},L):null,autoWidth:!!L}))}:null,X=()=>null,xe={[o.BRC30_INSCRIBE]:T,[o.BRC20_INSCRIBE]:T,[o.BRC20_DEPLOY]:T,[o.ORDINAL_NFT]:T,[o.ORDINAL_TEXT]:T,[o.BRC20_MINT]:T,[o.BRC20_TRADE]:T,[o.BRC30_TRADE]:T,[o.BRC20_RECEIVE]:v,[o.BRC30_RECEIVE]:v,[o.RUNES_SWEEP]:T,[o.CANCEL_AUTHORIZATION]:h,[o.AUTHORIZATION]:h,[o.NFT_CANCEL_AUTHORIZATION]:E,[o.NFT_AUTHORIZATION]:E,[o.CANCEL_NFT]:g,[o.REGISTRATION]:M,[o.EARN_BRC30_APPLY]:F,[o.DAPP_APPLY]:G,[o.EARN_BRC30_REDEEM]:S,[o.DAPP_REDEEM]:b,[o.EARN_BRC30_CLAIM]:z,[o.DAPP_CLAIM]:W,[o.BTC_NFT_BULK_SEND]:X,[o.BTC_NFT_BULK_RECEIVE]:X,[o.BRC20_SEND]:k,[o.BRC30_SEND]:k,[o.DEFI_MINT]:b,[o.DEFI_REPAY]:G,default:oe};return xe[n]?xe[n]():C.includes(n)?oe():null},[e])}var Qn=Zl;function Uo({className:e,label:t,children:i}){return re.default.createElement("div",{className:(0,ao.default)(t?N["coin-flow__label"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},t),re.default.createElement("div",null,i))}function Yl({className:e,label:t,children:i,isExpand:n,setExpand:_}){return re.default.createElement("div",{className:(0,ao.default)(t?N["coin-flow__label__overflow"]:"",e)},re.default.createElement("div",{className:N["coin-flow__label-text"]},t),re.default.createElement("div",null,n?i:i.slice(0,2)),re.default.createElement(io,{className:N["coin-flow__label__expand"],side:n?io.SIDE.TOP:io.SIDE.BOTTOM,onClick:()=>{_(!n)}}))}function Mo({data:e}){let{txType:t}=e,i=Qn(e),n=jn(e),[_,s]=(0,re.useState)(!1);if(!i&&!n||t===o.CANCEL_NFT&&i.items.length===0)return null;let m=!i||!n,d=p=>{if(!p)return null;let{items:c,label:f,...C}=p,T=e?.investmentPath;return p?.isNewInclude?re.default.createElement(Uo,{...C,label:f},re.default.createElement(Lt,{recordData:p,isNewInclude:p?.isNewInclude})):t===o.DAPP_APPLY||t===o.DAPP_REDEEM?re.default.createElement(Uo,{...C,label:f},c.map((v,h)=>re.default.createElement(Lt,{jumpInfo:v.subTitle?T:void 0,...v,key:h,hasPlus:c.length>=2&&h!==c.length-1,label:f}))):c?.length>2?re.default.createElement(Yl,{...C,label:f,isExpand:_,setExpand:s},c.map((v,h)=>re.default.createElement(Lt,{...v,key:h}))):re.default.createElement(Uo,{...C,label:f},c?.map((v,h)=>re.default.createElement(Lt,{jumpInfo:v.subTitle?T:void 0,...v,key:h})))};return re.default.createElement("div",{className:(0,ao.default)(N["coin-flow"],{[N["coin-flow__hidden-label"]]:m})},d(i),d(n))}var tr=Mo;Mo.propTypes={data:er.default.object};Mo.defaultProps={data:{}};r();l();var ce=x(w()),or=x(Bo());ct();P();pi();r();l();var De=x(w());P();r();l();var _o={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function zl({address:e,network:t}){let[i,n]=(0,De.useState)(!1),[_,s]=(0,De.useState)({}),[m,d]=(0,De.useState)(""),p=Yi(()=>{d(oo.TYPE.ADD),s({address:e,network:t}),n(!0)}),c=C=>{n(!1),setTimeout(()=>{d(oo.TYPE.EDIT),s({...C,network:t}),n(!0)})},f=()=>{n(!1),s({}),d("")};return De.default.createElement(De.default.Fragment,null,De.default.createElement("div",{className:_o["tx-detail-info__add-address"]},De.default.createElement(de,{className:_o["tx-detail-info__add-address__tooltip"],title:i?null:a("wallet_extension_history_pop_tap_to_add"),type:de.TYPES.neutral,placement:de.DIRECTION.bottomRight},De.default.createElement(ge,{className:`${_o["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:p}))),De.default.createElement(oo,{visible:i,type:m,data:_,onClose:f,onChangeToEdit:c}))}var co=zl;r();l();var Se={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function jl(e,t){let i=e||[{address:t}];return[...new Set(i.map(({address:n})=>n))]}function Xl({data:e}){let{inAdrList:t,txType:i,mainCoinId:n,coinId:_,okexAccount:s,txStatus:m}=e,[,d]=Jt(_),c=Xt({coinId:+n})?.localType,[f,C]=ce.default.useState(!0),T=to(c),v=Ri(),h=jl(t,s),E=(0,or.useCreation)(()=>h.map(g=>{let M=!1,F;(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.BRC20_RECEIVE||i===o.BRC20_SEND||i===o.BRC20_INSCRIBE||i===o.BRC20_MINT||i===o.BRC20_DEPLOY||i===o.ORDINAL_NFT||i===o.ORDINAL_TEXT||i===o.BRC20_TRADE||i===o.BRC30_TRADE||i===o.RUNES_SWEEP)&&(F=T(g),M=!F),i===o.REDEEM&&m===B.SUCCESS&&(F={address:g,name:s});let b=Object.values(v).find(W=>!Oe(W[g]))?.[g],S=b?Qt(a,b,d?.symbol):a("wallet_extension_popup_title_receiving_address_copied"),z=b?a(Mt[Gt[b]]):"";return{address:g,canAdd:M,msg:S,tag:z,tag2:F}}),[t,i,T,v,d,a]);return!E||E.length===0?null:ce.default.createElement("div",{className:Se.address},ce.default.createElement("div",{className:Se["address-type"]},a("wallet_extension_mid_text_from")),E.map(g=>ce.default.createElement(ce.default.Fragment,null,ce.default.createElement("div",{className:Se["address-content"]},ce.default.createElement("div",{className:Se["address-string"]},g.address),ce.default.createElement("div",{className:Se["address-right"]},ce.default.createElement(Re,{label:g.label,value:g.address,message:g.msg}),g.canAdd&&ce.default.createElement(co,{address:g.address,network:c}))),ce.default.createElement("div",{className:Se["address-container"]},g.tag&&ce.default.createElement(Ie,{className:Se["address-tag"]},g?.tag),g?.tag2?.name&&ce.default.createElement(Ie,{className:Se["address-tag"]},g?.tag2?.name)))),ce.default.createElement("div",{className:f?Se.fold:Se.unfold,onClick:()=>{C(!f)}}))}var ir=Xl;r();l();var Ve=x(w());P();r();l();var Je={container:"_container_a2v75_1",label:"_label_a2v75_4",content:"_content_a2v75_11","user-name":"_user-name_a2v75_17",userName:"_user-name_a2v75_17",address:"_address_a2v75_24"};var ql=({data:e})=>{let{bizData:t,txType:i,from:n}=e;return Ve.default.createElement("div",{className:Je.container},Ve.default.createElement("div",{className:Je.label},Q("commonall_colheader_text_from")),Ve.default.createElement("div",{className:Je.content},Ve.default.createElement("div",{className:Je.contentLeft},Ve.default.createElement("div",{className:Je.userName},i===o.RED_PACKET?ot(t.fromTgName):ot(t.senderTgName)),i===o.RED_PACKET&&Ve.default.createElement("div",{className:Je.address},K(n))),i===o.RED_PACKET&&Ve.default.createElement("div",{className:Je["content-right"]},Ve.default.createElement(Re,{value:i===o.RED_PACKET?n:t.senderTgName}))))},nr=ql;r();l();r();l();var po=x(w());P();r();l();var st=x(w());P();r();l();var $e=x(w()),rr=x(Ue()),Ft=x(li());P();r();l();var He={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function Go({className:e,label:t,value:i,message:n,tag:_,url:s,showExplorerUrl:m}){let[d,p]=en(),c=()=>{d||(p(i),si.success({title:n||a("wallet_receive_toast_address_copied"),desc:$e.default.createElement("div",{className:He["tx-hash__message"]},i)}))},f=()=>{!m||globalThis.platform.openTab({url:s})};return $e.default.createElement("div",{className:(0,rr.default)(He["tx-hash"],e)},$e.default.createElement("div",{className:He["tx-hash__inner"]},$e.default.createElement("div",{className:He[m?"tx-hash__inner-wrap":""],onClick:f},t,_&&$e.default.createElement("div",{className:He["tx-hash__tag"]},_)),$e.default.createElement("div",{className:He["tx-hash__vertical"]}),$e.default.createElement("div",{className:He["tx-hash__icon"],onClick:c},$e.default.createElement(ge,{className:`okx-wallet-plugin-copy-1 ${He["okx-wallet-plugin-copy-1"]}`}))))}var gt=Go;Go.propTypes={label:Ft.default.any,value:Ft.default.string,message:Ft.default.string,className:Ft.default.string};Go.defaultProps={label:"",value:"",className:"",message:""};r();l();var me={records:"_records_c1ld0_1",label:"_label_c1ld0_7",expand:"_expand_c1ld0_8","expanded-icon":"_expanded-icon_c1ld0_19",expandedIcon:"_expanded-icon_c1ld0_19",record:"_record_c1ld0_1","record-left":"_record-left_c1ld0_26",recordLeft:"_record-left_c1ld0_26","record-right":"_record-right_c1ld0_27",recordRight:"_record-right_c1ld0_27","copy-icon":"_copy-icon_c1ld0_34",copyIcon:"_copy-icon_c1ld0_34",name:"_name_c1ld0_38",adress:"_adress_c1ld0_45",hash:"_hash_c1ld0_52",divder:"_divder_c1ld0_60",empty:"_empty_c1ld0_65"};var Jl=({record:e})=>{let{claimerTgName:t,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e;return st.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,className:me.record},st.default.createElement(Z.FlexBox,{direction:Z.DIRECTION.vertical,className:me.recordLeft},st.default.createElement("span",{className:me.name},ot(t)),st.default.createElement("span",{className:me.adress},K(i))),n&&st.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,justify:"flex-end",className:me.recordRight},st.default.createElement(gt,{showExplorerUrl:_,label:K(n),value:n,url:s,message:Q("wallet_extension_popup_title_transaction_hash_copied")})))},mo=Jl;var Ql=({data:e})=>{let{bizData:t,from:i,txHash:n,showExplorerUrl:_,explorerUrl:s}=e,m={claimerTgName:t.fromTgName,claimAddress:i,txHash:n,showExplorerUrl:_,explorerUrl:s};return po.default.createElement("div",{className:me.records},po.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_wallet_hash")),po.default.createElement(mo,{record:m}))},lr=Ql;r();l();var pe=x(w()),_r=x(Ue());P();r();l();var Vo=x(w()),ar=x(Ue());r();l();var sr={root:"_root_17ca3_1"};function es({className:e}){return Vo.default.createElement("div",{className:(0,ar.default)(sr.root,e)},Vo.default.createElement(mt.Circle,{size:mt.SIZE.md}))}var at=es;var ts=({data:e,isExpanded:t,onToggle:i,loading:n,noMore:_,hasExpandedBtn:s,loadingMore:m})=>{let d=(0,pe.useMemo)(()=>t?n?pe.default.createElement(at,null):e?.list.length===0?pe.default.createElement(dt.State,{className:me.empty,type:dt.State.TYPE.noRecord,title:Q("wallet_extension_gift_empty_not_claim")}):pe.default.createElement(pe.default.Fragment,null,e?.list?.map(p=>pe.default.createElement(mo,{key:p.rowId,record:p}))):null,[e,n,t]);return pe.default.createElement("div",{className:me.records},pe.default.createElement(Z.FlexBox,{justify:"space-between"},pe.default.createElement("span",{className:me.label},Q("wallet_extension_gift_subtitle_gift_hash")),s&&pe.default.createElement("span",{className:me.expand,onClick:i},Q("wallet_extension_btn_general_show"),pe.default.createElement(ge,{className:(0,_r.default)("okx-wallet-plugin-add-arrow-chevrons",t&&me.expandedIcon)}))),d,!_&&m&&pe.default.createElement(at,null))},cr=ts;var Ho={Receive:cr,Create:lr};r();l();var ye=x(w());P();r();l();var We={container:"_container_1ezsj_1",label:"_label_1ezsj_4",content:"_content_1ezsj_11","content-left":"_content-left_1ezsj_17",contentLeft:"_content-left_1ezsj_17","user-name":"_user-name_1ezsj_21",userName:"_user-name_1ezsj_21",address:"_address_1ezsj_28"};var os=({data:e})=>{let{bizData:t,txType:i,to:n}=e,_=t?.addressToTgNames?t.addressToTgNames[n]:"";return ye.default.createElement("div",{className:We.container},ye.default.createElement("div",{className:We.label},Q("commonall_colheader_text_to")),ye.default.createElement("div",{className:We.content},ye.default.createElement("div",{className:We.contentLeft},i===o.RED_PACKET?ye.default.createElement("div",{className:We.userName},Q("wallet_extension_gift_your_telegram_contact")):ye.default.createElement(ye.default.Fragment,null,ye.default.createElement("div",{className:We.userName},ot(_)),ye.default.createElement("div",{className:We.address},K(n)))),i===o.RECEIVE_PACKET&&ye.default.createElement("div",{className:We["content-right"]},ye.default.createElement(Re,{value:n}))))},mr=os;r();l();var _e=x(w());r();l();var dr={loaderContainer:"_loaderContainer_1dvk5_1"};var is=()=>_e.default.createElement(Z.Space,{space:54,direction:Z.DIRECTION.vertical,className:dr.loaderContainer},_e.default.createElement(Z.Space,{space:30,direction:Z.DIRECTION.vertical},_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"178px",height:"32px"}})),_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"178px",height:"32px"}}))),_e.default.createElement(Z.Space,{space:30,direction:Z.DIRECTION.vertical},_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"250px",height:"32px"}})),_e.default.createElement(Z.Space,{space:12,direction:Z.DIRECTION.vertical},_e.default.createElement(Me.Input,{active:!0,style:{width:"45px",height:"12px"}}),_e.default.createElement(Me.Input,{active:!0,style:{width:"250px",height:"32px"}})))),pr=is;r();l();var fe=x(w());P();pi();r();l();var Qe={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};function ns({data:e}){let{to:t,txType:i,contractInfo:n,mainCoinId:_,coinId:s}=e,[,m]=Jt(s),p=Xt({coinId:+_})?.localType,c=to(p),f=Pi(p),{label:C,toAddress:T,msg:v,tags:h,canAdd:E}=(0,fe.useMemo)(()=>{let g,M,F=!1,G=[];if(i===o.TRANS_IN||i===o.TRANS_OUT||i===o.SEND_NFT||i===o.RECEIVE_NFT||i===o.REDEEM||[o.BRC20_INSCRIBE,o.BRC20_MINT,o.ORDINAL_NFT,o.ORDINAL_TEXT,o.BRC20_DEPLOY,o.BRC20_RECEIVE,o.BRC20_SEND,o.BRC20_TRADE,o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY,o.BRC30_SEND,o.BRC30_RECEIVE,o.EARN_BRC30_CLAIM,o.BRC30_INSCRIBE,o.BRC30_TRADE,o.RUNES_SWEEP].includes(i)){let W=c(t);F=!W,g=a("wallet_extension_mid_text_to"),W?.name&&G.push(W.name);let k=xt(e);k&&G.push(k),M=t}else{let{address:W,name:k}=n||{};g=i===o.REGISTRATION?a("wallet_extension_item_register_address"):a("wallet_extension_mid_text_interaction_address"),G.push(k),i===o.AUTHORIZATION||i===o.CANCEL_AUTHORIZATION||i===o.NFT_AUTHORIZATION||i===o.NFT_CANCEL_AUTHORIZATION?M=t:M=W}let b=f[M],S=b?a(Mt[Gt[b]]):"",z=b?Qt(a,b,m?.symbol):a("wallet_extension_popup_title_receiving_address_copied");return G.unshift(S),{label:g,toAddress:M,tags:G,canAdd:F,msg:z}},[i,f,c,t,a,n]);return i===o.ZK_REGISTER||!T?null:fe.default.createElement(fe.default.Fragment,null,fe.default.createElement("div",{className:Qe["address-to"]},fe.default.createElement("div",{className:Qe["address-type"]},C),fe.default.createElement("div",{className:Qe["address-content"]},fe.default.createElement("div",{className:Qe["address-string"]},T),fe.default.createElement("div",{className:Qe["address-right"]},fe.default.createElement(Re,{value:T,message:v}),E&&fe.default.createElement(co,{address:T,network:p}))),fe.default.createElement("div",{className:Qe["address-container"]},h.map(g=>g&&fe.default.createElement(Ie,{className:Qe["tx-clipboard__tag"]},g)))))}var fr=ns;r();l();var $=x(w()),Lr=x(Fe());ct();P();ho();r();l();var fo=x(w());P();function rs(e){let{txType:t,approveInfo:i}=e,{amount:n,decimalNum:_}=i||{},s=(0,fo.useMemo)(()=>n==="115792089237316195423570985008687907853269984665640564039457584007913129639935"?a("wallet_extension_mid_text_unlimited"):ie(n,{decimals:_}),[n]);return t!==o.AUTHORIZATION?null:fo.default.createElement(ee,{label:a("wallet_extension_mid_text_approved_amount"),value:s})}var ur=rs;r();l();var xr=x(w());P();ho();function ls({txType:e,mainCoinId:t,confirmedCount:i}){return e===o.ZK_REGISTER&&t===ht?null:xr.default.createElement(ee,{label:a("wallet_extension_mid_text_block_confirmation"),value:i})}var Tr=ls;r();l();var uo=x(w());P();r();l();var Nr=x(w());dl();function $o(){let e=Ui(),t=Oi();return(0,Nr.useCallback)(i=>{try{let n=i??`type: ${String(i)}`;Jo.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:n,coinIdType:typeof i,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:i!=null?t?.[i]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(n)}]},level:"info"})}catch(n){console.log(n)}},[e,t])}function ss({mainCoinId:e}){let{coin:t}=je(e,!1),i=$o();return(0,uo.useEffect)(()=>{setTimeout(()=>{t?.coinId||i(e)},1500)},[t,e,i]),uo.default.createElement(ee,{label:a("wallet_extension_mid_text_network"),value:t.chainName})}var Cr=ss;r();l();var Pt=x(w()),Er=x(Fe());P();ho();vo();r();l();var Rt=x(w());P();var as=()=>Rt.default.createElement(Z.FlexBox,{align:Z.ALIGN.center,style:{gap:4}},Q("wallet_extension_gift_title_network_fee_pre"),Rt.default.createElement(ge,{style:{cursor:"pointer"},className:"okx-wallet-plugin-information-circle",a11yText:Q("wallet_extension_gift_dialog_title_network_fee_pre"),onClick:()=>{let e=Ne.tip({infoType:Ne.Tip.INFO_TYPE.default,title:Q("wallet_extension_gift_dialog_title_network_fee_pre"),children:Rt.default.createElement(we.Text,{type:we.TYPE.secondary,size:we.SIZE.sm,style:{lineHeight:"22px"}},Q("wallet_extension_gift_dialog_desc_explain_fee",{history:Rt.default.createElement(we.Text,{size:we.SIZE.sm},Q("wallet_extension_gift_dialog_icu_explain_fee"))})),confirmText:Q("commonall_text_btn_ok_active"),onConfirm:()=>{e.destroy()}})}})),gr=as;var _s=[ht,oi];function cs(e,t){let i;return e===o.RED_PACKET?i=Pt.default.createElement(gr,null):t?i=a("wallet_extension_sui_desc_network_fee_refund"):i=a("wallet_extension_mid_text_network_fee"),i}function ms({mainCoinId:e,txStatus:t,feeRebate:i,feeRebateUsd:n,serviceCharge:_,chainSymbol:s,serviceChargeUsd:m,feeName:d,feeDecimalNum:p,txType:c,bizData:f}){let C=_s.includes(e),{coin:T}=je(e,!1),v=(0,Er.useSelector)(Wt),h,E;if(c===o.DAPP_UNISAT||c===o.ZK_REGISTER&&e===ht||c===o.RECEIVE_PACKET)return null;C?(h=p,E=d):(h=T.decimals,E=s);let g=0,M="";c===o.RED_PACKET?(g=f.prepaidGasFee||0,M=f.prepaidGasFeeFiatValue||""):g=i||_||0;let F=ie(g,{symbol:E,decimals:h||0});if(c===o.RED_PACKET)F+=` (${M})`;else if(t!==B.PENDING){let b=n||m,{usdToThisRate:S}=v,z=Ot(b,S);F+=` (${yi(z,{useApproximate:!1,symbol:v.symbol})})`}let G=cs(c,i);return Pt.default.createElement(Pt.default.Fragment,null,Pt.default.createElement(ee,{label:G,value:F}))}var Ir=ms;r();l();var wr=x(w());P();function ds({txType:e,investTxData:t}){if(!t||!t.lpTokenInfo||[ve.FARM_LP_TOKEN,ve.FARM_OTHER_TOKEN].includes(t?.investmentDetailType))return null;let i;if(e===o.DAPP_APPLY?i="wallet_extension_info_receive":e===o.DAPP_REDEEM&&(i="wallet_extension_info_pay"),!i)return null;let{num:n,tokenName:_}=t.lpTokenInfo;return wr.default.createElement(ee,{label:a(i),value:ie(n,{symbol:_})})}var yr=ds;r();l();var br=x(w());P();r();l();ct();P();var ps="okx-wallet-plugin-lock-1",fs="okx-wallet-plugin-enrollment",hr=(e={})=>{let{txType:t,assetChange:i=[],poolLogo:n}=e;if(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION||t===o.DAPP_NFT||t===o.CONTRACTCALL||t===o.CANCEL_NFT||t===o.NFT_CANCEL_AUTHORIZATION)return[e.contractIcon||Po(e)];if(t===o.NFT_AUTHORIZATION)return[e.contractIcon||ps];if(t===o.ZK_REGISTER)return[fs];if(t===o.EARN_BRC30_DEPLOY)return[n];let _=i.map(s=>{let{coinImgUrl:m}=s||{};return m||sn(s,e)});return _.reverse(),_.length===0?[Po(e)]:_},xo=(e={})=>{let{txType:t,approveSymbol:i,nftCollectionName:n}=e;return ro(t,{symbol:i,collection:n},e)};function us(e){let t=xt(e)||K(e.to);return`${a("wallet_extension_history_list_send_to")}   ${t}`}function xs(e){let t=K(e.from);return`${a("wallet_extension_history_list_receive_from")}   ${t}`}function Ts(e){return e.contractName||K(e.to)}function Ns(e){return K(e.from)}function Cs(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function gs(e){return K(e.from)}function Es(e){return`${a("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function Is(e){let{contractName:t,contractAddress:i}=e;return t||K(i)||""}function ws(e,t){return[o.TRANS_OUT,o.SEND_NFT,o.BRC20_SEND,o.BRC20_RECEIVE,o.BRC30_TRADE,o.BRC30_SEND].includes(e)?us(t):[o.TRANS_IN,o.RECEIVE_NFT,o.BRC30_RECEIVE].includes(e)?xs(t):e===o.CANCEL_NFT?Ts(t):e===o.ZK_REGISTER?Ns(t):[o.EARN_BRC30_APPLY,o.EARN_BRC30_REDEEM,o.EARN_BRC30_CLAIM,o.EARN_BRC30_DEPLOY].includes(e)?Cs(t):e===o.BRC30_INSCRIBE?gs(t):e===o.REDEEM?Es(t):Is(t)}var Ar=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:_}=e,s=ws(n,e);if(s&&i.push(s),_===B.PENDING){let m=Ye(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(m)}return i},vr=(e={})=>{let{assetChange:t=[],txType:i,repeatTxType:n,coinId:_}=e,{baseCoin:s}=je(_,!0),m=jt(s.coinId);return t.map(p=>{let{direction:c,coinAmount:f,coinSymbol:C}=p||{};if(Oe(f))return null;let T=null;return(f!=="0"||m&&(i===o.TRANS_IN||i===o.TRANS_OUT)&&n!==j.CANCELING&&n!==j.SPEEDING_CANCEL)&&(T=ie(f)),i===o.CANCEL_NFT?{coinAmount:"",symbol:C}:{direction:c,coinAmount:T,symbol:C}}).filter(Boolean)};function ys(e){let{txType:t}=e,i=xo(e);return t===o.ZK_REGISTER&&(i=a("wallet_extension_history_text_change_pubkey")),br.default.createElement(ee,{label:a("wallet_extension_info_text_type"),value:i})}var Dr=ys;r();l();var Sr={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function hs({memo:e,mainCoinId:t}){return Oe(e)?null:$.default.createElement(ee,{label:t===ii?a("wallet_extension_import_desc_comment"):a("wallet_extension_text_memocontent"),value:$.default.createElement(Dt,{text:e||"--",maxWidth:"260px"})})}function As({mev:e}){return Oe(e)?null:$.default.createElement(ee,{label:a("wallet_extension_ton_order_header_mev"),value:$.default.createElement(Dt,{text:e||"--",maxWidth:"260px"})})}function vs({data:e}){let t=(0,Lr.useSelector)($t),{txTime:i,txHash:n,investTxData:_,txHash1:s,txHash2:m,explorerUrl:d,explorerUrl1:p,explorerUrl2:c,showExplorerUrl:f,txType:C}=e,T=C===o.RED_PACKET||C===o.RECEIVE_PACKET;return $.default.createElement("div",{className:Sr["tx-detail-info"]},$.default.createElement(ee,{label:a("wallet_extension_mid_text_time"),value:Ye(i,{format:"yyyyMMddHHmmss",locale:t})}),$.default.createElement(Dr,{...e}),$.default.createElement(yr,{...e}),$.default.createElement(Ir,{...e}),$.default.createElement(Cr,{...e}),!T&&$.default.createElement($.default.Fragment,null,!s&&n&&$.default.createElement(ee,{label:a("wallet_extension_mid_text_transaction_hash"),value:$.default.createElement(gt,{showExplorerUrl:f,label:K(n),value:n,url:d,message:a("wallet_extension_popup_title_transaction_hash_copied")})}),s&&$.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash1"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(gt,{showExplorerUrl:f,label:K(s),value:s,url:p,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),m&&$.default.createElement(ee,{label:a("extension_wallet_details_item_transaction_hash2"),value:$.default.createElement($.default.Fragment,null,$.default.createElement(gt,{showExplorerUrl:f,label:K(m),value:m,url:c,message:a("wallet_extension_popup_title_transaction_hash_copied")}))}),$.default.createElement(Tr,{...e}),_?.validateName&&$.default.createElement(ee,{label:a("extension_wallet_history_text_validator"),value:K(_?.validateName)}),$.default.createElement(ur,{...e}),$.default.createElement(As,{...e}),$.default.createElement(hs,{...e})))}var Br=vs;r();l();var Ke={"retina-border-basic":"_retina-border-basic_khfbo_1",retinaBorderBasic:"_retina-border-basic_khfbo_1","tx-detail":"_tx-detail_khfbo_29",txDetail:"_tx-detail_khfbo_29","metax-ok-navigator":"_metax-ok-navigator_khfbo_35",metaxOkNavigator:"_metax-ok-navigator_khfbo_35","tx-detail__inner":"_tx-detail__inner_khfbo_41",txDetailInner:"_tx-detail__inner_khfbo_41","tx-detail__underline":"_tx-detail__underline_khfbo_45",txDetailUnderline:"_tx-detail__underline_khfbo_45","tx-detail__loading":"_tx-detail__loading_khfbo_80",txDetailLoading:"_tx-detail__loading_khfbo_80"};r();l();var _t=x(w()),Fr=x(Ue());P();r();l();var Et={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var bs={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},Ds={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function Ss({className:e,data:t}){if(!t)return _t.default.createElement(_t.default.Fragment,null);let{txStatus:i,isShowPending:n,repeatTxType:_}=t,s="";i===B.CONFIRMING||i===B.SUCCESS?i===B.SUCCESS&&_===j.SPEEDING_CANCEL||_===j.CANCELING?s="tx-detail-canceled":s="tx-detail-completed":i===B.PENDING?(n&&_===j.CONFIRMING&&(s="tx-detail-pending"),!n&&_===j.CONFIRMING&&(s="tx-detail-waiting"),_===j.SPEEDING&&(s="tx-detail-speeding"),_===j.CANCELING&&(s="tx-detail-canceling"),_===j.SPEEDING_CANCEL&&(s="tx-detail-speedingcancel")):i===B.ERROR?s="tx-detail-failed":i===B.WITHDRAWING&&(s="tx-detail-withdraw");let m=Ds[s]||"";return _t.default.createElement("div",{className:(0,Fr.default)(Et["tx-detail-status"],{[Et["tx-detail-failed"]]:s==="tx-detail-failed"},e)},_t.default.createElement(ge,{className:`${Et["tx-detail-icon"]} ${m}`}),!m&&_t.default.createElement(mt.Circle,{size:mt.SIZE.md,className:Et["tx-detail-loading"],loaderClassName:Et["tx-detail-loader"]}),_t.default.createElement("div",null,a(bs[s])))}var Rr=Ss;r();l();function Bs({params:e,onRefresh:t,onClose:i,visible:n}){let _=(0,D.useRef)(""),s=(0,D.useRef)(null),m=(0,D.useRef)(null),[d,p]=(0,D.useState)(!1),[c,f]=(0,D.useState)(),[C,T]=(0,D.useState)(!1),v=()=>{if(!e)return;let{coinId:S,address:z,orderType:W,orderId:k}=e;T(!0),xi({coinId:S,txId:_.current,address:z,orderType:W,orderId:k}).then(oe=>{if(e&&!Qo(oe)){let X={};try{oe.bizData&&(X=JSON.parse(oe.bizData))}catch(xe){console.error(xe)}f({...oe,address:z,bizData:X})}}).catch(oe=>{console.log(oe)}).finally(()=>{T(!1)})};(0,D.useEffect)(()=>{e?(_.current=e.txId,v(),s.current=v):(_.current="",f(null))},[e]);let h=()=>{s.current&&_.current&&s.current()},E=bt("wallet-transaction"),g=bt("wallet-tx-confirm",{onError:h,pollingInterval:10*1e3});(0,D.useEffect)(()=>{(E&&c?.orderTxIdList?.includes(E.data?.txId)||g&&g.data?.txId===_.current&&g.data?.confirmedCount<=g.data?.totalConfirm)&&v()},[E,g]);let{data:M,loading:F,noMore:G,loadingMore:b}=(0,Pr.useInfiniteScroll)(async S=>{if(d&&c?.bizData){let{bizData:z,txType:W,to:k}=c||{},oe;if(W===o.RECEIVE_PACKET){if(!z?.addressAndTgIds?.[k])return null;oe=z?.addressAndTgIds?.[k]}let{data:X}=await _n({redPacketId:z?.redPacketId,claimerTgId:oe,type:W===o.RED_PACKET?1:2,lastRowId:S?.lastRowId||0,limit:10});return{list:X.claimInfos,lastRowId:X.claimInfos[X.claimInfos.length-1]?.rowId||0,hasNext:X.hasNext}}return null},{target:m.current,isNoMore:S=>!S?.hasNext,reloadDeps:[d,c]});return(0,D.useEffect)(()=>{c?.txType===o.RECEIVE_PACKET?p(!0):p(!1)},[c]),D.default.createElement(Ne.Action,{isFull:!0,titleCenter:!0,visible:n,onClose:i,title:c?D.default.createElement(Rr,{data:c,className:Ke["tx-detail__status"]}):D.default.createElement(D.default.Fragment,null),renderContent:()=>D.default.createElement("div",{className:Ke["tx-detail"],ref:m},c&&!C&&D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:Ke["tx-detail__underline"]}),D.default.createElement(tn,{message:c.failReason}),D.default.createElement("div",{className:Ke["tx-detail__inner"]},D.default.createElement(tr,{data:c})," ",D.default.createElement("div",{className:Ke["tx-detail__underline"]}),c.txType===o.RED_PACKET||c.txType===o.RECEIVE_PACKET?D.default.createElement(D.default.Fragment,null,D.default.createElement(nr,{data:c}),D.default.createElement(mr,{data:c})):D.default.createElement(D.default.Fragment,null,D.default.createElement(ir,{data:c}),D.default.createElement(fr,{data:c})),D.default.createElement("div",{className:Ke["tx-detail__underline"]}),D.default.createElement(Br,{data:c}),D.default.createElement("div",{className:Ke["tx-detail__underline"]}),c.txType===o.RED_PACKET&&D.default.createElement(D.default.Fragment,null,D.default.createElement(Ho.Create,{data:c}),D.default.createElement("div",{className:Ke["tx-detail__underline"]})),(c.txType===o.RED_PACKET||c.txType===o.RECEIVE_PACKET)&&D.default.createElement(Ho.Receive,{info:c,data:M,isExpanded:d,loading:F,noMore:G,hasExpandedBtn:c.txType===o.RED_PACKET,onToggle:()=>{p(!d)},loadingMore:b}),D.default.createElement(Cn,{data:c,onRefresh:S=>{_.current=S,v(),t&&t()}}))),C&&D.default.createElement(pr,null))})}var Wo=Bs;r();l();r();l();var Co=x(w());r();l();var ke=x(w()),kr=x(Fe()),Or=x(Lo());r();l();P();function Fs(e,t,i){if(e===B.PENDING&&!t)return a("wallet_extension_history_list_status_waiting");if(e===B.PENDING&&t){if(i===j.CONFIRMING)return"";if(i===j.SPEEDING)return a("wallet_extension_send_status_speedingup");if(i===j.CANCELING)return a("wallet_extension_send_status_canceling");if(i===j.SPEEDING_CANCEL)return a("wallet_extension_send_status_canceling")}return""}var To=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===B.SUCCESS&&(n===j.CANCELING||n===j.SPEEDING_CANCEL)?a("wallet_extension_send_status_canceled"):t===B.CONFIRMING||t===B.SUCCESS?"":t===B.ERROR?a("wallet_extension_history_status_failed"):t===B.WITHDRAWING?a("wallet_extension_status_tag_withdraw"):Fs(t,i,n)},No=(e={})=>{let{txStatus:t,isShowPending:i,repeatTxType:n}=e;return t===B.SUCCESS&&(n===j.CANCELING||n===j.SPEEDING_CANCEL)?vt.CANCELED:t===B.CONFIRMING||t===B.SUCCESS?"":t===B.ERROR?vt.FAILED:t===B.PENDING&&!i?vt.WAITING:vt.PENDING};var Rs=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,Or.useHistory)(),_=(0,kr.useSelector)(Ht),s=hr(e),m=vr(e),d=xo(e),p=Ar(e,_),c=No(e),f=To(e),C=ln(e),T=an(e),v=no(p,m),h=ke.default.createElement(O.Label,{className:"tx-history-ml4",type:c,text:f,data:e}),E=e?.dexOrderId;return ke.default.createElement(O.ItemContainer,{onClick:()=>{E&&n.push(`${Vt}/${e.dexOrderId}`),t()}},ke.default.createElement(O.Row,{assets:m,align:v},ke.default.createElement(O.Info,{icons:s,title:d,details:p,label:h,data:e}),ke.default.createElement(O.Assets,{assets:m,isValuelessNftTxType:T})),C&&ke.default.createElement(O.NFTs,{data:e}),!E&&ke.default.createElement(O.Actions,{data:e,onRepeat:i}))},Ur=(0,ke.memo)(Rs);var Ps=({data:e={},onClick:t,onRepeat:i})=>Co.default.createElement(Ur,{data:e,onClick:t,onRepeat:i}),It=(0,Co.memo)(Ps);r();l();var te=x(w()),kt=x(Fe());P();r();l();var wt=x(w());var ks=({date:e,list:t,onClick:i})=>wt.default.createElement(O.List,null,wt.default.createElement(O.Date,null,e),t.map((n,_)=>wt.default.createElement(It,{data:n,key:_,onClick:()=>{i(n)}}))),Mr=(0,wt.memo)(ks);r();l();var Eo=x(w());r();l();var go=x(w());P();r();l();var Gr={dialogContainer:"_dialogContainer_1av5q_1"};var Vr=({onClose:e,visible:t,onClick:i,options:n})=>{let _=(s,m)=>{let{label:d,image:p}=s||{};return go.default.createElement(Fo.Coin,{symbol:d,icon:p,keyword:m,onClick:()=>{i(s)}})};return go.default.createElement(Ne,{isFull:!0,onClose:e,visible:t,title:a("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:Gr.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},go.default.createElement(Fo,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:a("wallet_extension_input_search_network")},dataSource:n,renderItem:_,emptyText:a("wallet_extension_text_noresults")}))};var Ko=({visible:e,setVisible:t,handleSelectNetwork:i,options:n,children:_})=>Eo.default.createElement(Eo.default.Fragment,null,_,Eo.default.createElement(Vr,{visible:e,onClose:()=>t(!1),onClick:i,options:n}));r();l();var Kr=x(w()),Zr=x(Fe());r();l();var Hr=x(w()),$r=x(Fe());var Wr=(e="coinId")=>{let t=(0,$r.useSelector)(bi),[i]=ui(t);return{options:(0,Hr.useMemo)(()=>(i||[]).map(_=>{let{chainName:s}=_;return{label:s,value:_[e],..._}}),[t])}};var Yr=({explorerUrl:e})=>{let[t,i]=Kr.default.useState(!1),n=(0,Zr.useSelector)(Zt),{account:_}=Bi(),{options:s}=Wr(),m=n?.chainId;return{visible:t,setVisible:i,gotoExplore:()=>{if(m==="")i(!0);else{let c=s.find(T=>T.chainId===m),f=c?.localType,C=c?.coinId;globalThis.open(`${e?.[C]}${_?.[f]}`)}},handleSelectNetwork:c=>{let f=c.coinId;i(!1),globalThis.open(`${e?.[f]}${_?.[c.localType]}`)},options:s}};r();l();var Zo={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var Os=({pendingList:e,completedList:t,isLoading:i,onRepeat:n,onClick:_,onContainer:s,explorerUrl:m})=>{let d=(0,kt.useSelector)(Yt),p=(0,kt.useSelector)(wi),{init:c}=(0,kt.useSelector)(Zt),f=(0,kt.useSelector)(Ii),[C,T]=(0,te.useState)({}),[v,h]=(0,te.useState)(0),{visible:E,setVisible:g,gotoExplore:M,handleSelectNetwork:F,options:G}=Yr({explorerUrl:m});return p?te.default.createElement(O.Loading,{top:160}):i||!e?null:!i&&e.length===0&&t.length===0?te.default.createElement(Ko,{visible:E,setVisible:g,handleSelectNetwork:F,options:G},te.default.createElement(O.Empty,{top:72,onButtonClick:M,buttonText:a("wallet_extension_history_btn_check_in_explorer"),description:c?a("wallet_extension_history_emptystate_no_transactions_day",{num:gi}):a("commonall_emptystate_text_no_records")})):te.default.createElement(O.ListContainer,{onContainer:s,className:"tx-history-extra"},te.default.createElement(O.Dialogs,{data:C,type:v,onConfirm:()=>{T({}),h(0),n()},onCancel:()=>{h(0)}}),e.length>0?te.default.createElement(te.default.Fragment,null,te.default.createElement(O.PendingTag,null),te.default.createElement("div",{className:Zo.list},e.map((b,S)=>te.default.createElement(It,{data:b,key:S,onClick:()=>{_(b)},onRepeat:z=>{T(b),h(z)}})))):null,t.map(({date:b,list:S},z)=>te.default.createElement(Mr,{date:b,list:S,key:z,onClick:_})),!f&&te.default.createElement(Ko,{visible:E,setVisible:g,handleSelectNetwork:F,options:G},te.default.createElement(ze,{category:ze.CATEGORY.fill,type:ze.TYPE.gray,size:ze.SIZE.md,className:Zo.explore,onClick:M},a("wallet_extension_history_btn_check_in_explorer"))),d&&te.default.createElement(at,null))},zr=(0,te.memo)(Os);var Us={VirtualItem:It,HistoryList:zr};r();l();r();l();r();l();var ue=x(w()),zo=x(Fe()),ll=x(Lo());P();r();l();var et=x(w());r();l();var Io=x(w());r();l();var Ze=x(w()),tl=x(Fe());r();l();P();var Ms="okx-wallet-plugin-report-centre",jr="okx-wallet-plugin-pointer-up",Xr="okx-wallet-plugin-pointer-down",Gs="okx-wallet-plugin-lock-1",Vs="okx-wallet-plugin-swap-1",Hs="okx-wallet-plugin-mint-nft",$s="okx-wallet-plugin-report-centre",Ws="okx-wallet-plugin-supply",Ks="okx-wallet-plugin-claim",Zs="okx-wallet-plugin-enrollment",Ys="okx-wallet-plugin-mint",zs="okx-wallet-plugin-mint",js="okx-wallet-plugin-coin-inscribe-brc20",Xs="okx-wallet-plugin-pointer-down",qs="okx-wallet-plugin-pointer-up",Js="okx-wallet-plugin-quick",qr=(e={})=>{let{txType:t}=e,i=[];return t===o.TRANS_OUT&&i.push(jr),t===o.PERPETUAIL&&i.push(Xs),t===o.WITHDRAW&&i.push(qs),t===o.QUICK_WITHDRAW&&i.push(Js),t===o.TRANS_IN&&i.push(Xr),(t===o.AUTHORIZATION||t===o.CANCEL_AUTHORIZATION)&&i.push(Gs),(t===o.SWAP||t===o.BUY_NFT||t===o.SELL_NFT||t===o.GAS_STATION||t===o.DEX_CROSS_CHAIN_SWAP||t===o.BRC20_TRADE||t===o.BRC30_TRADE||t===o.RUNES_SWEEP)&&i.push(Vs),t===o.MINT_NFT&&i.push(Hs),(t===o.CONTRACTCALL||t===o.DAPP_NFT)&&i.push($s),t===o.DAPP_APPLY&&i.push(Ws),(t===o.DAPP_REDEEM||t===o.DAPP_CLAIM||t===o.EARN_BRC30_CLAIM||t===o.EARN_BRC30_APPLY||t===o.EARN_BRC30_REDEEM)&&i.push(Ks),(t===o.REGISTRATION||t===o.ZK_REGISTER)&&i.push(Zs),(t===o.BRC20_RECEIVE||t===o.BRC30_RECEIVE||t===o.DEFI_MINT)&&i.push(Xr),(t===o.BRC20_INSCRIBE||t===o.BRC30_INSCRIBE)&&i.push(js),(t===o.BRC20_MINT||t===o.ORDINAL_NFT||t===o.ORDINAL_TEXT||t===o.BRC20_DEPLOY)&&i.push(Ys),(t===o.BRC20_SEND||t===o.BRC30_SEND||t===o.DEFI_REPAY)&&i.push(jr),t===o.EARN_BRC30_DEPLOY&&i.push(zs),i.length||i.push(Ms),i},Jr=(e={})=>{let{txType:t,coinSymbol:i}=e;return ro(t,{symbol:i},e)},Qr=(e={},t="en-US")=>{let i=[],{txType:n,txStatus:_}=e;if(n===o.TRANS_OUT||n===o.SEND_NFT||n===o.BRC20_SEND||n===o.BRC20_TRADE||n===o.BRC30_SEND||n===o.RUNES_SWEEP){let s=xt(e)||K(e.to),m=`${a("wallet_extension_history_list_send_to")}  ${s}`;i.push(m)}else if(n===o.TRANS_IN||n===o.RECEIVE_NFT||n===o.BRC20_RECEIVE||n===o.BRC20_MINT||n===o.ORDINAL_NFT||n===o.ORDINAL_TEXT||n===o.BRC20_INSCRIBE||n===o.BRC20_DEPLOY||n===o.BRC30_RECEIVE||n===o.RUNES_ETCH){let s=K(e.from),m=`${a("wallet_extension_history_list_receive_from")}   ${s}`;i.push(m)}else if(n===o.BRC30_INSCRIBE){let s=K(e.to);i.push(s)}else if(n===o.ZK_REGISTER)i.push(K(e.from));else{let{contractName:s,contractAddress:m}=e,d=s||K(m)||"";i.push(d)}if(_===B.PENDING){let s=Ye(e.txTime,{format:"yyyyMMddHHmmss",locale:t});i.push(s)}return i},el=(e={})=>{let t=[],{direction:i,coinAmount:n,coinSymbol:_,txType:s,repeatTxType:m,coinId:d}=e,{baseCoin:p}=je(d,!0),c=jt(p.coinId);if(s===o.AUTHORIZATION||s===o.CANCEL_AUTHORIZATION||s===o.REGISTRATION)return t;let f=null;return(n!=="0"||c&&(s===o.TRANS_IN||s===o.TRANS_OUT)&&m!==j.CANCELING&&m!==j.SPEEDING_CANCEL)&&(f=ie(n)),t.push({direction:i,coinAmount:f,symbol:_}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var Qs=({data:e={},onClick:t,onRepeat:i})=>{let n=(0,tl.useSelector)(Ht),_=qr(e),s=Jr(e),m=Qr(e,n),d=el(e),p=no(m,d),c=No(e),f=To(e),C=Ze.default.createElement(O.Label,{className:"tx-history-ml4",type:c,text:f,data:e});return Ze.default.createElement(O.ItemContainer,{onClick:t},Ze.default.createElement(O.Row,{assets:d,align:p},Ze.default.createElement(O.Info,{icons:_,title:s,details:m,label:C,data:e}),Ze.default.createElement(O.CoinAssets,{assets:d})),Ze.default.createElement(O.Actions,{data:e,onRepeat:i}))},ol=(0,Ze.memo)(Qs);var ea=({data:e={},onRepeat:t,onClick:i})=>Io.default.createElement(ol,{data:e,onClick:i,onRepeat:t}),wo=(0,Io.memo)(ea);var ta=({completedList:e,onClick:t})=>et.default.createElement(et.default.Fragment,null,e.map(({date:i,list:n},_)=>et.default.createElement(O.List,{key:_},et.default.createElement(O.Date,null,i),n.map((s,m)=>et.default.createElement(wo,{data:s,key:m,onClick:()=>{t(s)}}))))),il=(0,et.memo)(ta);r();l();var Le=x(w());r();l();var nl={root:"_root_1otry_1"};var oa=({pendingList:e,onRepeat:t,onClick:i})=>{let[n,_]=(0,Le.useState)({}),[s,m]=(0,Le.useState)(0);return e.length===0?null:Le.default.createElement(Le.default.Fragment,null,Le.default.createElement(O.Dialogs,{data:n,type:s,onConfirm:()=>{_({}),m(0),t()},onCancel:()=>{m(0)}}),Le.default.createElement("div",{className:nl.root},e.map((d,p)=>Le.default.createElement(wo,{data:d,key:p,onRepeat:c=>{_(d),m(c)},onClick:()=>{i(d)}}))))},rl=(0,Le.memo)(oa);r();l();var Yo={loading:"_loading_arfpq_1",scrollLoading:"_scrollLoading_arfpq_7"};var ia=({txList:e,isLoading:t,onRepeat:i,txDetailData:n,setTxDetailData:_})=>{let s=(0,zo.useSelector)($t),m=(0,zo.useSelector)(Yt),d=(0,ll.useHistory)(),p=ji(ai),[c,f]=(0,ue.useMemo)(()=>rn(e,s,!0),[e,s]);if(!t&&c.length===0&&f.length===0)return ue.default.createElement(O.Empty,{description:a("wallet_transaction_history_subtitle_no_records")});if(t)return ue.default.createElement(O.Loading,{top:0,className:Yo.loading});if(!Array.isArray(e))return null;let C=T=>{p({button_clicked:"history"}),T?.dexOrderId?d.push(`${Vt}/${T.dexOrderId}`):_(T)};return ue.default.createElement(ue.default.Fragment,null,ue.default.createElement("div",{className:"coin-history__list"},ue.default.createElement(rl,{pendingList:c,onRepeat:i,onClick:C}),ue.default.createElement(il,{completedList:f,onClick:C}),m&&ue.default.createElement(at,{className:Yo.scrollLoading})),ue.default.createElement(Wo,{visible:!!n,params:n,onRefresh:i,onClose:()=>{_(null)}}))},sl=(0,ue.memo)(ia);var na={TxList:sl};r();l();var he=x(w()),al=x(Fe());ct();function YC({scrollContainer:e,selector:t=".tx-history-item-container",index:i=15},n){let _=(0,he.useRef)(null),s=(0,he.useRef)(null),m=(0,al.useSelector)(Ei),d=()=>{if(_.current)if(s.current){let{bottom:E}=_.current.getBoundingClientRect(),{top:g}=s.current.getBoundingClientRect();g>=E&&n()}else n()},p=bt("wallet-transaction",{onError:d}),[c,f]=(0,he.useState)(!1),[C,T]=(0,he.useState)(!1),[v,h]=(0,he.useState)(0);(0,he.useEffect)(()=>{p&&T(!0)},[p]),(0,he.useLayoutEffect)(()=>{let E;if(e){let g=e.querySelectorAll(t);E=ei(()=>{let{bottom:M}=e.getBoundingClientRect(),{top:F}=s.current.getBoundingClientRect();f(F>=M)},200),s.current=g[i],s.current?(E(),e.addEventListener("scroll",E)):f(!0),_.current=e}else f(!0);return()=>{e&&(e.removeEventListener("scroll",E),s.current=null)}},[v,e,t,i,m]),(0,he.useEffect)(()=>{c&&C&&(n&&n(),f(!1),T(!1),h(E=>{let g=E+1;return g>=1e6&&(g=1),g}))},[c,C])}export{rn as a,Wo as b,na as c,Us as d,YC as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-AIFF3X3F.js.map
