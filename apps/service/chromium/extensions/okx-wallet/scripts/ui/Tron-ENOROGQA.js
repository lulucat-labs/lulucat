import{a as co}from"./chunk-BKHV6IBS.js";import{a as mo}from"./chunk-V5PQQDYG.js";import{b as no}from"./chunk-QIAIB722.js";import"./chunk-WGGUVNMX.js";import"./chunk-7H73XLDQ.js";import"./chunk-CUQ3APPN.js";import"./chunk-BAUTUSPJ.js";import"./chunk-4TXBJTY4.js";import"./chunk-JA6DNDTG.js";import"./chunk-7SGHPBSV.js";import{a as so}from"./chunk-CUTSXOOS.js";import{a as u}from"./chunk-ZAFBI5BD.js";import"./chunk-YSW2YY4I.js";import"./chunk-YDKVBWIO.js";import"./chunk-4PFFVHVY.js";import{a as ao}from"./chunk-2QOKJOXY.js";import"./chunk-JSJTP4EG.js";import"./chunk-454I7KWD.js";import"./chunk-R6UCQXIY.js";import{a as h}from"./chunk-DIVFRUSZ.js";import{a as M,c as F,d as I}from"./chunk-NFPXRZGF.js";import"./chunk-7P3TAB2X.js";import"./chunk-F2DBKTIG.js";import{b as B,c as io}from"./chunk-2AZAHALD.js";import"./chunk-UKL67WXA.js";import"./chunk-FGVAAF7J.js";import"./chunk-B2JJAXTZ.js";import{f as T,n as eo}from"./chunk-APUK5GYS.js";import"./chunk-55XCE2ZH.js";import"./chunk-TZ4DRGVV.js";import"./chunk-WVLQP46O.js";import"./chunk-EADI45MC.js";import"./chunk-KLQLZF6P.js";import"./chunk-XZD4GKLJ.js";import"./chunk-QHPYMFK2.js";import{d as to}from"./chunk-F4XZWNG2.js";import"./chunk-G6PPKZHQ.js";import"./chunk-2P7I7CKT.js";import{a as E}from"./chunk-FOZHYRP7.js";import{a as ro}from"./chunk-S3KOFL77.js";import"./chunk-HVQTUZKT.js";import"./chunk-Z6KV2BLE.js";import"./chunk-DXXZWR4J.js";import"./chunk-5HXUZG4A.js";import"./chunk-SBQTMPJM.js";import"./chunk-7YQLUBDN.js";import"./chunk-O43TNQSD.js";import"./chunk-LUYLQDIU.js";import"./chunk-QZXD2Q4G.js";import"./chunk-MIHA7WB3.js";import"./chunk-UEHNGOG4.js";import"./chunk-2NGLDVXQ.js";import"./chunk-RQNRRXKS.js";import"./chunk-2LNDMD6C.js";import"./chunk-OAAPCU3J.js";import"./chunk-PC3VBAVS.js";import"./chunk-T4JYRYUW.js";import"./chunk-XWNVCXH2.js";import"./chunk-76YYXJZQ.js";import"./chunk-WQZIG74O.js";import"./chunk-MFSPDO3X.js";import{b as R}from"./chunk-FUXD4L32.js";import"./chunk-6Y4AAIZN.js";import"./chunk-SIAVCB4G.js";import"./chunk-MNWYB2XY.js";import{h as P,i as $}from"./chunk-KX7CSB3G.js";import"./chunk-AOBCHKFQ.js";import"./chunk-DPRLOZH7.js";import"./chunk-DEQWBIFF.js";import"./chunk-ELJOB4BQ.js";import"./chunk-ELHNWADN.js";import"./chunk-4X3SKD2N.js";import"./chunk-GCAD5G3O.js";import"./chunk-PS6ETN2V.js";import"./chunk-AZYPLE5D.js";import"./chunk-SULFXTUN.js";import"./chunk-OGS4HURJ.js";import"./chunk-T6GLUO36.js";import"./chunk-KOPPPKVA.js";import"./chunk-GRXKA7HE.js";import"./chunk-SNFTVDFG.js";import"./chunk-ZV6IBWDM.js";import"./chunk-F5ELBQNP.js";import"./chunk-HZPID3WW.js";import"./chunk-HZNY4MK4.js";import"./chunk-6CI55CTV.js";import"./chunk-ZZLPMRQY.js";import"./chunk-4HGOSSS7.js";import"./chunk-OIXVONQI.js";import"./chunk-REMRMZNH.js";import{e as w}from"./chunk-74FNJDB7.js";import"./chunk-E75DNWM4.js";import{a as oo}from"./chunk-GOMM7VSE.js";import"./chunk-LTMEFQRN.js";import"./chunk-MSUJSPID.js";import"./chunk-TU5XNYNZ.js";import{a as Z}from"./chunk-MZFOYMI4.js";import"./chunk-EQ275TZX.js";import"./chunk-WSXZYUQ4.js";import"./chunk-JRZXGORL.js";import"./chunk-IRNZUYU4.js";import"./chunk-SFTZ55EP.js";import"./chunk-DZHQUYHS.js";import"./chunk-AUURQ3HI.js";import{Xa as X,cc as ho}from"./chunk-B32MCU7F.js";import"./chunk-QCINCBGO.js";import"./chunk-VOLYN562.js";import"./chunk-VLKJDIZ5.js";import{Ja as L,Na as Io}from"./chunk-N4B7HQY5.js";import"./chunk-TKFT6XV3.js";import"./chunk-MBLN6WQR.js";import"./chunk-XRF6BZHR.js";import{e as z,f as K,h as J}from"./chunk-OWU5GWTN.js";import{M as p,ga as H}from"./chunk-2BGRD7AD.js";import"./chunk-TCJNKUJ2.js";import"./chunk-2UKLMOTV.js";import"./chunk-ZWQEMYA4.js";import"./chunk-ELX2GHLL.js";import{c as Q}from"./chunk-AIPMH74P.js";import"./chunk-DJDG7W5Q.js";import{Ac as wo,Bc as j,Ca as Y,Cc as Mo,Pb as q,_a as yo,hc as So,yc as V}from"./chunk-Q23SA7M6.js";import"./chunk-XXICVAVV.js";import{c as D}from"./chunk-E44TZGUB.js";import{j as S,oa as U}from"./chunk-KBQXBPIW.js";import{O as x,w as m}from"./chunk-364XNTHB.js";import"./chunk-NBWNTERD.js";import"./chunk-GBTEQNFM.js";import"./chunk-QBHNZ2BL.js";import"./chunk-J6E3F25X.js";import{ca as v}from"./chunk-W7JONHX2.js";import"./chunk-O3LHCDGR.js";import{a as C}from"./chunk-PDSGFBX4.js";import"./chunk-GAMT4PKF.js";import"./chunk-R4QAJG6J.js";import"./chunk-LI7MZD2P.js";import"./chunk-WTNDHHRR.js";import"./chunk-CGP26AOO.js";import"./chunk-RXPNGY6Q.js";import"./chunk-2RHSM47Y.js";import"./chunk-ZSUO3ILU.js";import"./chunk-ATMUHCXK.js";import"./chunk-3MCJH4Z7.js";import"./chunk-AGN4QMRN.js";import"./chunk-FV56V3FL.js";import"./chunk-7MZSFBF4.js";import"./chunk-3SRT54EN.js";import"./chunk-J5P7OMUC.js";import"./chunk-KHHBU7RQ.js";import"./chunk-3CPUV3E7.js";import"./chunk-SHMKQUVK.js";import{f as g,o as a,q as n}from"./chunk-FJHLV356.js";a();n();var W=g(C());a();n();var N=g(C());yo();a();n();var k=g(C());wo();Mo();var Eo=({message:t,chainId:o,method:i,originUrl:e})=>{let[c,l]=(0,k.useState)(!0),[d,f]=(0,k.useState)({});return(0,k.useEffect)(()=>{(async()=>{if(o){try{let{data:s}=await V(j.signMessageDataCheck,{data:"",source:2,chainId:o,raw:t,method:i,originUrl:e});f(s)}catch(s){console.log(s)}l(!1)}})()},[o]),{loading:c,signMessageCheckRet:d}},lo=Eo;a();n();var r=g(C());x();So();var No=t=>{let{signMessageCheckRet:o,walletAccount:i,buttonGroup:e,tipMessage:c,message:l,baseCoin:d}=t,{value:f=0}=o.addtion||{},s=q(f,X)?m("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):f,_=h(i.walletId);return r.default.createElement(Q.Container,null,r.default.createElement(oo,{title:m("wallet_extension_popup_btn_approve"),closeable:!1,backable:!1}),r.default.createElement(M,null,r.default.createElement(F,{title:m("extension_approve_maintitle_approve"),summaryList:[{icon:{src:o.tokenIcon||z},title:`${s} ${o.tokenSymbol||""}`,desc:o.tokenAddress}]}),r.default.createElement(F,{title:m("wallet_extension_popup_text_project"),summaryList:[{icon:{src:o.contractIcon||K},title:o.contractName||J,desc:o.contractAddress||""}]})),r.default.createElement(M,null,r.default.createElement(io,{...i,title:m("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{_({trade:"contract_interaction",all_confirmation:"wallet_used_address"})}})),r.default.createElement(M,{bordered:!1},r.default.createElement(mo,{coinId:d?.coinId}),r.default.createElement(so,{data:l,copyable:{hideDesc:!0}})),r.default.createElement(Z,{placeholder:!0,offsetBottom:0,borderTop:!0},r.default.createElement(I,{...c}),r.default.createElement(T,{buttonGroup:e})))},po=No;a();n();var fo=g(C()),uo=g(ho());U();x();Io();var bo=({unapproved:t,walletAccount:o,signMessageCheckRet:i})=>{let e=(0,uo.useDispatch)(),c=h(o?.walletId),l=(0,fo.useCallback)(async()=>{c({trade:"sign",all_confirmation:"cancel",dapp_url:t.origin,network:t.localType}),await e(P(t.id)),await L(e)},[c,e,t.id,t.origin,t.localType]),{loading:d,onClick:f}=B(l),s={btnText:m("wallet_dapp_connection_btn_reject"),actionType:T.ACTION_TYPE.CANCEL,onClick:f,loading:d},_=w(o.initialType),y=async()=>{try{if(!await ro({walletId:t.walletId,callback:async()=>{await e(P(t.id))}}))return;c({trade:"sign",all_confirmation:"confirm",dapp_url:t.origin,network:t.localType}),await e($(t.id)),await L(e)}catch(G){console.log(G)}},{loading:To,onClick:ko}=B(y),b={disabled:_,actionType:T.ACTION_TYPE.CONFIRM,onClick:ko,loading:To},Ao=eo(),O=S(i,"risk_black_list.0");return(i.risk===u.high||O)&&(b.type=v.TYPE.red,b.onClick=async()=>{try{await Ao({isDefraud:!0,address:O,similarType:H.EXACT}),await y()}catch{await l()}}),[s,b]},_o=bo;a();n();U();x();var Go=({unapproved:t,signMessageCheckRet:o})=>{let i=E(t);if(w(i.initialType))return{type:D.TYPE.error,message:m("wallet_extension_top_toast_dapp_comingsoon")};if(o?.risk===u.middle)return{type:D.TYPE.warn,message:m("extension_approve_alert_authorized_tips",{contract:o.contractName,asset:o.tokenSymbol})};if(o?.risk===u.high){let e=S(o,"risk_black_list.0");if(e)return{type:I.TIP_TYPE.DEFRAUD,address:e}}return null},go=Go;var xo=t=>{let{unapproved:o}=t,i=o?.params?.message||"",e=ao(o),c=E(o),l=to(Y)||{},{chainId:d}=l||{},{loading:f,signMessageCheckRet:s}=lo({message:i,chainId:d,originUrl:e.host,method:p.SIGN_MESSAGE}),_=go({unapproved:o,signMessageCheckRet:s}),y=_o({unapproved:o,walletAccount:c,signMessageCheckRet:s});return f?N.default.createElement(R,null):[u.middle,u.high].includes(s?.risk)?N.default.createElement(po,{signMessageCheckRet:s,walletAccount:c,baseCoin:l,message:i,tipMessage:_,buttonGroup:y}):N.default.createElement(co,{needCheckMpc:!0,message:i,unapproved:o,tipMessage:_})},Co=xo;var Ht=({unapproved:t})=>{switch(t.method){case p.SIGN_TRANSACTION:case p.RPC_SIGN_TRANSACTION:case p.SIGN_AND_SEND_TRANSACTION:return W.default.createElement(no,{unapproved:t});case p.SIGN_MESSAGE:case p.RPC_SIGN_MESSAGE:case p.SIGN_MESSAGE_V2:return W.default.createElement(Co,{unapproved:t});default:return""}};export{Ht as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Tron-ENOROGQA.js.map
