import{Ja as l,Na as T,U as F,V as S,W as b,X as R,Y as h,Z as s,_ as f,a as N,ba as K,c as x,j as v,k}from"./chunk-N4B7HQY5.js";import{c as a,d as w,f as O}from"./chunk-TKFT6XV3.js";import{a as _}from"./chunk-2RHSM47Y.js";import{f as y,o as p,q as A}from"./chunk-FJHLV356.js";p();A();var d=y(N());O();K();T();F();var M=y(_());async function D(){return await w().getAllWalletsBalance()}async function X(){return await w().getCurrentWalletBalance()}function P(e,...n){return t=>{let r;return new Promise((o,u)=>{e(...n,(i,c)=>{if(!(0,M.isNil)(i)){u(i);return}r=c,o()})}).then(async()=>(await l(t),r)).catch(async o=>(await l(t),t(f(o.message)),Promise.reject(o)))}}function j(e=!0){return{type:x,value:e}}function W(){return e=>new Promise(n=>{a().unMarkPasswordForgotten(()=>{e(j(!1)),n()})}).then(()=>l(e))}function q(){return async e=>{try{await new Promise((n,t)=>a().markPasswordForgotten(r=>{if(r){t(r);return}n()}))}finally{e(s()),e(j()),await l(e)}}}function z(){return P(a().createWallet)}function J(...e){return n=>new Promise((t,r)=>{a().importWalletWithMnemonic(...e,(o,u)=>{if(o){r(o);return}t(u)})}).then(async t=>(await l(n),t)).catch(t=>Promise.reject(t))}function Q(...e){return P(a().importWalletWithPrivateKey,...e)}function V(...e){return P(a().removeAccountByAccountId,...e)}function Y(...e){return P(a().removeWalletsByGroupId,...e)}function Z(...e){return P(a().updateWalletAddress,...e)}function $(e,n){return t=>{let r;return new Promise((o,u)=>{a().setSelectedWallet(e,(i,c)=>{if(i){u(i);return}r=c,o()})}).then(async()=>(await l(t),r)).catch(async o=>(await l(t),t(f(o.message)),Promise.reject(o)))}}function ee(e){return n=>(n(S()),new Promise((t,r)=>{a().submitPassword(e,o=>{if(o){r(o);return}t()})}).then(()=>(n(R()),l(n))).catch(t=>(n(b(t.message)),Promise.reject(t))))}function te(e){return n=>{d.default.debug("background.createWalletAndRestore");let t;return new Promise((r,o)=>{a().createWalletAndRestore(e,(u,i)=>{if(u){o(u);return}t=i,r()})}).then(()=>n(W())).then(()=>(n(I()),t)).catch(r=>(n(f(r.message)),Promise.reject(r)))}}function re(e,n,t={}){return r=>{d.default.debug("background.importWalletWithMnemonicAndRestore");let o;return new Promise((u,i)=>{a().importWalletWithMnemonicAndRestore(e,n,t,(c,m)=>{if(c){i(c);return}o=m,u()})}).then(()=>r(W())).then(()=>(r(I()),o)).catch(u=>(r(f(u.message)),Promise.reject(u)))}}function ne(e,n,{noticeBackend:t=!1}={}){return r=>{d.default.debug("background.importWalletWithPrivateKeyAndRestore");let o;return new Promise((u,i)=>{a().importWalletWithPrivateKeyAndRestore(e,n,{noticeBackend:t},(c,m)=>{if(c){i(c);return}o=m,u()})}).then(()=>r(W())).then(()=>(r(s()),o)).catch(u=>(r(s()),Promise.reject(u)))}}function oe(e,{cipherText:n,privateKey:t},r,o){return u=>{!o&&u(h()),d.default.debug("background.importWalletWithMpcAndRestore");let i;return new Promise((c,m)=>{a().importWalletWithMpcAndRestore(e,{cipherText:n,privateKey:t},r,(g,B)=>{if(g){m(g);return}i=B,c()})}).then(()=>u(W())).then(()=>(u(s()),i)).catch(c=>(u(s()),Promise.reject(c)))}}function ue(e){return new Promise((n,t)=>{a().verifyPassword(e,r=>{if(r){t(r);return}n(!0)})})}function ae(e,n){return async t=>{await new Promise((r,o)=>{a().addPermittedAccount(e,n,u=>{if(u){o(u);return}r()})}),await l(t)}}function ie(e,n){return async t=>{await new Promise((r,o)=>{a().removePermittedAccount(e,n,u=>{if(u){o(u);return}r()})}),await l(t)}}function I(){return{type:v}}function ce({id:e}={}){return{type:k,id:e}}export{D as a,X as b,q as c,z as d,J as e,Q as f,V as g,Y as h,Z as i,$ as j,ee as k,te as l,re as m,ne as n,oe as o,ue as p,ae as q,ie as r,ce as s};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-LTMEFQRN.js.map
